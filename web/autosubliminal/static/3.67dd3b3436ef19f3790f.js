(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"0xr8":function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i("fXoL"),r=i("3Pt+"),s=i("QlUG"),o=i("lVkt"),a=i("7zfz"),l=i("ofXK");function c(t,e){if(1&t){const t=n.Qb();n.Pb(0,"span",4),n.Pb(1,"span",5),n.yc(2),n.Ob(),n.Pb(3,"span",6),n.Wb("click",(function(){n.qc(t);const i=e.$implicit;return n.Yb(2).removeItem(i)})),n.Kb(4,"i",7),n.Ob(),n.Ob()}if(2&t){const t=e.$implicit;n.yb(2),n.zc(t)}}function u(t,e){if(1&t&&(n.Pb(0,"span"),n.yc(1),n.Ob()),2&t){const t=n.Yb(2);n.yb(1),n.zc(t.placeholder)}}function b(t,e){if(1&t&&(n.wc(0,c,5,1,"span",2),n.wc(1,u,2,1,"span",3)),2&t){const t=e.$implicit;n.dc("ngForOf",t),n.yb(1),n.dc("ngIf",!t||0===t.length)}}let h=(()=>{class t extends s.a{constructor(t){super(t),this.controlContainer=t,this.placeholder="Select items"}ngOnInit(){}removeItem(t){this.control.setValue(this.control.value.filter(e=>e!==t))}}return t.\u0275fac=function(e){return new(e||t)(n.Jb(r.a))},t.\u0275cmp=n.Db({type:t,selectors:[["app-input-multi-select"]],inputs:{options:"options",placeholder:"placeholder"},features:[n.xb([{provide:r.i,useExisting:Object(n.S)(()=>t),multi:!0}]),n.vb],decls:2,vars:4,consts:[["filterBy","label,value","appendTo","body","styleClass","w-100",3,"options","formControl","placeholder","filter"],["pTemplate","selectedItems"],["class","mr-2",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"mr-2"],[1,"p-tag","p-tag-secondary","p-tag-small"],[1,"p-tag","p-tag-secondary","p-tag-small","p-tag-icon",3,"click"],["aria-hidden","true","title","Click to remove item",1,"pi","pi-times"]],template:function(t,e){1&t&&(n.Pb(0,"p-multiSelect",0),n.wc(1,b,2,2,"ng-template",1),n.Ob()),2&t&&n.dc("options",e.options)("formControl",e.control)("placeholder",e.placeholder)("filter",!0)},directives:[o.a,r.j,r.d,a.f,l.i,l.j],styles:[".p-tag[_ngcontent-%COMP%]{cursor:default;border-radius:.25rem 0 0 .25rem}.p-tag.p-tag-icon[_ngcontent-%COMP%]{cursor:pointer;border-radius:0 .25rem .25rem 0}.p-tag.p-tag-icon[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.5)}.p-tag.p-tag-icon[_ngcontent-%COMP%]   .pi.pi-times[_ngcontent-%COMP%]{font-size:.5rem}[_nghost-%COMP%]     .p-multiselect .p-multiselect-label{display:flex;flex-wrap:wrap}"]}),t})()},"2gWB":function(t,e,i){"use strict";i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o}));var n=i("tlyu");class r{constructor(t){Object.assign(this,t)}}class s{constructor(t){Object.assign(this,t),this.settings&&(this.settings=new o(this.settings)),this.files&&(this.files=this.files.map(t=>new a(t)))}get name(){return`${this.title} (${this.year})`}}class o{constructor(t){Object.assign(this,t)}}class a{constructor(t){Object.assign(this,t)}get isVideo(){return this.type===n.a.VIDEO}get isSubtitle(){return this.type===n.a.SUBTITLE}get internalLanguagesAvailable(){let t=!1;return(this.hardcodedLanguages&&this.hardcodedLanguages.length>0||this.embeddedLanguages&&this.embeddedLanguages.length>0)&&(t=!0),t}}},AC9d:function(t,e){var i=function(t,e){var i,n,r=1,s=0,o=0,a=String.alphabet;function l(t,e,n){if(n){for(i=e;(n=l(t,i))<76&&n>65;)++i;return+t.slice(e-1,i)}return(n=a&&a.indexOf(t.charAt(e)))>-1?n+76:(n=t.charCodeAt(e)||0)<45||n>127?n:n<46?65:n<48?n-1:n<58?n+18:n<65?n-11:n<91?n+11:n<97?n-37:n<123?n+5:n-63}if((t+="")!=(e+=""))for(;r;)if(n=l(t,s++),r=l(e,o++),n<76&&r<76&&n>66&&r>66&&(n=l(t,s,s),r=l(e,o,s=i),o=i),n!=r)return n<r?-1:1;return 0};try{t.exports=i}catch(n){String.naturalCompare=i}},BO83:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("lJxs"),r=i("NMGg"),s=i("2gWB"),o=i("XJcI"),a=i("fXoL"),l=i("tk/3");let c=(()=>{class t extends o.a{constructor(t){super(t),this.httpClient=t,this.URL=r.b.webRoot+"/api/movies"}getMoviesOverview(){return this.httpClient.get(this.URL+"/overview",this.options).pipe(Object(n.a)(t=>new s.c(t)))}getMovies(){return this.httpClient.get(this.URL,this.options).pipe(Object(n.a)(t=>t.map(t=>new s.a(t))))}getMovieDetails(t){return this.httpClient.get(`${this.URL}/${t}`,this.options).pipe(Object(n.a)(t=>new s.a(t)))}refreshMovieDetails(t){return this.httpClient.put(`${this.URL}/${t}/refresh`,{},this.options).pipe(Object(n.a)(()=>!0))}getMovieSettings(t){return this.httpClient.get(`${this.URL}/${t}/settings`,this.options).pipe(Object(n.a)(t=>new s.b(t)))}saveMovieSettings(t,e){return this.httpClient.put(`${this.URL}/${t}/settings`,JSON.stringify(e),this.options).pipe(Object(n.a)(()=>!0))}saveMovieHardcodedSubtitles(t,e){return this.httpClient.put(`${this.URL}/${t}/subtitles/hardcoded`,JSON.stringify(e),this.options).pipe(Object(n.a)(()=>!0))}deleteMovie(t){return this.httpClient.delete(`${this.URL}/${t}`,this.options).pipe(Object(n.a)(()=>!0))}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(l.a))},t.\u0275prov=a.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},DRzA:function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var n=i("fXoL"),r=i("3Pt+"),s=i("Q3UJ"),o=i("hNjJ"),a=i("WJeX"),l=i("GPj8"),c=i("VdJK"),u=i("acRR"),b=i("/RsI"),h=i("ofXK"),d=i("7zfz"),p=i("wf0l"),g=i("MC25"),f=i("0xr8"),v=i("+U8u"),m=i("jIHw");function w(t,e){if(1&t&&(n.Pb(0,"form",3),n.Pb(1,"div",4),n.Pb(2,"div",5),n.Pb(3,"div",6),n.Pb(4,"div",7),n.Kb(5,"img",8),n.Ob(),n.Pb(6,"div",9),n.Pb(7,"div",10),n.Pb(8,"div",11),n.Pb(9,"div"),n.yc(10),n.Ob(),n.Ob(),n.Ob(),n.Pb(11,"div",10),n.Pb(12,"div",12),n.Kb(13,"hr"),n.Ob(),n.Ob(),n.Pb(14,"div",10),n.Pb(15,"div",12),n.Pb(16,"div",10),n.Pb(17,"div",13),n.Pb(18,"label",14),n.yc(19,"Wanted languages"),n.Ob(),n.Pb(20,"app-icon-dropdown"),n.Pb(21,"li"),n.yc(22,"The list of wanted subtitle languages for the show."),n.Ob(),n.Pb(23,"li"),n.yc(24,"This replaces the globally configured languages, but only for this show."),n.Ob(),n.Ob(),n.Ob(),n.Pb(25,"div",15),n.Kb(26,"app-input-multi-select",16),n.Ob(),n.Ob(),n.Pb(27,"div",10),n.Pb(28,"div",17),n.Pb(29,"label",18),n.yc(30,"Refine video"),n.Ob(),n.Pb(31,"app-icon-dropdown"),n.Pb(32,"li"),n.yc(33,"When enabled, subliminal will enable 'refiners' to enrich the video meta-data before searching for subtitles."),n.Ob(),n.Pb(34,"li"),n.yc(35,"This can result in a higher score matching and thus a higher automatic subtitle download."),n.Ob(),n.Ob(),n.Ob(),n.Pb(36,"div",19),n.Kb(37,"app-input-switch",20),n.Ob(),n.Ob(),n.Pb(38,"div",10),n.Pb(39,"div",17),n.Pb(40,"label",21),n.yc(41,"Prefer hearing impaired subs"),n.Ob(),n.Pb(42,"app-icon-dropdown"),n.Pb(43,"li"),n.yc(44,"When enabled, 'hearing impaired' subtitles will be preferred over 'regular' subtitles."),n.Ob(),n.Ob(),n.Ob(),n.Pb(45,"div",19),n.Kb(46,"app-input-switch",22),n.Ob(),n.Ob(),n.Pb(47,"div",10),n.Pb(48,"div",17),n.Pb(49,"label",23),n.yc(50,"Save subtitles in utf-8 encoding"),n.Ob(),n.Pb(51,"app-icon-dropdown"),n.Pb(52,"li"),n.yc(53,"When enabled, all subtitles will be saved in utf-8 encoding."),n.Ob(),n.Pb(54,"li"),n.yc(55,"When disabled, the original encoding of the subtitle is used."),n.Ob(),n.Ob(),n.Ob(),n.Pb(56,"div",19),n.Kb(57,"app-input-switch",24),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob()),2&t){const t=n.Yb();n.dc("formGroup",t.settingsForm),n.yb(5),n.dc("lazyLoad",t.getShowPosterThumbnailUrl())("defaultImage",t.getPosterPlaceholderUrl()),n.yb(5),n.zc(t.title),n.yb(16),n.dc("options",t.languages)}}function O(t,e){if(1&t){const t=n.Qb();n.Pb(0,"p-button",25),n.Wb("click",(function(){return n.qc(t),n.Yb().close()})),n.Ob(),n.Pb(1,"p-button",26),n.Wb("click",(function(){return n.qc(t),n.Yb().saveShowSettings()})),n.Ob()}}let y=(()=>{class t{constructor(t,e,i,r){this.fb=t,this.showService=e,this.artworkService=i,this.messageService=r,this.visible=!1,this.visibleChange=new n.n,this.loaded=!1}ngOnInit(){this.languages=o.a.languageSelectItems(),this.showSettings?(this.buildForm(this.showSettings),this.loaded=!0):this.showService.getShowSettings(this.tvdbId).subscribe(t=>{this.buildForm(t),this.loaded=!0},()=>this.messageService.showErrorMessage("Unable to get the show settings!"))}buildForm(t){this.settingsForm=this.fb.group({wantedLanguages:[t.wantedLanguages||[],[r.n.required,a.a.notEmpty]],refine:[t.refine,[r.n.required]],hearingImpaired:[t.hearingImpaired,[r.n.required]],utf8Encoding:[t.utf8Encoding,[r.n.required]]})}getShowPosterThumbnailUrl(){return this.artworkService.getShowPosterThumbnailUrl(this.tvdbId)}getPosterPlaceholderUrl(){return"assets/poster-placeholder.jpg"}saveShowSettings(){this.showService.saveShowSettings(this.tvdbId,this.getShowSettings()).subscribe(()=>{this.messageService.showSuccessMessage("Show settings saved and will be applied on next disk scan."),this.close()},()=>this.messageService.showErrorMessage("Unable to save the show settings!"))}getShowSettings(){const t=new s.b;return t.wantedLanguages=o.a.getFormControlValue(this.settingsForm,"wantedLanguages"),t.refine=o.a.getFormControlValue(this.settingsForm,"refine"),t.hearingImpaired=o.a.getFormControlValue(this.settingsForm,"hearingImpaired"),t.utf8Encoding=o.a.getFormControlValue(this.settingsForm,"utf8Encoding"),t}close(){this.visibleChange.emit(!1)}}return t.\u0275fac=function(e){return new(e||t)(n.Jb(r.c),n.Jb(l.a),n.Jb(c.a),n.Jb(u.a))},t.\u0275cmp=n.Db({type:t,selectors:[["app-show-settings"]],inputs:{visible:"visible",tvdbId:"tvdbId",title:"title",showSettings:"showSettings"},outputs:{visibleChange:"visibleChange"},decls:3,vars:5,consts:[["header","Show settings","styleClass","dialog-settings",3,"visible","modal","closable","resizable","visibleChange"],["class","form",3,"formGroup",4,"ngIf"],["pTemplate","footer"],[1,"form",3,"formGroup"],[1,"settings-container"],[1,"row"],[1,"col-12","settings-info-container"],[1,"settings-info-poster"],[1,"settings-info-poster-image",3,"lazyLoad","defaultImage"],[1,"settings-info"],[1,"row","form-row"],[1,"col-12","settings-info-title"],[1,"col-12"],[1,"col-12","col-sm-5","form-row-label"],["for","wantedLanguages",1,"label"],[1,"col-12","col-sm-7"],["formControlName","wantedLanguages","placeholder","Select languages",3,"options"],[1,"col-10","form-row-label"],["for","refine",1,"label"],[1,"col-2","flex-right"],["formControlName","refine"],["for","hearingImpaired",1,"label"],["formControlName","hearingImpaired"],["for","utf8Encoding",1,"label"],["formControlName","utf8Encoding"],["icon","pi pi-times","label","Cancel","styleClass","p-button p-button-secondary",3,"click"],["icon","pi pi-check","label","Save","styleClass","p-button mr-0",3,"click"]],template:function(t,e){1&t&&(n.Pb(0,"p-dialog",0),n.Wb("visibleChange",(function(t){return e.visible&&(e.loaded=t)})),n.wc(1,w,58,5,"form",1),n.wc(2,O,2,0,"ng-template",2),n.Ob()),2&t&&(n.dc("visible",e.visible&&e.loaded)("modal",!0)("closable",!1)("resizable",!1),n.yb(1),n.dc("ngIf",e.settingsForm))},directives:[b.a,h.j,d.f,r.o,r.k,r.f,p.a,g.a,f.a,r.j,r.e,v.a,m.a],styles:[""]}),t})()},GPj8:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("lJxs"),r=i("NMGg"),s=i("Q3UJ"),o=i("XJcI"),a=i("fXoL"),l=i("tk/3");let c=(()=>{class t extends o.a{constructor(t){super(t),this.httpClient=t,this.URL=r.b.webRoot+"/api/shows"}getShowsOverview(){return this.httpClient.get(this.URL+"/overview",this.options).pipe(Object(n.a)(t=>new s.c(t)))}getShows(){return this.httpClient.get(this.URL,this.options).pipe(Object(n.a)(t=>t.map(t=>new s.a(t))))}getShowDetails(t){return this.httpClient.get(`${this.URL}/${t}`,this.options).pipe(Object(n.a)(t=>new s.a(t)))}refreshShowDetails(t){return this.httpClient.put(`${this.URL}/${t}/refresh`,{},this.options).pipe(Object(n.a)(()=>!0))}getShowSettings(t){return this.httpClient.get(`${this.URL}/${t}/settings`,this.options).pipe(Object(n.a)(t=>new s.b(t)))}saveShowSettings(t,e){return this.httpClient.put(`${this.URL}/${t}/settings`,JSON.stringify(e),this.options).pipe(Object(n.a)(()=>!0))}saveShowHardcodedSubtitles(t,e,i){return this.httpClient.put(`${this.URL}/${t}/subtitles/hardcoded/${e}`,JSON.stringify(i),this.options).pipe(Object(n.a)(()=>!0))}deleteShow(t){return this.httpClient.delete(`${this.URL}/${t}`,this.options).pipe(Object(n.a)(()=>!0))}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(l.a))},t.\u0275prov=a.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},JvaJ:function(t,e,i){"use strict";i.d(e,"a",(function(){return H}));var n,r=Array.isArray,s="object"==typeof global&&global&&global.Object===Object&&global,o="object"==typeof self&&self&&self.Object===Object&&self,a=s||o||Function("return this")(),l=a.Symbol,c=Object.prototype,u=c.hasOwnProperty,b=c.toString,h=l?l.toStringTag:void 0,d=Object.prototype.toString,p=l?l.toStringTag:void 0,g=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":p&&p in Object(t)?function(t){var e=u.call(t,h),i=t[h];try{t[h]=void 0;var n=!0}catch(s){}var r=b.call(t);return n&&(e?t[h]=i:delete t[h]),r}(t):function(t){return d.call(t)}(t)},f=function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==g(t)},v=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m=/^\w*$/,w=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},O=a["__core-js_shared__"],y=(n=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",P=Function.prototype.toString,S=/^\[object .+?Constructor\]$/,C=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=function(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!w(t)||(e=t,y&&y in e))&&(function(t){if(!w(t))return!1;var e=g(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}(t)?C:S).test(function(t){if(null!=t){try{return P.call(t)}catch(e){}try{return t+""}catch(e){}}return""}(t));var e}(i)?i:void 0},j=_(Object,"create"),I=Object.prototype.hasOwnProperty,$=Object.prototype.hasOwnProperty;function L(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}L.prototype.clear=function(){this.__data__=j?j(null):{},this.size=0},L.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},L.prototype.get=function(t){var e=this.__data__;if(j){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return I.call(e,t)?e[t]:void 0},L.prototype.has=function(t){var e=this.__data__;return j?void 0!==e[t]:$.call(e,t)},L.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=j&&void 0===e?"__lodash_hash_undefined__":e,this};var M=L,U=function(t,e){for(var i=t.length;i--;)if((n=t[i][0])===(r=e)||n!=n&&r!=r)return i;var n,r;return-1},F=Array.prototype.splice;function k(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}k.prototype.clear=function(){this.__data__=[],this.size=0},k.prototype.delete=function(t){var e=this.__data__,i=U(e,t);return!(i<0||(i==e.length-1?e.pop():F.call(e,i,1),--this.size,0))},k.prototype.get=function(t){var e=this.__data__,i=U(e,t);return i<0?void 0:e[i][1]},k.prototype.has=function(t){return U(this.__data__,t)>-1},k.prototype.set=function(t,e){var i=this.__data__,n=U(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this};var z=k,R=_(a,"Map"),T=function(t,e){var i,n,r=t.__data__;return("string"==(n=typeof(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?r["string"==typeof e?"string":"hash"]:r.map};function E(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}E.prototype.clear=function(){this.size=0,this.__data__={hash:new M,map:new(R||z),string:new M}},E.prototype.delete=function(t){var e=T(this,t).delete(t);return this.size-=e?1:0,e},E.prototype.get=function(t){return T(this,t).get(t)},E.prototype.has=function(t){return T(this,t).has(t)},E.prototype.set=function(t,e){var i=T(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this};var J=E;function x(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var i=function(){var n=arguments,r=e?e.apply(this,n):n[0],s=i.cache;if(s.has(r))return s.get(r);var o=t.apply(this,n);return i.cache=s.set(r,o)||s,o};return i.cache=new(x.Cache||J),i}x.Cache=J;var K,V,W=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N=/\\(\\)?/g,G=(K=x((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(W,(function(t,i,n,r){e.push(n?r.replace(N,"$1"):i||t)})),e}),(function(t){return 500===V.size&&V.clear(),t})),V=K.cache,K),X=l?l.prototype:void 0,D=X?X.toString:void 0,q=function(t,e){return r(t)?t:function(t,e){if(r(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!f(t))||m.test(t)||!v.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:G(function(t){return null==t?"":function t(e){if("string"==typeof e)return e;if(r(e))return function(t,e){for(var i=-1,n=null==t?0:t.length,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}(e,t)+"";if(f(e))return D?D.call(e):"";var i=e+"";return"0"==i&&1/e==-1/0?"-0":i}(t)}(t))},A=function(t){if("string"==typeof t||f(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},B=function(t,e,i){var n=null==t?void 0:function(t,e){for(var i=0,n=(e=q(e,t)).length;null!=t&&i<n;)t=t[A(e[i++])];return i&&i==n?t:void 0}(t,e);return void 0===n?i:n},Y=i("AC9d"),Q=i.n(Y);function H(t){t.data.sort((e,i)=>{let n;const r=B(e,t.field),s=B(i,t.field);return n=null==r&&null!=s?-1:null!=r&&null==s?1:null==r&&null==s?0:"string"==typeof r&&"string"==typeof s?Q()(r,s):r<s?-1:r>s?1:0,t.order*n})}},M3oc:function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var n=i("fXoL"),r=i("3Pt+"),s=i("2gWB"),o=i("hNjJ"),a=i("WJeX"),l=i("BO83"),c=i("VdJK"),u=i("acRR"),b=i("/RsI"),h=i("ofXK"),d=i("7zfz"),p=i("wf0l"),g=i("MC25"),f=i("0xr8"),v=i("+U8u"),m=i("jIHw");function w(t,e){if(1&t&&(n.Pb(0,"form",3),n.Pb(1,"div",4),n.Pb(2,"div",5),n.Pb(3,"div",6),n.Pb(4,"div",7),n.Kb(5,"img",8),n.Ob(),n.Pb(6,"div",9),n.Pb(7,"div",10),n.Pb(8,"div",11),n.Pb(9,"div"),n.yc(10),n.Ob(),n.Ob(),n.Ob(),n.Pb(11,"div",10),n.Pb(12,"div",12),n.Kb(13,"hr"),n.Ob(),n.Ob(),n.Pb(14,"div",10),n.Pb(15,"div",12),n.Pb(16,"div",10),n.Pb(17,"div",13),n.Pb(18,"label",14),n.yc(19,"Wanted languages"),n.Ob(),n.Pb(20,"app-icon-dropdown"),n.Pb(21,"li"),n.yc(22,"The list of wanted subtitle languages for the movie."),n.Ob(),n.Pb(23,"li"),n.yc(24,"This replaces the globally configured languages, but only for this movie."),n.Ob(),n.Ob(),n.Ob(),n.Pb(25,"div",15),n.Kb(26,"app-input-multi-select",16),n.Ob(),n.Ob(),n.Pb(27,"div",10),n.Pb(28,"div",17),n.Pb(29,"label",18),n.yc(30,"Refine video"),n.Ob(),n.Pb(31,"app-icon-dropdown"),n.Pb(32,"li"),n.yc(33,"When enabled, subliminal will enable 'refiners' to enrich the video meta-data before searching for subtitles."),n.Ob(),n.Pb(34,"li"),n.yc(35,"This can result in a higher score matching and thus a higher automatic subtitle download."),n.Ob(),n.Ob(),n.Ob(),n.Pb(36,"div",19),n.Kb(37,"app-input-switch",20),n.Ob(),n.Ob(),n.Pb(38,"div",10),n.Pb(39,"div",17),n.Pb(40,"label",21),n.yc(41,"Prefer hearing impaired subs"),n.Ob(),n.Pb(42,"app-icon-dropdown"),n.Pb(43,"li"),n.yc(44,"When enabled, 'hearing impaired' subtitles will be preferred over 'regular' subtitles."),n.Ob(),n.Ob(),n.Ob(),n.Pb(45,"div",19),n.Kb(46,"app-input-switch",22),n.Ob(),n.Ob(),n.Pb(47,"div",10),n.Pb(48,"div",17),n.Pb(49,"label",23),n.yc(50,"Save subtitles in utf-8 encoding"),n.Ob(),n.Pb(51,"app-icon-dropdown"),n.Pb(52,"li"),n.yc(53,"When enabled, all subtitles will be saved in utf-8 encoding."),n.Ob(),n.Pb(54,"li"),n.yc(55,"When disabled, the original encoding of the subtitle is used."),n.Ob(),n.Ob(),n.Ob(),n.Pb(56,"div",19),n.Kb(57,"app-input-switch",24),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob()),2&t){const t=n.Yb();n.dc("formGroup",t.settingsForm),n.yb(5),n.dc("lazyLoad",t.getMoviePosterThumbnailUrl())("defaultImage",t.getPosterPlaceholderUrl()),n.yb(5),n.zc(t.title),n.yb(16),n.dc("options",t.languages)}}function O(t,e){if(1&t){const t=n.Qb();n.Pb(0,"p-button",25),n.Wb("click",(function(){return n.qc(t),n.Yb().close()})),n.Ob(),n.Pb(1,"p-button",26),n.Wb("click",(function(){return n.qc(t),n.Yb().saveMovieSettings()})),n.Ob()}}let y=(()=>{class t{constructor(t,e,i,r){this.fb=t,this.movieService=e,this.artworkService=i,this.messageService=r,this.visible=!1,this.visibleChange=new n.n,this.loaded=!1}ngOnInit(){this.languages=o.a.languageSelectItems(),this.movieSettings?(this.buildForm(this.movieSettings),this.loaded=!0):this.movieService.getMovieSettings(this.imdbId).subscribe(t=>{this.buildForm(t),this.loaded=!0},()=>this.messageService.showErrorMessage("Unable to get the movie settings!"))}buildForm(t){this.settingsForm=this.fb.group({wantedLanguages:[t.wantedLanguages||[],[r.n.required,a.a.notEmpty]],refine:[t.refine,[r.n.required]],hearingImpaired:[t.hearingImpaired,[r.n.required]],utf8Encoding:[t.utf8Encoding||[r.n.required]]})}getMoviePosterThumbnailUrl(){return this.artworkService.getMoviePosterThumbnailUrl(this.imdbId)}getPosterPlaceholderUrl(){return"assets/poster-placeholder.jpg"}saveMovieSettings(){this.movieService.saveMovieSettings(this.imdbId,this.getMovieSettings()).subscribe(()=>{this.messageService.showSuccessMessage("Move settings saved and will be applied on next disk scan."),this.close()},()=>this.messageService.showErrorMessage("Unable to save the movie settings!"))}getMovieSettings(){const t=new s.b;return t.wantedLanguages=o.a.getFormControlValue(this.settingsForm,"wantedLanguages"),t.refine=o.a.getFormControlValue(this.settingsForm,"refine"),t.hearingImpaired=o.a.getFormControlValue(this.settingsForm,"hearingImpaired"),t.utf8Encoding=o.a.getFormControlValue(this.settingsForm,"utf8Encoding"),t}close(){this.visibleChange.emit(!1)}}return t.\u0275fac=function(e){return new(e||t)(n.Jb(r.c),n.Jb(l.a),n.Jb(c.a),n.Jb(u.a))},t.\u0275cmp=n.Db({type:t,selectors:[["app-movie-settings"]],inputs:{visible:"visible",imdbId:"imdbId",title:"title",movieSettings:"movieSettings"},outputs:{visibleChange:"visibleChange"},decls:3,vars:5,consts:[["header","Movie settings","styleClass","dialog-settings",3,"visible","modal","closable","resizable","visibleChange"],["class","form",3,"formGroup",4,"ngIf"],["pTemplate","footer"],[1,"form",3,"formGroup"],[1,"settings-container"],[1,"row"],[1,"col-12","settings-info-container"],[1,"settings-info-poster"],[1,"settings-info-poster-image",3,"lazyLoad","defaultImage"],[1,"settings-info"],[1,"row","form-row"],[1,"col-12","settings-info-title"],[1,"col-12"],[1,"col-12","col-sm-5","form-row-label"],["for","wantedLanguages",1,"label"],[1,"col-12","col-sm-7"],["formControlName","wantedLanguages","placeholder","Select languages",3,"options"],[1,"col-10","form-row-label"],["for","refine",1,"label"],[1,"col-2","flex-right"],["formControlName","refine"],["for","hearingImpaired",1,"label"],["formControlName","hearingImpaired"],["for","utf8Encoding",1,"label"],["formControlName","utf8Encoding"],["icon","pi pi-times","label","Cancel","styleClass","p-button p-button-secondary",3,"click"],["icon","pi pi-check","label","Save","styleClass","p-button mr-0",3,"click"]],template:function(t,e){1&t&&(n.Pb(0,"p-dialog",0),n.Wb("visibleChange",(function(t){return e.visible&&(e.loaded=t)})),n.wc(1,w,58,5,"form",1),n.wc(2,O,2,0,"ng-template",2),n.Ob()),2&t&&(n.dc("visible",e.visible&&e.loaded)("modal",!0)("closable",!1)("resizable",!1),n.yb(1),n.dc("ngIf",e.settingsForm))},directives:[b.a,h.j,d.f,r.o,r.k,r.f,p.a,g.a,f.a,r.j,r.e,v.a,m.a],styles:[""]}),t})()},Q3UJ:function(t,e,i){"use strict";i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o}));var n=i("tlyu");class r{constructor(t){Object.assign(this,t)}}class s{constructor(t){Object.assign(this,t),this.settings&&(this.settings=new o(this.settings)),this.seasons&&(this.seasons=this.seasons.map(t=>new a(t)))}get name(){return`${this.title} (${this.year})`}}class o{constructor(t){Object.assign(this,t)}}class a{constructor(t){Object.assign(this,t),this.files&&(this.files=this.files.map(t=>new l(t)))}}class l{constructor(t){Object.assign(this,t)}get isVideo(){return this.type===n.a.VIDEO}get isSubtitle(){return this.type===n.a.SUBTITLE}get internalLanguagesAvailable(){let t=!1;return(this.hardcodedLanguages&&this.hardcodedLanguages.length>0||this.embeddedLanguages&&this.embeddedLanguages.length>0)&&(t=!0),t}}},VdJK:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("NMGg"),r=i("fXoL");let s=(()=>{class t{getShowBannerThumbnailUrl(t){return`${n.b.webRoot}/artwork/tvdb/banner/thumbnail/${t}`}getShowBannerFullSizeUrl(t){return`${n.b.webRoot}/artwork/tvdb/banner/fullsize/${t}`}getShowPosterThumbnailUrl(t){return`${n.b.webRoot}/artwork/tvdb/poster/thumbnail/${t}`}getShowPosterFullSizeUrl(t){return`${n.b.webRoot}/artwork/tvdb/poster/fullsize/${t}`}getMoviePosterThumbnailUrl(t){return`${n.b.webRoot}/artwork/imdb/poster/thumbnail/${t}`}getMoviePosterFullSizeUrl(t){return`${n.b.webRoot}/artwork/imdb/poster/fullsize/${t}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},ZjcB:function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n=i("S7Lt"),r=i("fXoL"),s=i("ofXK"),o=i("dts7"),a=i("7zfz");function l(t,e){1&t&&r.bc(0)}function c(t,e){if(1&t&&(r.Pb(0,"div",1),r.Pb(1,"div",2),r.Pb(2,"p-messages",3),r.wc(3,l,1,0,"ng-template",4),r.Ob(),r.Ob(),r.Ob()),2&t){const t=r.Yb();r.yb(2),r.dc("severity",t.severity)}}const u=["*"];let b=(()=>{class t{constructor(){this.visible=!1,this.severity=n.a.INFO}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-message"]],inputs:{visible:"visible",severity:"severity"},ngContentSelectors:u,decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-12","mb-3"],[3,"severity"],["pTemplate",""]],template:function(t,e){1&t&&(r.cc(),r.wc(0,c,4,1,"div",0)),2&t&&r.dc("ngIf",e.visible)},directives:[s.j,o.a,a.f],styles:[""]}),t})()},Zpym:function(t,e,i){"use strict";i.d(e,"e",(function(){return r})),i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return o})),i.d(e,"f",(function(){return a})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return c}));var n=i("NMGg");function r(){return"assets/poster-placeholder.jpg"}function s(){return"assets/banner-placeholder.jpg"}function o(t){return`${n.b.dereferUrl}${t}`}function a(t){return o(`${n.b.tvdbUrl}${t}`)}function l(t){return o(`${n.b.imdbUrl}${t}`)}function c(t,e){return`playvideo://${t}${n.b.pathSeparator}${e}`}},eZR5:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r}));class n{constructor(t){Object.assign(this,t)}}var r=function(t){return t.EPISODE="episode",t.MOVIE="movie",t}({})},noUC:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("fXoL"),r=i("3Pt+"),s=i("7kUa"),o=i("jIHw");let a=(()=>{class t{constructor(){this.matchMode="contains",this.filterValue=""}ngOnInit(){if(this.tableStateKey){const t=JSON.parse(localStorage.getItem(this.tableStateKey));t&&t.filters&&t.filters.global&&(this.filterValue=t.filters.global.value,this.matchMode=t.filters.global.matchMode)}}clearTableFilter(){this.filterValue="",this.table.filterGlobal(this.filterValue,this.matchMode)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Db({type:t,selectors:[["app-table-filter"]],inputs:{table:"table",tableStateKey:"tableStateKey",matchMode:"matchMode"},decls:5,vars:1,consts:[[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Global Search",1,"search-input",3,"ngModel","ngModelChange","input"],["type","button","pButton","","icon","pi pi-times","title","Clear filter",1,"p-button-outlined",3,"click"]],template:function(t,e){1&t&&(n.Pb(0,"span",0),n.Pb(1,"span",1),n.Kb(2,"i",2),n.Ob(),n.Pb(3,"input",3),n.Wb("ngModelChange",(function(t){return e.filterValue=t}))("input",(function(t){return e.table.filterGlobal(t.target.value,e.matchMode)})),n.Ob(),n.Pb(4,"button",4),n.Wb("click",(function(){return e.clearTableFilter()})),n.Ob(),n.Ob()),2&t&&(n.yb(3),n.dc("ngModel",e.filterValue))},directives:[r.b,s.a,r.j,r.l,o.b],styles:[".search-input[_ngcontent-%COMP%]{min-width:10rem}@media (max-width:767px){.search-input[_ngcontent-%COMP%]{min-width:8rem}}"]}),t})()},tlyu:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function(t){return t.VIDEO="video",t.SUBTITLE="subtitle",t}({})}}]);