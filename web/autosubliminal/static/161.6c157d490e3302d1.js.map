{"version":3,"file":"161.6c157d490e3302d1.js","mappings":"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","sources":["./src/app/modules/library/library-routing.module.ts","./src/app/modules/library/library.module.ts","./src/app/modules/library/movie/detail/library-movie-detail.component.ts","./src/app/modules/library/movie/detail/library-movie-detail.component.html","./src/app/modules/library/movie/overview/library-movie-overview.component.ts","./src/app/modules/library/movie/overview/library-movie-overview.component.html","./src/app/modules/library/overview/library-overview.component.ts","./src/app/modules/library/overview/library-overview.component.html","./src/app/modules/library/scanning/library-scanning.component.ts","./src/app/modules/library/scanning/library-scanning.component.html","./src/app/modules/library/show/detail/library-show-detail.component.ts","./src/app/modules/library/show/detail/library-show-detail.component.html","./src/app/modules/library/show/overview/library-show-overview.component.ts","./src/app/modules/library/show/overview/library-show-overview.component.html","./src/app/modules/library/video/library-video-subtitles.component.ts","./src/app/modules/library/video/library-video-subtitles.component.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { LibraryMovieDetailComponent } from './movie/detail/library-movie-detail.component';\r\nimport { LibraryMovieOverviewComponent } from './movie/overview/library-movie-overview.component';\r\nimport { LibraryOverviewComponent } from './overview/library-overview.component';\r\nimport { LibraryShowDetailComponent } from './show/detail/library-show-detail.component';\r\nimport { LibraryShowOverviewComponent } from './show/overview/library-show-overview.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    redirectTo: 'overview',\r\n    pathMatch: 'full'\r\n  },\r\n  {\r\n    path: 'overview',\r\n    component: LibraryOverviewComponent\r\n  },\r\n  {\r\n    path: 'show',\r\n    children: [\r\n      {\r\n        path: 'overview',\r\n        component: LibraryShowOverviewComponent\r\n      },\r\n      {\r\n        path: 'detail/:tvdbId',\r\n        component: LibraryShowDetailComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: 'movie',\r\n    children: [\r\n      {\r\n        path: 'overview',\r\n        component: LibraryMovieOverviewComponent\r\n      },\r\n      {\r\n        path: 'detail/:imdbId',\r\n        component: LibraryMovieDetailComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '**', // wildcard to match any non matching routes\r\n    redirectTo: 'overview'\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LibraryRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { LibraryRoutingModule } from './library-routing.module';\r\nimport { LibraryMovieDetailComponent } from './movie/detail/library-movie-detail.component';\r\nimport { LibraryMovieOverviewComponent } from './movie/overview/library-movie-overview.component';\r\nimport { LibraryOverviewComponent } from './overview/library-overview.component';\r\nimport { LibraryScanningComponent } from './scanning/library-scanning.component';\r\nimport { LibraryShowDetailComponent } from './show/detail/library-show-detail.component';\r\nimport { LibraryShowOverviewComponent } from './show/overview/library-show-overview.component';\r\nimport { LibraryVideoSubtitlesComponent } from './video/library-video-subtitles.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LibraryScanningComponent,\r\n    LibraryVideoSubtitlesComponent,\r\n    LibraryOverviewComponent,\r\n    LibraryShowOverviewComponent,\r\n    LibraryShowDetailComponent,\r\n    LibraryMovieOverviewComponent,\r\n    LibraryMovieDetailComponent\r\n  ],\r\n  imports: [\r\n    SharedModule,\r\n    LibraryRoutingModule\r\n  ]\r\n})\r\nexport class LibraryModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ConfirmationService } from 'primeng/api';\r\nimport { appSettings } from '../../../../app-settings.service';\r\nimport { MovieService } from '../../../../core/services/api/movie.service';\r\nimport { SettingsService } from '../../../../core/services/api/settings.service';\r\nimport { ArtworkService } from '../../../../core/services/artwork.service';\r\nimport { MessageService } from '../../../../core/services/message.service';\r\nimport { FileType } from '../../../../shared/models/filetype';\r\nimport { Movie } from '../../../../shared/models/movie';\r\nimport { VideoSubtitles } from '../../../../shared/models/video';\r\nimport { getImdbUrl, getPlayVideoUrl, getPosterPlaceholderUrl } from '../../../../shared/utils/common-utils';\r\nimport { joinPaths } from '../../../../shared/utils/path-utils';\r\n\r\n@Component({\r\n  selector: 'app-library-movie-detail',\r\n  templateUrl: './library-movie-detail.component.html',\r\n  styleUrls: ['./library-movie-detail.component.scss']\r\n})\r\nexport class LibraryMovieDetailComponent implements OnInit {\r\n\r\n  readonly videoFileType = FileType.VIDEO;\r\n  readonly subtitleFileType = FileType.SUBTITLE;\r\n\r\n  movie: Movie;\r\n  loading = false;\r\n  refreshInProgress = false;\r\n  showMovieSettings = false;\r\n  showVideoSubtitles = false;\r\n  showSubtitleSync = false;\r\n  manualSubSyncEnabled = false;\r\n  libraryEditModeEnabled = false;\r\n  videoSubtitles: VideoSubtitles;\r\n  movieVideoFilePath: string;\r\n  movieSubtitleFilePath: string;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private domSanitizer: DomSanitizer,\r\n    private movieService: MovieService,\r\n    private artworkService: ArtworkService,\r\n    private settingsService: SettingsService,\r\n    private messageService: MessageService,\r\n    private confirmationService: ConfirmationService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.manualSubSyncEnabled = appSettings.manualSubSync;\r\n    this.libraryEditModeEnabled = appSettings.libraryEditMode;\r\n    this.route.paramMap.subscribe(\r\n      (paramMap) => {\r\n        this.loading = true;\r\n        const imdbId = paramMap.get('imdbId');\r\n        this.getMovieDetails(imdbId);\r\n      });\r\n  }\r\n\r\n  getMoviePosterFullSizeUrl(): string {\r\n    return this.artworkService.getMoviePosterFullSizeUrl(this.movie.imdbId);\r\n  }\r\n\r\n  getMoviePosterThumbnailUrl(): string {\r\n    return this.artworkService.getMoviePosterThumbnailUrl(this.movie.imdbId);\r\n  }\r\n\r\n  getPosterPlaceholderUrl(): string {\r\n    return getPosterPlaceholderUrl();\r\n  }\r\n\r\n  getImdbUrl(): string {\r\n    return getImdbUrl(this.movie.imdbId);\r\n  }\r\n\r\n  getPlayVideoUrl(filePath: string, fileName: string): SafeResourceUrl {\r\n    return this.domSanitizer.bypassSecurityTrustResourceUrl(getPlayVideoUrl(filePath, fileName));\r\n  }\r\n\r\n  openSettingsDialog(): void {\r\n    this.showMovieSettings = true;\r\n  }\r\n\r\n  refreshMovieDetails(): void {\r\n    this.refreshInProgress = true;\r\n    this.movieService.refreshMovieDetails(this.movie.imdbId).subscribe(\r\n      () => {\r\n        this.getMovieDetails(this.movie.imdbId);\r\n        this.refreshInProgress = false;\r\n      },\r\n      () => this.messageService.showErrorMessage('Unable to refresh the movie details!')\r\n    );\r\n  }\r\n\r\n  openDeleteDialog(): void {\r\n    this.confirmationService.confirm({\r\n      message: `Are you sure that you want to delete <b>${this.movie.name}</b>?`,\r\n      accept: () => {\r\n        this.movieService.deleteMovie(this.movie.imdbId).subscribe(\r\n          () => {\r\n            this.router.navigateByUrl('/library/movie');\r\n          },\r\n          () => this.messageService.showErrorMessage(`Unable to delete the movie ${this.movie.name}!`)\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  openDeleteSubtitleDialog(filePath: string, fileName: string): void {\r\n    this.confirmationService.confirm({\r\n      message: `Are you sure that you want to delete the subtitle<br><b>${fileName}</b>?`,\r\n      accept: () => {\r\n        this.movieService.deleteMovieSubtitle(this.movie.imdbId, joinPaths(filePath, fileName)).subscribe(\r\n          () => {\r\n            // Reload details\r\n            this.getMovieDetails(this.movie.imdbId);\r\n            this.messageService.showSuccessMessage(`Deleted ${fileName}.`);\r\n          },\r\n          () => this.messageService.showErrorMessage(`Unable to delete the subtitle ${fileName}!`)\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  addMoviePathToVideoPaths(): void {\r\n    const videoPath = { videoPath: this.movie.path };\r\n    this.settingsService.updateGeneralSetting('videoPaths', videoPath).subscribe(\r\n      () => {\r\n        this.messageService.showSuccessMessage(`Path ${this.movie.path} added to the video paths.`);\r\n        this.getMovieDetails(this.movie.imdbId);\r\n      },\r\n      (error) => {\r\n        if (error.status && error.status === 409) {\r\n          this.messageService.showInfoMessage(`Path ${this.movie.path} already added to the video paths.`);\r\n        } else {\r\n          this.messageService.showErrorMessage(`Unable to add path ${this.movie.path} to the video paths!`);\r\n        }\r\n      });\r\n  }\r\n\r\n  openVideoSubtitlesDialog(fileLocation: string, fileName: string, languages: string[]): void {\r\n    this.videoSubtitles = new VideoSubtitles();\r\n    this.videoSubtitles.fileLocation = fileLocation;\r\n    this.videoSubtitles.fileName = fileName;\r\n    this.videoSubtitles.languages = languages;\r\n    this.showVideoSubtitles = true;\r\n  }\r\n\r\n  closeVideoSubtitlesDialog(): void {\r\n    this.showVideoSubtitles = false;\r\n    this.videoSubtitles = null;\r\n  }\r\n\r\n  openSubtitleSyncDialog(videoFilePath: string, subtitleFilepath: string): void {\r\n    this.movieVideoFilePath = videoFilePath;\r\n    this.movieSubtitleFilePath = subtitleFilepath;\r\n    this.showSubtitleSync = true;\r\n  }\r\n\r\n  saveHardcodedSubtitles(videoSubtitles: VideoSubtitles): void {\r\n    this.movieService.saveMovieHardcodedSubtitles(this.movie.imdbId, videoSubtitles).subscribe(\r\n      () => {\r\n        this.closeVideoSubtitlesDialog();\r\n        this.getMovieDetails(this.movie.imdbId);\r\n      },\r\n      () => this.messageService.showErrorMessage('Unable to save the hardcoded subtitles!')\r\n    );\r\n  }\r\n\r\n  private getMovieDetails(imdbId: string): void {\r\n    this.movieService.getMovieDetails(imdbId).subscribe(\r\n      (movie) => {\r\n        this.movie = movie;\r\n        this.loading = false;\r\n      },\r\n      () => this.messageService.showErrorMessage('Unable to get the movie details!')\r\n    );\r\n  }\r\n}\r\n","<div class=\"container-lg\">\r\n  <p-panel header=\"Movie details\">\r\n    <!-- Library scanning message -->\r\n    <app-library-scanning></app-library-scanning>\r\n    <!-- Details refreshing message -->\r\n    <app-message [visible]=\"refreshInProgress\">\r\n      <i class=\"fa fa-spinner fa-spin mr-2\" aria-hidden=\"true\"></i>\r\n      <span>Refreshing movie details...</span>\r\n    </app-message>\r\n    <!-- Details -->\r\n    <div class=\"library-details-container\" *ngIf=\"movie\">\r\n      <!-- Info -->\r\n      <div class=\"row mb-3\">\r\n        <div class=\"col-12 library-details-info-container\">\r\n          <div class=\"library-details-info-poster\">\r\n            <a [href]=\"getMoviePosterFullSizeUrl()\" target=\"_blank\">\r\n              <img class=\"library-details-info-poster-image\" [lazyLoad]=\"getMoviePosterThumbnailUrl()\" [defaultImage]=\"getPosterPlaceholderUrl()\" title=\"Click to view full size\">\r\n            </a>\r\n          </div>\r\n          <div class=\"library-details-info\">\r\n            <div class=\"row\">\r\n              <div class=\"col-12 library-details-info-title\">\r\n                <span>{{movie.name}}</span>\r\n                <span class=\"icon-group\">\r\n                  <a class=\"icon-link\" [href]=\"getImdbUrl()\" target=\"_blank\">\r\n                    <i class=\"fa fa-imdb\" aria-hidden=\"true\" title=\"Click to visit Imdb\"></i>\r\n                  </a>\r\n                  <a class=\"icon-link\" (click)=\"openSettingsDialog()\">\r\n                    <i class=\"fa fa-wrench\" aria-hidden=\"true\" title=\"Click to edit movie settings\"></i>\r\n                  </a>\r\n                  <a class=\"icon-link\" (click)=\"refreshMovieDetails()\">\r\n                    <i class=\"fa fa-repeat\" aria-hidden=\"true\" title=\"Click to refresh movie details\"></i>\r\n                  </a>\r\n                  <a class=\"icon-link\" (click)=\"openDeleteDialog()\">\r\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\" title=\"Click to delete movie from the database\"></i>\r\n                  </a>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-12\">\r\n                <hr>\r\n              </div>\r\n            </div>\r\n            <div class=\"row mb-3\">\r\n              <div class=\"col-12\">{{movie.overview}}</div>\r\n            </div>\r\n            <div class=\"row mb-2\">\r\n              <div class=\"col-3\">Location:</div>\r\n              <div class=\"col-9 wrap-text\">\r\n                {{movie.path}}\r\n                <a *ngIf=\"!movie.pathInVideoPaths\" class=\"icon-link\" (click)=\"addMoviePathToVideoPaths()\">\r\n                  <i class=\"fa fa-plus\" aria-hidden=\"true\" title=\"Click to add the movie path to the video paths to scan\"></i>\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div class=\"row mb-2\">\r\n              <div class=\"col-3\">Wanted languages:</div>\r\n              <div class=\"col-9\"><span *ngFor=\"let language of movie.settings.wantedLanguages\" class=\"p-tag language mr-2\">{{language}}</span></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- Files summary -->\r\n      <div class=\"row mb-3\">\r\n        <div class=\"col-12\">\r\n          <hr>\r\n          <div class=\"library-details-files-summary\">\r\n            <span class=\"summary-title\">Files</span>\r\n            <span class=\"summary-progress-bar ml-auto\">\r\n              <app-progress-bar [value]=\"movie.totalSubtitlesAvailable\" [total]=\"movie.totalSubtitlesWanted\"></app-progress-bar>\r\n            </span>\r\n          </div>\r\n          <hr>\r\n        </div>\r\n      </div>\r\n      <!-- Files -->\r\n      <div class=\"row mb-3\">\r\n        <div class=\"col-12 library-details-files\">\r\n          <p-table [value]=\"movie.files\" [autoLayout]=\"true\" styleClass=\"p-datatable-sm\">\r\n            <ng-template pTemplate=\"body\" let-file>\r\n              <tr>\r\n                <td class=\"wrap-text\">\r\n                  <span>{{file.fileName}}</span>\r\n                  <span class=\"icon-group\">\r\n                    <a *ngIf=\"file.isVideo\" class=\"icon-link\" [href]=\"getPlayVideoUrl(movie.path, file.fileName)\">\r\n                      <i class=\"fa fa-play-circle-o\" aria-hidden=\"true\" title=\"Click to play video\"></i>\r\n                    </a>\r\n                    <a *ngIf=\"libraryEditModeEnabled && file.isVideo\" class=\"icon-link\" (click)=\"openVideoSubtitlesDialog(movie.path, file.fileName, file.hardcodedLanguages)\">\r\n                      <i class=\"fa fa-wrench\" aria-hidden=\"true\" title=\"Click to save hardcoded subtitle languages\"></i>\r\n                    </a>\r\n                    <a *ngIf=\"manualSubSyncEnabled && file.isSubtitle\" class=\"icon-link\" (click)=\"openSubtitleSyncDialog(movie.getMovieFilePath(videoFileType), movie.getMovieFilePath(subtitleFileType, file.fileName))\">\r\n                      <i class=\"fa fa-refresh\" aria-hidden=\"true\" title=\"Click to synchronize subtitle\"></i>\r\n                    </a>\r\n                    <a *ngIf=\"libraryEditModeEnabled && file.isSubtitle\" class=\"icon-link\" (click)=\"openDeleteSubtitleDialog(file.filePath, file.fileName)\">\r\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\" title=\"Click to remove subtitle\"></i>\r\n                    </a>\r\n                  </span>\r\n                </td>\r\n                <td *ngIf=\"file.isVideo\" class=\"text-right\">\r\n                  <!-- language is an array in case of video type -->\r\n                  <span class=\"p-tag language ml-2\" *ngFor=\"let language of file.hardcodedLanguages\">{{language}}</span>\r\n                  <span class=\"p-tag language ml-2\" *ngFor=\"let language of file.embeddedLanguages\">{{language}}</span>\r\n                  <span class=\"p-tag language ml-2\" *ngIf=\"file.internalLanguagesAvailable\">internal</span>\r\n                  <span class=\"p-tag filetype ml-2\">{{file.type}}</span>\r\n                </td>\r\n                <td *ngIf=\"file.isSubtitle\" class=\"text-right\">\r\n                  <!-- language is a string in case of subtitle type -->\r\n                  <span class=\"p-tag language ml-2\" *ngIf=\"file.language\">{{file.language}}</span>\r\n                  <span class=\"p-tag filetype ml-2\">{{file.type}}</span>\r\n                </td>\r\n              </tr>\r\n            </ng-template>\r\n          </p-table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </p-panel>\r\n</div>\r\n\r\n<!-- Confirmation dialog -->\r\n<p-confirmDialog header=\"Confirmation\" icon=\"pi pi-exclamation-triangle\"></p-confirmDialog>\r\n\r\n<!-- Movie settings dialog -->\r\n<app-movie-settings *ngIf=\"showMovieSettings\"\r\n                    [(visible)]=\"showMovieSettings\"\r\n                    [imdbId]=\"movie.imdbId\"\r\n                    [title]=\"movie.name\"\r\n                    [movieSettings]=\"movie.settings\">\r\n</app-movie-settings>\r\n\r\n<!-- Subtitle sync dialog -->\r\n<app-subtitle-sync *ngIf=\"showSubtitleSync\"\r\n                   [(visible)]=\"showSubtitleSync\"\r\n                   [videoPath]=\"movieVideoFilePath\"\r\n                   [subtitlePath]=\"movieSubtitleFilePath\">\r\n</app-subtitle-sync>\r\n\r\n<!-- Library video subtitles dialog -->\r\n<app-library-video-subtitles *ngIf=\"showVideoSubtitles\"\r\n                             [(visible)]=\"showVideoSubtitles\"\r\n                             [videoSubtitles]=\"videoSubtitles\"\r\n                             (save)=\"saveHardcodedSubtitles($event)\">\r\n</app-library-video-subtitles>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { SortEvent } from 'primeng/api';\r\nimport { Subscription } from 'rxjs';\r\nimport { appSettings } from '../../../../app-settings.service';\r\nimport { MovieService } from '../../../../core/services/api/movie.service';\r\nimport { ArtworkService } from '../../../../core/services/artwork.service';\r\nimport { MessageService } from '../../../../core/services/message.service';\r\nimport { SystemEventService } from '../../../../core/services/system-event.service';\r\nimport { Movie } from '../../../../shared/models/movie';\r\nimport { naturalSort } from '../../../../shared/utils/table-utils';\r\n\r\n@Component({\r\n  selector: 'app-library-movie-overview',\r\n  templateUrl: './library-movie-overview.component.html',\r\n  styleUrls: ['./library-movie-overview.component.scss']\r\n})\r\nexport class LibraryMovieOverviewComponent implements OnInit, OnDestroy {\r\n\r\n  loading = false;\r\n  movies: Movie[];\r\n  nrOfMovies = 0;\r\n  globalFilterFields = ['title', 'year', 'path', 'settings.wantedLanguages', 'totalSubtitlesAvailable'];\r\n  tableStateKey = 'autosubliminal-library-movie-overview-table';\r\n\r\n  private scanLibrarySubscription: Subscription;\r\n\r\n  constructor(\r\n    private systemEventService: SystemEventService,\r\n    private movieService: MovieService,\r\n    private artworkService: ArtworkService,\r\n    private messageService: MessageService) { }\r\n\r\n  ngOnInit(): void {\r\n    // Load overview\r\n    this.loadOverview();\r\n    // Subscribe on scanLibrary finish events to reload the overview\r\n    this.scanLibrarySubscription = this.systemEventService.schedulerFinish.subscribe(\r\n      (scheduler) => {\r\n        if (scheduler.name === appSettings.scanLibrary) {\r\n          this.loadOverview();\r\n        }\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.scanLibrarySubscription.unsubscribe();\r\n  }\r\n\r\n  private loadOverview(): void {\r\n    this.loading = true;\r\n    this.movieService.getMovies().subscribe(\r\n      (movies) => {\r\n        this.movies = movies;\r\n        this.nrOfMovies = this.movies.length;\r\n        this.loading = false;\r\n      },\r\n      () => this.messageService.showErrorMessage('Unable to get the movies!')\r\n    );\r\n  }\r\n\r\n  sort(event: SortEvent): void {\r\n    naturalSort(event);\r\n  }\r\n\r\n  getMoviePosterThumbnailUrl(imdbId: string): string {\r\n    return this.artworkService.getMoviePosterThumbnailUrl(imdbId);\r\n  }\r\n\r\n  getPosterPlaceholderUrl(): string {\r\n    return 'assets/poster-placeholder.jpg';\r\n  }\r\n}\r\n","<div class=\"container-lg\">\r\n  <p-panel header=\"Movie library\">\r\n    <!-- Library scanning message -->\r\n    <app-library-scanning></app-library-scanning>\r\n    <!-- Overview -->\r\n    <div class=\"row\">\r\n      <div class=\"col-12 library-overview-container\">\r\n        <p-table #movieTable\r\n                 [value]=\"movies\"\r\n                 [stateKey]=\"tableStateKey\"\r\n                 [loading]=\"loading\"\r\n                 [autoLayout]=\"true\"\r\n                 [rowHover]=\"true\"\r\n                 [paginator]=\"true\"\r\n                 [rows]=\"10\"\r\n                 [rowsPerPageOptions]=\"[5,10,25,50,{showAll:'All'}]\"\r\n                 [showCurrentPageReport]=\"true\"\r\n                 [globalFilterFields]=\"globalFilterFields\"\r\n                 [customSort]=\"true\"\r\n                 (sortFunction)=\"sort($event)\"\r\n                 stateStorage=\"local\"\r\n                 currentPageReportTemplate=\"{first} to {last} of {totalRecords}\"\r\n                 styleClass=\"p-datatable-sm p-datatable-gridlines p-datatable-striped p-datatable-responsive-mode\">\r\n          <ng-template pTemplate=\"caption\">\r\n            <div class=\"caption\">\r\n              <span class=\"w-100\">\r\n                <p-button [label]=\"nrOfMovies + ' movies'\" styleClass=\"p-button-static p-button-outlined\"></p-button>\r\n              </span>\r\n              <span class=\"ml-auto\">\r\n                <app-table-filter [table]=\"movieTable\" [tableStateKey]=\"tableStateKey\" matchMode='contains'></app-table-filter>\r\n              </span>\r\n            </div>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"header\">\r\n            <tr>\r\n              <th pSortableColumn=\"title\"><span>Title<p-sortIcon field=\"title\"></p-sortIcon></span></th>\r\n              <th pSortableColumn=\"year\"><span>Year<p-sortIcon field=\"year\"></p-sortIcon></span></th>\r\n              <th pSortableColumn=\"path\"><span>Path<p-sortIcon field=\"path\"></p-sortIcon></span></th>\r\n              <th pSortableColumn=\"settings.wantedLanguages\"><span>Wanted subtitles<p-sortIcon field=\"settings.wantedLanguages\"></p-sortIcon></span></th>\r\n              <th pSortableColumn=\"totalSubtitlesAvailable\"><span>Subtitles<p-sortIcon field=\"totalSubtitlesAvailable\"></p-sortIcon></span></th>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"body\" let-movie>\r\n            <tr>\r\n              <td>\r\n                <span class=\"p-column-title\">Title</span>\r\n                <span class=\"p-column-data title-container\">\r\n                  <span class=\"title-container-wrapper\">\r\n                    <span class=\"title-poster-container\">\r\n                      <a [routerLink]=\"['/library/movie/detail',movie.imdbId]\" [title]=\"movie.title\">\r\n                        <img *ngIf=\"movie.poster\" class=\"title-poster-image\" [lazyLoad]=\"getMoviePosterThumbnailUrl(movie.imdbId)\" [defaultImage]=\"getPosterPlaceholderUrl()\">\r\n                      </a>\r\n                    </span>\r\n                    <span class=\"title-text\">\r\n                      <a [routerLink]=\"['/library/movie/detail',movie.imdbId]\">{{movie.title}}</a>\r\n                    </span>\r\n                  </span>\r\n                </span>\r\n              </td>\r\n              <td>\r\n                <span class=\"p-column-title\">Year</span>\r\n                <span class=\"p-column-data\">{{movie.year}}</span>\r\n              </td>\r\n              <td>\r\n                <span class=\"p-column-title\">Path</span>\r\n                <span class=\"p-column-data wrap-text\">{{movie.path}}</span>\r\n              </td>\r\n              <td>\r\n                <span class=\"p-column-title\">Wanted subtitles</span>\r\n                <span class=\"p-column-data\"><span *ngFor=\"let lang of movie.settings.wantedLanguages\" class=\"p-tag p-tag-small p-tag-secondary mr-2\">{{lang}}</span></span>\r\n              </td>\r\n              <td>\r\n                <span class=\"p-column-title\">Subtitles</span>\r\n                <span class=\"p-column-data\">\r\n                  <app-progress-bar class=\"w-100\" [value]=\"movie.totalSubtitlesAvailable\" [total]=\"movie.totalSubtitlesWanted\"></app-progress-bar>\r\n                </span>\r\n              </td>\r\n            </tr>\r\n          </ng-template>\r\n        </p-table>\r\n      </div>\r\n    </div>\r\n  </p-panel>\r\n</div>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { forkJoin, Subscription } from 'rxjs';\r\nimport { appSettings } from '../../../app-settings.service';\r\nimport { MovieService } from '../../../core/services/api/movie.service';\r\nimport { ShowService } from '../../../core/services/api/show.service';\r\nimport { MessageService } from '../../../core/services/message.service';\r\nimport { SystemEventService } from '../../../core/services/system-event.service';\r\nimport { MoviesOverview } from '../../../shared/models/movie';\r\nimport { ShowsOverview } from '../../../shared/models/show';\r\n\r\n@Component({\r\n  selector: 'app-library-overview',\r\n  templateUrl: './library-overview.component.html',\r\n  styleUrls: ['./library-overview.component.scss']\r\n})\r\nexport class LibraryOverviewComponent implements OnInit, OnDestroy {\r\n\r\n  loading = false;\r\n  showsOverview: ShowsOverview;\r\n  moviesOverview: MoviesOverview;\r\n\r\n  private scanLibrarySubscription: Subscription;\r\n\r\n  constructor(\r\n    private systemEventService: SystemEventService,\r\n    private showService: ShowService,\r\n    private movieService: MovieService,\r\n    private messageService: MessageService) { }\r\n\r\n  ngOnInit(): void {\r\n    // Load overview\r\n    this.loadOverview();\r\n    // Subscribe on scanLibrary finish events to reload the overview\r\n    this.scanLibrarySubscription = this.systemEventService.schedulerFinish.subscribe(\r\n      (scheduler) => {\r\n        if (scheduler.name === appSettings.scanLibrary) {\r\n          this.loadOverview();\r\n        }\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.scanLibrarySubscription.unsubscribe();\r\n  }\r\n\r\n  private loadOverview(): void {\r\n    this.loading = true;\r\n    // Load shows and movies overview\r\n    forkJoin([this.showService.getShowsOverview(), this.movieService.getMoviesOverview()]).subscribe(\r\n      ([showsOverview, moviesOverview]) => {\r\n        this.showsOverview = showsOverview;\r\n        this.moviesOverview = moviesOverview;\r\n        this.loading = false;\r\n      },\r\n      () => this.messageService.showErrorMessage('Unable to get the library overview!')\r\n    );\r\n  }\r\n}\r\n","<div class=\"container-lg\">\r\n  <p-panel header=\"Library overview\">\r\n    <!-- Library scanning message -->\r\n    <app-library-scanning></app-library-scanning>\r\n    <!-- Overview -->\r\n    <div class=\"row\">\r\n      <!-- Shows overview -->\r\n      <div *ngIf=\"showsOverview\" class=\"col-12 col-sm-12 col-md-6 col-lg-6 mb-3 mb-sm-3 mb-md-0 mb-lg-0\">\r\n        <div class=\"overview-container\">\r\n          <div class=\"overview-data\">\r\n            <a [routerLink]=\"['/library/show/overview']\">\r\n              <img src=\"assets/shows.jpg\" class=\"overview-image\" title=\"Click to view shows\">\r\n            </a>\r\n          </div>\r\n          <div class=\"overview-data\">\r\n            <span>\r\n              <span>Total shows: {{showsOverview.totalShows}}</span>\r\n              <app-icon-dropdown iconClass=\"fa fa-exclamation-triangle text-danger\" *ngIf=\"showsOverview.failedShows.length > 0\">\r\n                <li><span class=\"icon-dropdown-title\">List of failed shows:</span></li>\r\n                <hr>\r\n                <li *ngFor=\"let failedShow of showsOverview.failedShows\"><span>{{failedShow}}</span></li>\r\n              </app-icon-dropdown>\r\n            </span>\r\n            <span>Total episodes: {{showsOverview.totalEpisodes}}</span>\r\n          </div>\r\n          <div class=\"overview-data\">\r\n            <span>Total subtitles available:</span>\r\n          </div>\r\n          <div class=\"overview-data\">\r\n            <app-progress-bar class=\"w-100\" [value]=\"showsOverview.totalSubtitlesAvailable\" [total]=\"showsOverview.totalSubtitlesWanted\"></app-progress-bar>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- Movies overview -->\r\n      <div *ngIf=\"moviesOverview\" class=\"col-12 col-sm-12 col-md-6 col-lg-6\">\r\n        <div class=\"overview-container\">\r\n          <div class=\"overview-data\">\r\n            <a [routerLink]=\"['/library/movie/overview']\">\r\n              <img src=\"assets/movies.jpg\" class=\"overview-image image-hover\" title=\"Click to view movies\">\r\n            </a>\r\n          </div>\r\n          <div class=\"overview-data\">\r\n            <span>\r\n              <span>Total movies: {{moviesOverview.totalMovies}}</span>\r\n              <app-icon-dropdown iconClass=\"fa fa-exclamation-triangle text-danger\" *ngIf=\"moviesOverview.failedMovies.length > 0\">\r\n                <li><span class=\"icon-dropdown-title\">List of failed movies:</span></li>\r\n                <hr>\r\n                <li *ngFor=\"let failedMovie of moviesOverview.failedMovies\"><span>{{failedMovie}}</span></li>\r\n              </app-icon-dropdown>\r\n            </span>\r\n          </div>\r\n          <div class=\"overview-data\">\r\n            <span>Total subtitles available:</span>\r\n          </div>\r\n          <div class=\"overview-data\">\r\n            <app-progress-bar class=\"w-100\" [value]=\"moviesOverview.totalSubtitlesAvailable\" [total]=\"moviesOverview.totalSubtitlesWanted\"></app-progress-bar>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </p-panel>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { appSettings } from '../../../app-settings.service';\r\nimport { SystemService } from '../../../core/services/api/system.service';\r\nimport { SystemEventService } from '../../../core/services/system-event.service';\r\n\r\n@Component({\r\n  selector: 'app-library-scanning',\r\n  templateUrl: './library-scanning.component.html',\r\n  styleUrls: ['./library-scanning.component.scss']\r\n})\r\nexport class LibraryScanningComponent implements OnInit {\r\n\r\n  scanningInProgress = false;\r\n\r\n  constructor(private systemService: SystemService, private systemEventService: SystemEventService) { }\r\n\r\n  ngOnInit(): void {\r\n    // Check if library scanner is running\r\n    this.systemService.getScheduler(appSettings.scanLibrary).subscribe(\r\n      (scheduler) => {\r\n        this.scanningInProgress = scheduler.running;\r\n      });\r\n    // Subscribe on scheduler finish events to check if library scanner is started\r\n    this.systemEventService.schedulerStart.subscribe(\r\n      (scheduler) => {\r\n        this.scanningInProgress = scheduler.name === appSettings.scanLibrary ? true : this.scanningInProgress;\r\n      });\r\n    // Subscribe on scheduler finish events to check if library scanner is finished\r\n    this.systemEventService.schedulerFinish.subscribe(\r\n      (scheduler) => {\r\n        this.scanningInProgress = scheduler.name === appSettings.scanLibrary ? false : this.scanningInProgress;\r\n      });\r\n  }\r\n\r\n}\r\n","<!-- Library scanning message -->\r\n<app-message [visible]=\"scanningInProgress\">\r\n  <i class=\"fa fa-spinner fa-spin mr-2\" aria-hidden=\"true\"></i>\r\n  <span>Scanning library...</span>\r\n</app-message>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ConfirmationService } from 'primeng/api';\r\nimport { appSettings } from '../../../../app-settings.service';\r\nimport { SettingsService } from '../../../../core/services/api/settings.service';\r\nimport { ShowService } from '../../../../core/services/api/show.service';\r\nimport { ArtworkService } from '../../../../core/services/artwork.service';\r\nimport { MessageService } from '../../../../core/services/message.service';\r\nimport { FileType } from '../../../../shared/models/filetype';\r\nimport { Show, ShowEpisodeFile } from '../../../../shared/models/show';\r\nimport { VideoSubtitles } from '../../../../shared/models/video';\r\nimport { getPlayVideoUrl, getPosterPlaceholderUrl, getTvdbUrl } from '../../../../shared/utils/common-utils';\r\nimport { joinPaths } from '../../../../shared/utils/path-utils';\r\n\r\n@Component({\r\n  selector: 'app-library-show-detail',\r\n  templateUrl: './library-show-detail.component.html',\r\n  styleUrls: ['./library-show-detail.component.scss']\r\n})\r\nexport class LibraryShowDetailComponent implements OnInit {\r\n\r\n  readonly videoFileType = FileType.VIDEO;\r\n  readonly subtitleFileType = FileType.SUBTITLE;\r\n\r\n  show: Show;\r\n  loading = false;\r\n  refreshInProgress = false;\r\n  showShowSettings = false;\r\n  showVideoSubtitles = false;\r\n  showSubtitleSync = false;\r\n  manualSubSyncEnabled = false;\r\n  libraryEditModeEnabled = false;\r\n  videoSubtitles: VideoSubtitles;\r\n  episodeVideoFilePath: string;\r\n  episodeSubtitleFilePath: string;\r\n  episodeTvdbId: number;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private domSanitizer: DomSanitizer,\r\n    private showService: ShowService,\r\n    private artworkService: ArtworkService,\r\n    private settingsService: SettingsService,\r\n    private messageService: MessageService,\r\n    private confirmationService: ConfirmationService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.manualSubSyncEnabled = appSettings.manualSubSync;\r\n    this.libraryEditModeEnabled = appSettings.libraryEditMode;\r\n    this.route.paramMap.subscribe(\r\n      (paramMap) => {\r\n        this.loading = true;\r\n        const tvdbId = Number(paramMap.get('tvdbId'));\r\n        this.getShowDetails(tvdbId);\r\n      });\r\n  }\r\n\r\n  getShowPosterFullSizeUrl(): string {\r\n    return this.artworkService.getShowPosterFullSizeUrl(this.show.tvdbId);\r\n  }\r\n\r\n  getShowPosterThumbnailUrl(): string {\r\n    return this.artworkService.getShowPosterThumbnailUrl(this.show.tvdbId);\r\n  }\r\n\r\n  getPosterPlaceholderUrl(): string {\r\n    return getPosterPlaceholderUrl();\r\n  }\r\n\r\n  getTvdbUrl(): string {\r\n    return getTvdbUrl(this.show.tvdbId);\r\n  }\r\n\r\n  getPlayVideoUrl(filePath: string, fileName: string): SafeResourceUrl {\r\n    return this.domSanitizer.bypassSecurityTrustResourceUrl(getPlayVideoUrl(filePath, fileName));\r\n  }\r\n\r\n  openSettingsDialog(): void {\r\n    this.showShowSettings = true;\r\n  }\r\n\r\n  refreshShowDetails(): void {\r\n    this.refreshInProgress = true;\r\n    this.showService.refreshShowDetails(this.show.tvdbId).subscribe(\r\n      () => {\r\n        this.getShowDetails(this.show.tvdbId);\r\n        this.refreshInProgress = false;\r\n      },\r\n      () => this.messageService.showErrorMessage('Unable to refresh the show details!')\r\n    );\r\n  }\r\n\r\n  openDeleteDialog(): void {\r\n    this.confirmationService.confirm({\r\n      message: `Are you sure that you want to delete <b>${this.show.name}</b>?`,\r\n      accept: () => {\r\n        this.showService.deleteShow(this.show.tvdbId).subscribe(\r\n          () => this.router.navigateByUrl('/library/show'),\r\n          () => this.messageService.showErrorMessage(`Unable to delete the show ${this.show.name}!`)\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  openDeleteSubtitleDialog(episodeTvdbId: number, filePath: string, fileName: string): void {\r\n    this.confirmationService.confirm({\r\n      message: `Are you sure that you want to delete the subtitle<br><b>${fileName}</b>?`,\r\n      accept: () => {\r\n        this.showService.deleteShowEpisodeSubtitle(this.show.tvdbId, episodeTvdbId, joinPaths(filePath, fileName)).subscribe(\r\n          () => {\r\n            // Reload details\r\n            this.getShowDetails(this.show.tvdbId);\r\n            this.messageService.showSuccessMessage(`Deleted ${fileName}.`);\r\n          },\r\n          () => this.messageService.showErrorMessage(`Unable to delete the subtitle ${fileName}!`)\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  addShowPathToVideoPaths(): void {\r\n    const videoPath = { videoPath: this.show.path };\r\n    this.settingsService.updateGeneralSetting('videoPaths', videoPath).subscribe(\r\n      () => {\r\n        this.messageService.showSuccessMessage(`Path ${this.show.path} added to the video paths.`);\r\n        this.getShowDetails(this.show.tvdbId);\r\n      },\r\n      (error) => {\r\n        if (error.status && error.status === 409) {\r\n          this.messageService.showWarningMessage(`Path ${this.show.path} already added to the video paths.`);\r\n        } else {\r\n          this.messageService.showErrorMessage(`Unable to add path ${this.show.path} to the video paths!`);\r\n        }\r\n      });\r\n  }\r\n\r\n  openVideoSubtitlesDialog(episodeTvdbId: number, fileLocation: string, fileName: string, languages: string[]): void {\r\n    this.episodeTvdbId = episodeTvdbId; // keep track for which episode the video subtitles are edited\r\n    this.videoSubtitles = new VideoSubtitles();\r\n    this.videoSubtitles.fileLocation = fileLocation;\r\n    this.videoSubtitles.fileName = fileName;\r\n    this.videoSubtitles.languages = languages;\r\n    this.showVideoSubtitles = true;\r\n  }\r\n\r\n  closeVideoSubtitlesDialog(): void {\r\n    this.showVideoSubtitles = false;\r\n    this.videoSubtitles = null;\r\n    this.episodeTvdbId = null;\r\n  }\r\n\r\n  openSubtitleSyncDialog(videoFilePath: string, subtitleFilePath: string): void {\r\n    this.episodeVideoFilePath = videoFilePath;\r\n    this.episodeSubtitleFilePath = subtitleFilePath;\r\n    this.showSubtitleSync = true;\r\n  }\r\n\r\n  saveHardcodedSubtitles(videoSubtitles: VideoSubtitles): void {\r\n    this.showService.saveShowEpisodeHardcodedSubtitles(this.show.tvdbId, this.episodeTvdbId, videoSubtitles).subscribe(\r\n      () => {\r\n        this.closeVideoSubtitlesDialog();\r\n        this.getShowDetails(this.show.tvdbId);\r\n      },\r\n      () => this.messageService.showErrorMessage('Unable to save the harcoded subtitles!')\r\n    );\r\n  }\r\n\r\n  getNrOfSubtitles(files: ShowEpisodeFile[], language: string): string {\r\n    let subtitleCount = 0;\r\n    files.forEach((file) => {\r\n      if (file.type === FileType.SUBTITLE && file.language && file.language === language) {\r\n        // A subtitle file can have only 1 language\r\n        subtitleCount++;\r\n      } else if (file.type === FileType.VIDEO) {\r\n        // A video file can have multiple hardcoded languages\r\n        if (file.hardcodedLanguages) {\r\n          file.hardcodedLanguages.forEach((harcodedLanguage) => {\r\n            if (harcodedLanguage === language) {\r\n              subtitleCount++;\r\n            }\r\n          });\r\n        }\r\n        // A video file can have multiple embedded languages\r\n        if (file.embeddedLanguages) {\r\n          file.embeddedLanguages.forEach((embeddedLanguage) => {\r\n            if (embeddedLanguage === language) {\r\n              subtitleCount++;\r\n            }\r\n          });\r\n        }\r\n      }\r\n    });\r\n    return subtitleCount.toString(); // must be string to be used as badge\r\n  }\r\n\r\n  getNrOfVideos(files: ShowEpisodeFile[]): string {\r\n    let videoCount = 0;\r\n    files.forEach((file) => {\r\n      if (file.type === FileType.VIDEO) {\r\n        videoCount++;\r\n      }\r\n    });\r\n    return videoCount.toString(); // must be string to be used as badge\r\n  }\r\n\r\n  private getShowDetails(tvdbId: number): void {\r\n    this.showService.getShowDetails(tvdbId).subscribe(\r\n      (show) => {\r\n        this.show = show;\r\n        this.loading = false;\r\n      },\r\n      () => this.messageService.showErrorMessage('Unable to get the show details!')\r\n    );\r\n  }\r\n}\r\n","<div class=\"container-lg\">\r\n  <p-panel header=\"Show details\">\r\n    <!-- Library scanning message -->\r\n    <app-library-scanning></app-library-scanning>\r\n    <!-- Details refreshing message -->\r\n    <app-message [visible]=\"refreshInProgress\">\r\n      <i class=\"fa fa-spinner fa-spin mr-2\" aria-hidden=\"true\"></i>\r\n      <span>Refreshing show details...</span>\r\n    </app-message>\r\n    <!-- Details -->\r\n    <div class=\"library-details-container\" *ngIf=\"show\">\r\n      <!-- Info -->\r\n      <div class=\"row mb-3\">\r\n        <div class=\"col-12 library-details-info-container\">\r\n          <div class=\"library-details-info-poster\">\r\n            <a [href]=\"getShowPosterFullSizeUrl()\" target=\"_blank\">\r\n              <img class=\"library-details-info-poster-image\" [lazyLoad]=\"getShowPosterThumbnailUrl()\" [defaultImage]=\"getPosterPlaceholderUrl()\" title=\"Click to view full size\">\r\n            </a>\r\n          </div>\r\n          <div class=\"library-details-info\">\r\n            <div class=\"row\">\r\n              <div class=\"col-12 library-details-info-title\">\r\n                <span>{{show.name}}</span>\r\n                <span class=\"icon-group\">\r\n                  <a class=\"icon-link\" [href]=\"getTvdbUrl()\" target=\"_blank\">\r\n                    <i class=\"fa fa-television\" aria-hidden=\"true\" title=\"Click to visit Tvdb\"></i>\r\n                  </a>\r\n                  <a class=\"icon-link\" (click)=\"openSettingsDialog()\">\r\n                    <i class=\"fa fa-wrench\" aria-hidden=\"true\" title=\"Click to edit show settings\"></i>\r\n                  </a>\r\n                  <a class=\"icon-link\" (click)=\"refreshShowDetails()\">\r\n                    <i class=\"fa fa-repeat\" aria-hidden=\"true\" title=\"Click to refresh show details\"></i>\r\n                  </a>\r\n                  <a class=\"icon-link\" (click)=\"openDeleteDialog()\">\r\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\" title=\"Click to delete show from the database\"></i>\r\n                  </a>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-12\">\r\n                <hr>\r\n              </div>\r\n            </div>\r\n            <div class=\"row mb-3\">\r\n              <div class=\"col-12\">{{show.overview}}</div>\r\n            </div>\r\n            <div class=\"row mb-2\">\r\n              <div class=\"col-3\">Location:</div>\r\n              <div class=\"col-9 wrap-text\">\r\n                {{show.path}}\r\n                <a *ngIf=\"!show.pathInVideoPaths\" class=\"icon-link\" (click)=\"addShowPathToVideoPaths()\">\r\n                  <i class=\"fa fa-plus\" aria-hidden=\"true\" title=\"Click to add the show path to the video paths to scan\"></i>\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div class=\"row mb-2\">\r\n              <div class=\"col-3\">Wanted languages:</div>\r\n              <div class=\"col-9\"><span *ngFor=\"let language of show.settings.wantedLanguages\" class=\"p-tag language mr-2\">{{language}}</span></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- Files summary -->\r\n      <div class=\"row mb-3\">\r\n        <div class=\"col-12\">\r\n          <hr>\r\n          <div class=\"library-details-files-summary\">\r\n            <span class=\"summary-title\">Files</span>\r\n            <span class=\"summary-progress-bar ml-auto\">\r\n              <app-progress-bar [value]=\"show.totalSubtitlesAvailable\" [total]=\"show.totalSubtitlesWanted\"></app-progress-bar>\r\n            </span>\r\n          </div>\r\n          <hr>\r\n        </div>\r\n      </div>\r\n      <!-- Files -->\r\n      <div *ngFor=\"let season of show.seasons\" class=\"row mb-3\">\r\n        <div class=\"col-12 library-details-files\">\r\n          <p-table [value]=\"season.files\" [autoLayout]=\"true\" styleClass=\"p-datatable-sm\">\r\n            <ng-template pTemplate=\"caption\">\r\n              <div class=\"table-caption\">\r\n                <div class=\"table-caption-title\">\r\n                  <span>{{season.seasonName}}</span>\r\n                  <app-icon-dropdown>\r\n                    <li>{{season.seasonPath}}</li>\r\n                  </app-icon-dropdown>\r\n                </div>\r\n                <div class=\"ml-auto\">\r\n                  <p-button *ngFor=\"let language of show.settings.wantedLanguages\" [label]=\"language\" [badge]=\"getNrOfSubtitles(season.files, language)\" styleClass=\"p-button-static p-button-outlined p-button-sm ml-2\"></p-button>\r\n                  <p-button label=\"video\" [badge]=\"getNrOfVideos(season.files)\" styleClass=\"p-button-static p-button-outlined p-button-sm ml-2\"></p-button>\r\n                </div>\r\n              </div>\r\n            </ng-template>\r\n            <ng-template pTemplate=\"body\" let-file>\r\n              <tr>\r\n                <td class=\"wrap-text\">\r\n                  <span>{{file.fileName}}</span>\r\n                  <span class=\"icon-group\">\r\n                    <a *ngIf=\"file.isVideo\" class=\"icon-link\" [href]=\"getPlayVideoUrl(season.seasonPath, file.fileName)\">\r\n                      <i class=\"fa fa-play-circle-o\" aria-hidden=\"true\" title=\"Click to play video\"></i>\r\n                    </a>\r\n                    <a *ngIf=\"libraryEditModeEnabled && file.isVideo\" class=\"icon-link\" (click)=\"openVideoSubtitlesDialog(file.tvdbId, season.seasonPath, file.fileName, file.hardcodedLanguages)\">\r\n                      <i class=\"fa fa-wrench\" aria-hidden=\"true\" title=\"Click to save hardcoded subtitle languages\"></i>\r\n                    </a>\r\n                    <a *ngIf=\"libraryEditModeEnabled && manualSubSyncEnabled && file.isSubtitle\" class=\"icon-link\" (click)=\"openSubtitleSyncDialog(show.getShowEpisodeFilePath(file.tvdbId, videoFileType), show.getShowEpisodeFilePath(file.tvdbId, subtitleFileType, file.fileName))\">\r\n                      <i class=\"fa fa-refresh\" aria-hidden=\"true\" title=\"Click to synchronize subtitle\"></i>\r\n                    </a>\r\n                    <a *ngIf=\"libraryEditModeEnabled && file.isSubtitle\" class=\"icon-link\" (click)=\"openDeleteSubtitleDialog(file.tvdbId, file.filePath, file.fileName)\">\r\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\" title=\"Click to remove subtitle\"></i>\r\n                    </a>\r\n                  </span>\r\n                </td>\r\n                <td *ngIf=\"file.isVideo\" class=\"text-right\">\r\n                  <!-- language is an array in case of video type -->\r\n                  <span class=\"p-tag language ml-2\" *ngFor=\"let language of file.hardcodedLanguages\">{{language}}</span>\r\n                  <span class=\"p-tag language ml-2\" *ngFor=\"let language of file.embeddedLanguages\">{{language}}</span>\r\n                  <span class=\"p-tag language ml-2\" *ngIf=\"file.internalLanguagesAvailable\">internal</span>\r\n                  <span class=\"p-tag filetype ml-2\">{{file.type}}</span>\r\n                </td>\r\n                <td *ngIf=\"file.isSubtitle\" class=\"text-right\">\r\n                  <!-- language is a string in case of subtitle type -->\r\n                  <span class=\"p-tag language ml-2\" *ngIf=\"file.language\">{{file.language}}</span>\r\n                  <span class=\"p-tag filetype ml-2\">{{file.type}}</span>\r\n                </td>\r\n              </tr>\r\n            </ng-template>\r\n          </p-table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </p-panel>\r\n</div>\r\n\r\n<!-- Confirmation dialog -->\r\n<p-confirmDialog header=\"Confirmation\" icon=\"pi pi-exclamation-triangle\"></p-confirmDialog>\r\n\r\n<!-- Show settings dialog -->\r\n<app-show-settings *ngIf=\"showShowSettings\"\r\n                   [(visible)]=\"showShowSettings\"\r\n                   [tvdbId]=\"show.tvdbId\"\r\n                   [title]=\"show.name\"\r\n                   [showSettings]=\"show.settings\">\r\n</app-show-settings>\r\n\r\n<!-- Subtitle sync dialog -->\r\n<app-subtitle-sync *ngIf=\"showSubtitleSync\"\r\n                   [(visible)]=\"showSubtitleSync\"\r\n                   [videoPath]=\"episodeVideoFilePath\"\r\n                   [subtitlePath]=\"episodeSubtitleFilePath\">\r\n</app-subtitle-sync>\r\n\r\n<!-- Library video subtitles dialog -->\r\n<app-library-video-subtitles *ngIf=\"showVideoSubtitles\"\r\n                             [(visible)]=\"showVideoSubtitles\"\r\n                             [videoSubtitles]=\"videoSubtitles\"\r\n                             (save)=\"saveHardcodedSubtitles($event)\">\r\n</app-library-video-subtitles>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { SortEvent } from 'primeng/api';\r\nimport { Subscription } from 'rxjs';\r\nimport { appSettings } from '../../../../app-settings.service';\r\nimport { ShowService } from '../../../../core/services/api/show.service';\r\nimport { ArtworkService } from '../../../../core/services/artwork.service';\r\nimport { MessageService } from '../../../../core/services/message.service';\r\nimport { SystemEventService } from '../../../../core/services/system-event.service';\r\nimport { Show } from '../../../../shared/models/show';\r\nimport { getBannerPlaceholderUrl } from '../../../../shared/utils/common-utils';\r\nimport { naturalSort } from '../../../../shared/utils/table-utils';\r\n\r\n@Component({\r\n  selector: 'app-library-show-overview',\r\n  templateUrl: './library-show-overview.component.html',\r\n  styleUrls: ['./library-show-overview.component.scss']\r\n})\r\nexport class LibraryShowOverviewComponent implements OnInit, OnDestroy {\r\n\r\n  shows: Show[];\r\n  nrOfShows = 0;\r\n  globalFilterFields = ['title', 'year', 'path', 'settings.wantedLanguages', 'totalSubtitlesAvailable'];\r\n  tableStateKey = 'autosubliminal-library-show-overview-table';\r\n  loading = false;\r\n\r\n  private scanLibrarySubscription: Subscription;\r\n\r\n  constructor(\r\n    private systemEventService: SystemEventService,\r\n    private showService: ShowService,\r\n    private artworkService: ArtworkService,\r\n    private messageService: MessageService) { }\r\n\r\n  ngOnInit(): void {\r\n    // Load overview\r\n    this.loadOverview();\r\n    // Subscribe on scanLibrary finish events to reload the overview\r\n    this.scanLibrarySubscription = this.systemEventService.schedulerFinish.subscribe(\r\n      (scheduler) => {\r\n        if (scheduler.name === appSettings.scanLibrary) {\r\n          this.loadOverview();\r\n        }\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.scanLibrarySubscription.unsubscribe();\r\n  }\r\n\r\n  private loadOverview(): void {\r\n    this.loading = true;\r\n    this.showService.getShows().subscribe(\r\n      (shows) => {\r\n        this.shows = shows;\r\n        this.nrOfShows = this.shows.length;\r\n        this.loading = false;\r\n      },\r\n      () => this.messageService.showErrorMessage('Unable to get the shows!')\r\n    );\r\n  }\r\n\r\n  sort(event: SortEvent): void {\r\n    naturalSort(event);\r\n  }\r\n\r\n  getShowBannerThumbnailUrl(tvdbId: number): string {\r\n    return this.artworkService.getShowBannerThumbnailUrl(tvdbId);\r\n  }\r\n\r\n  getBannerPlaceholderUrl(): string {\r\n    return getBannerPlaceholderUrl();\r\n  }\r\n}\r\n","<div class=\"container-lg\">\r\n  <p-panel header=\"Show library\">\r\n    <!-- Library scanning message -->\r\n    <app-library-scanning></app-library-scanning>\r\n    <!-- Overview -->\r\n    <div class=\"row\">\r\n      <div class=\"col-12 library-overview-container\">\r\n        <p-table #showTable\r\n                 [value]=\"shows\"\r\n                 [stateKey]=\"tableStateKey\"\r\n                 [loading]=\"loading\"\r\n                 [autoLayout]=\"true\"\r\n                 [rowHover]=\"true\"\r\n                 [paginator]=\"true\"\r\n                 [rows]=\"10\"\r\n                 [rowsPerPageOptions]=\"[5,10,25,50,{showAll:'All'}]\"\r\n                 [showCurrentPageReport]=\"true\"\r\n                 [globalFilterFields]=\"globalFilterFields\"\r\n                 [customSort]=\"true\"\r\n                 (sortFunction)=\"sort($event)\"\r\n                 stateStorage=\"local\"\r\n                 currentPageReportTemplate=\"{first} to {last} of {totalRecords}\"\r\n                 styleClass=\"p-datatable-sm p-datatable-gridlines p-datatable-striped p-datatable-responsive-mode\">\r\n          <ng-template pTemplate=\"caption\">\r\n            <div class=\"caption\">\r\n              <span class=\"w-100\">\r\n                <p-button [label]=\"nrOfShows + ' shows'\" styleClass=\"p-button-static p-button-outlined\"></p-button>\r\n              </span>\r\n              <span class=\"ml-auto\">\r\n                <app-table-filter [table]=\"showTable\" [tableStateKey]=\"tableStateKey\" matchMode='contains'></app-table-filter>\r\n              </span>\r\n            </div>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"header\">\r\n            <tr>\r\n              <th pSortableColumn=\"title\"><span>Title<p-sortIcon field=\"title\"></p-sortIcon></span></th>\r\n              <th pSortableColumn=\"year\"><span>Year<p-sortIcon field=\"year\"></p-sortIcon></span></th>\r\n              <th pSortableColumn=\"path\"><span>Path<p-sortIcon field=\"path\"></p-sortIcon></span></th>\r\n              <th pSortableColumn=\"settings.wantedLanguages\"><span>Wanted subtitles<p-sortIcon field=\"settings.wantedLanguages\"></p-sortIcon></span></th>\r\n              <th pSortableColumn=\"totalSubtitlesAvailable\"><span>Subtitles<p-sortIcon field=\"totalSubtitlesAvailable\"></p-sortIcon></span></th>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"body\" let-show>\r\n            <tr>\r\n              <td>\r\n                <span class=\"p-column-title\">Title</span>\r\n                <span class=\"p-column-data title-banner-container\">\r\n                  <span class=\"title-banner\">\r\n                    <a [routerLink]=\"['/library/show/detail',show.tvdbId]\" [title]=\"show.title\">\r\n                      <img *ngIf=\"show.banner\" class=\"title-banner-image\" [lazyLoad]=\"getShowBannerThumbnailUrl(show.tvdbId)\" [defaultImage]=\"getBannerPlaceholderUrl()\">\r\n                    </a>\r\n                  </span>\r\n                </span>\r\n              </td>\r\n              <td>\r\n                <span class=\"p-column-title\">Year</span>\r\n                <span class=\"p-column-data\">{{show.year}}</span>\r\n              </td>\r\n              <td>\r\n                <span class=\"p-column-title\">Path</span>\r\n                <span class=\"p-column-data wrap-text\">{{show.path}}</span>\r\n              </td>\r\n              <td>\r\n                <span class=\"p-column-title\">Wanted subtitles</span>\r\n                <span class=\"p-column-data\"><span *ngFor=\"let lang of show.settings.wantedLanguages\" class=\"p-tag p-tag-small p-tag-secondary mr-2\">{{lang}}</span></span>\r\n              </td>\r\n              <td>\r\n                <span class=\"p-column-title\">Subtitles</span>\r\n                <span class=\"p-column-data\">\r\n                  <app-progress-bar class=\"w-100\" [value]=\"show.totalSubtitlesAvailable\" [total]=\"show.totalSubtitlesWanted\"></app-progress-bar>\r\n                </span>\r\n              </td>\r\n            </tr>\r\n          </ng-template>\r\n        </p-table>\r\n      </div>\r\n    </div>\r\n  </p-panel>\r\n</div>\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { UntypedFormBuilder, UntypedFormGroup } from '@angular/forms';\r\nimport { SelectItem } from 'primeng/api';\r\nimport { FormUtils } from '../../../shared/components/forms/form-utils';\r\nimport { VideoSubtitles } from '../../../shared/models/video';\r\n\r\n@Component({\r\n  selector: 'app-library-video-subtitles',\r\n  templateUrl: './library-video-subtitles.component.html',\r\n  styleUrls: ['./library-video-subtitles.component.scss']\r\n})\r\nexport class LibraryVideoSubtitlesComponent implements OnInit {\r\n\r\n  @Input()\r\n  visible = false;\r\n\r\n  @Output()\r\n  visibleChange = new EventEmitter<boolean>(); // Setup 2-way binding [(visible)]=\"...\"\r\n\r\n  @Input()\r\n  videoSubtitles: VideoSubtitles;\r\n\r\n  @Output()\r\n  save = new EventEmitter<VideoSubtitles>(); // allows custom onSave functionality (save)=\"...\" when component is created\r\n\r\n  videoSubtitlesForm: UntypedFormGroup;\r\n  languages: SelectItem[];\r\n\r\n  constructor(private fb: UntypedFormBuilder) { }\r\n\r\n  ngOnInit(): void {\r\n    this.languages = FormUtils.languageSelectItems();\r\n    this.buildForm();\r\n  }\r\n\r\n  private buildForm(): void {\r\n    this.videoSubtitlesForm = this.fb.group({\r\n      fileLocation: [this.videoSubtitles.fileLocation, []],\r\n      fileName: [this.videoSubtitles.fileName, []],\r\n      languages: [this.videoSubtitles.languages || [], []]\r\n    });\r\n  }\r\n\r\n\r\n\r\n  close(): void {\r\n    this.visibleChange.emit(false);\r\n  }\r\n\r\n  saveVideoSubtitles(): void {\r\n    const videoSubtitles = new VideoSubtitles();\r\n    videoSubtitles.fileLocation = FormUtils.getFormControlValue<string>(this.videoSubtitlesForm, 'fileLocation');\r\n    videoSubtitles.fileName = FormUtils.getFormControlValue<string>(this.videoSubtitlesForm, 'fileName');\r\n    videoSubtitles.languages = FormUtils.getFormControlValue<string[]>(this.videoSubtitlesForm, 'languages');\r\n    this.save.emit(videoSubtitles); // ouput the videoSubtitles object on save\r\n  }\r\n}\r\n","<!-- Library video subtitles dialog -->\r\n<p-dialog [(visible)]=\"visible\"\r\n          [modal]=\"true\"\r\n          [closable]=\"false\"\r\n          [resizable]=\"false\"\r\n          header=\"Hardcoded/embedded video subtitles\"\r\n          styleClass=\"p-dialog-video-subtitles\">\r\n  <form *ngIf=\"videoSubtitlesForm\" [formGroup]=\"videoSubtitlesForm\" class=\"form\">\r\n    <div class=\"row form-row\">\r\n      <div class=\"col-12\">Select the embedded hardcoded subtitle languages for video file:</div>\r\n      <div class=\"col-12 file\">{{videoSubtitles.fileName}}</div>\r\n    </div>\r\n    <div class=\"row form-row\">\r\n      <div class=\"col-12\">\r\n        <app-input-multi-select [options]=\"languages\" formControlName=\"languages\" placeholder=\"Select languages\"></app-input-multi-select>\r\n      </div>\r\n    </div>\r\n  </form>\r\n  <ng-template pTemplate=\"footer\">\r\n    <p-button icon=\"pi pi-times\" label=\"Cancel\" styleClass=\"p-button p-button-secondary\" (click)=\"close()\"></p-button>\r\n    <p-button icon=\"pi pi-check\" label=\"Save\" styleClass=\"p-button mr-0\" (click)=\"saveVideoSubtitles()\"></p-button>\r\n  </ng-template>\r\n</p-dialog>\r\n"],"names":["RouterModule","LibraryMovieDetailComponent","LibraryMovieOverviewComponent","LibraryOverviewComponent","LibraryShowDetailComponent","LibraryShowOverviewComponent","routes","path","redirectTo","pathMatch","component","children","LibraryRoutingModule","forChild","imports","exports","SharedModule","LibraryScanningComponent","LibraryVideoSubtitlesComponent","LibraryModule","declarations","appSettings","FileType","VideoSubtitles","getImdbUrl","getPlayVideoUrl","getPosterPlaceholderUrl","joinPaths","i0","ctx_r21","ctx_r0","ctx_r1","ctx_r2","ctx_r3","constructor","route","router","domSanitizer","movieService","artworkService","settingsService","messageService","confirmationService","VIDEO","SUBTITLE","ngOnInit","manualSubSyncEnabled","manualSubSync","libraryEditModeEnabled","libraryEditMode","paramMap","subscribe","loading","imdbId","get","getMovieDetails","getMoviePosterFullSizeUrl","movie","getMoviePosterThumbnailUrl","filePath","fileName","bypassSecurityTrustResourceUrl","openSettingsDialog","showMovieSettings","refreshMovieDetails","refreshInProgress","showErrorMessage","openDeleteDialog","confirm","message","name","accept","deleteMovie","navigateByUrl","openDeleteSubtitleDialog","deleteMovieSubtitle","showSuccessMessage","addMoviePathToVideoPaths","videoPath","updateGeneralSetting","error","status","showInfoMessage","openVideoSubtitlesDialog","fileLocation","languages","videoSubtitles","showVideoSubtitles","closeVideoSubtitlesDialog","openSubtitleSyncDialog","videoFilePath","subtitleFilepath","movieVideoFilePath","movieSubtitleFilePath","showSubtitleSync","saveHardcodedSubtitles","saveMovieHardcodedSubtitles","selectors","decls","vars","consts","template","naturalSort","ctx_r5","movie_r4","systemEventService","loadOverview","scanLibrarySubscription","schedulerFinish","scheduler","scanLibrary","ngOnDestroy","unsubscribe","getMovies","movies","nrOfMovies","length","sort","event","ctx","forkJoin","showService","getShowsOverview","getMoviesOverview","showsOverview","moviesOverview","systemService","getScheduler","scanningInProgress","running","schedulerStart","getTvdbUrl","ctx_r13","ctx_r30","tvdbId","Number","getShowDetails","getShowPosterFullSizeUrl","show","getShowPosterThumbnailUrl","showShowSettings","refreshShowDetails","deleteShow","episodeTvdbId","deleteShowEpisodeSubtitle","addShowPathToVideoPaths","showWarningMessage","subtitleFilePath","episodeVideoFilePath","episodeSubtitleFilePath","saveShowEpisodeHardcodedSubtitles","getNrOfSubtitles","files","language","subtitleCount","forEach","file","type","hardcodedLanguages","harcodedLanguage","embeddedLanguages","embeddedLanguage","toString","getNrOfVideos","videoCount","getBannerPlaceholderUrl","show_r4","getShows","shows","nrOfShows","getShowBannerThumbnailUrl","EventEmitter","FormUtils","fb","languageSelectItems","buildForm","videoSubtitlesForm","group","close","visibleChange","emit","saveVideoSubtitles","getFormControlValue","save","inputs","visible","outputs"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}