{"version":3,"file":"710.f076f6e433181193.js","mappings":";;;;;;;;;;;;;;;;;;AAGqC;AACuB;AACA;;;AAKtD,MAAOG,UAAW,SAAQD,qEAAkB;EAIhDE,YAAoBC,UAAsB;IACxC,KAAK,CAACA,UAAU,CAAC;IADC,eAAU,GAAVA,UAAU;IAFb,QAAG,GAAG,GAAGJ,sEAAmB,WAAW;EAIxD;EAEAM,OAAO,CAACC,MAAe;IACrB,MAAMC,GAAG,GAAGD,MAAM,GAAG,GAAG,IAAI,CAACE,GAAG,IAAIF,MAAM,EAAE,GAAG,IAAI,CAACE,GAAG;IACvD,OAAO,IAAI,CAACL,UAAU,CAACM,GAAG,CAAWF,GAAG,EAAE,IAAI,CAACG,OAAO,CAAC;EACzD;EAEAC,SAAS;IACP,OAAO,IAAI,CAACR,UAAU,CAACS,MAAM,CAAO,IAAI,CAACJ,GAAG,EAAE,IAAI,CAACE,OAAO,CAAC,CACxDG,IAAI,CAACf,mDAAG,CAAC,MAAM,IAAI,CAAC,CAAC;EAC1B;EAEAgB,WAAW;IACT,OAAO,IAAI,CAACX,UAAU,CAACM,GAAG,CAAQ,GAAG,IAAI,CAACD,GAAG,QAAQ,EAAE,IAAI,CAACE,OAAO,CAAC,CACjEG,IAAI,CAACf,mDAAG,CAAEiB,KAAK,IAAKA,KAAK,CAACA,KAAK,CAAC,CAAC;EACtC;;AArBWd,UAAW;mBAAXA,UAAU;AAAA;AAAVA,UAAW;SAAXA,UAAU;EAAAe,SAAVf,UAAU;EAAAgB,YAFT;AAAM;;;;;;;;;;;;;;;;;;;;;;ACEd,MAAOC,iBAAiB;EAE5BhB,YAAoBiB,MAAc,EAAUC,UAAsB,EAAUC,cAA8B;IAAtF,WAAM,GAANF,MAAM;IAAkB,eAAU,GAAVC,UAAU;IAAsB,mBAAc,GAAdC,cAAc;EAAoB;EAE9GC,QAAQ;IACN,IAAI,CAACF,UAAU,CAACT,SAAS,EAAE,CAACY,SAAS,CAClCC,MAAM,IAAI;MACT;MACA,IAAIA,MAAM,EAAE;QACV,IAAI,CAACL,MAAM,CAACM,aAAa,CAAC,WAAW,CAAC;;IAE1C,CAAC,EACD,MAAM,IAAI,CAACJ,cAAc,CAACK,gBAAgB,CAAC,2BAA2B,CAAC,CACxE;EACH;;AAdWR,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAS;EAAAC;EAAAC;EAAAC;EAAAC;AAAA;;;;;;;;;;;;;;;;;;ACTyB;AACS;AACH;;;AAE7D,MAAMG,MAAM,GAAW,CACrB;EACEC,IAAI,EAAE,EAAE;EACRC,UAAU,EAAE,MAAM;EAClBC,SAAS,EAAE;CACZ,EACD;EACEF,IAAI,EAAE,MAAM;EACZG,SAAS,EAAEL,sEAAgBA;CAC5B,EACD;EACEE,IAAI,EAAE,OAAO;EACbG,SAAS,EAAEpB,yEAAiBA;CAC7B,EACD;EACEiB,IAAI,EAAE,IAAI;EACVC,UAAU,EAAE;CACb,CACF;AAMK,MAAOG,gBAAgB;AAAhBA,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA;AAAgB;AAAhBA,gBAAgB;YAHjBP,kEAAqB,CAACE,MAAM,CAAC,EAC7BF,yDAAY;AAAA;;sHAEXO,gBAAgB;IAAAE,UAAAA,yDAAAA;IAAAC,UAFjBV,yDAAY;EAAA;AAAA;;;;;;;;;;;;;;;;;;;AC1BkC;AACF;AACK;AACG;;AAY1D,MAAOY,SAAS;AAATA,SAAS;mBAATA,SAAS;AAAA;AAATA,SAAS;QAATA;AAAS;AAATA,SAAS;YAJlBD,+DAAY,EACZJ,iEAAgB;AAAA;;sHAGPK,SAAS;IAAAC,eARlBZ,sEAAgB,EAChBf,yEAAiB;IAAAuB,UAGjBE,+DAAY,EACZJ,iEAAgB;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXiE;AACzB;AAID;;;;;;;;;;;;;;;;;;;;;ICE/CS,4DAAAA,eAA4I;IAA1BA,wDAAAA;MAAA;MAAA;MAAA;MAAA,OAASA,yDAAAA,0BAAe;IAAA,EAAC;IAACA,oDAAAA,GAAU;IAAAA,0DAAAA,EAAO;;;;;IAAxGA,wDAAAA,YAAAA,6DAAAA,8CAA4D;IAA2BA,uDAAAA,GAAU;IAAVA,+DAAAA,WAAU;;;;;;;;;;;IAL5JA,4DAAAA,aAAmB;IACUA,oDAAAA,cAAO;IAAAA,0DAAAA,EAAM;IACxCA,4DAAAA,UAAK;IAEuFA,wDAAAA;MAAAA,2DAAAA;MAAA;MAAA,OAASA,yDAAAA,gBAAQ,CAAC,CAAC;IAAA,EAAC;IAACA,oDAAAA,cAAO;IAAAA,0DAAAA,EAAO;IAC3HA,wDAAAA,oEAA6J;IAC/JA,0DAAAA,EAAO;IACPA,4DAAAA,cAAuB;IACmGA,wDAAAA;MAAAA,2DAAAA;MAAA;MAAA,OAAWA,yDAAAA,uBAAe;IAAA,EAAC;IAACA,0DAAAA,EAAW;IAEjKA,4DAAAA,gBAAwB;IACYA,wDAAAA;MAAAA,2DAAAA;MAAA;MAAA;IAAA,EAA8B;IAAiDA,0DAAAA,EAAa;;;;IAP5FA,uDAAAA,GAAqD;IAArDA,wDAAAA,YAAAA,6DAAAA,sCAAqD;IAC9DA,uDAAAA,GAAU;IAAVA,wDAAAA,2BAAU;IAGzBA,uDAAAA,GAAyB;IAAzBA,wDAAAA,iCAAyB;IAGvBA,uDAAAA,GAAqB;IAArBA,wDAAAA,6BAAqB;;;ADDvC,MAAOf,gBAAgB;EAiB3B/B,YAAoBkB,UAAsB,EAAUC,cAA8B,EAAU4B,aAA4B;IAApG,eAAU,GAAV7B,UAAU;IAAsB,mBAAc,GAAdC,cAAc;IAA0B,kBAAa,GAAb4B,aAAa;IAfxF,sBAAiB,GAAG,qFAAqF;IAG1H,mBAAc,GAAG,CAAC;IAElB,qBAAgB,GAAG,EAAE;IACrB,YAAO,GAAG,KAAK;IACf,YAAO,GAAG,KAAK;IACf,oBAAe,GAAG,KAAK,CAAC,CAAC;IACzB,oBAAe,GAAG,eAAe;IACjC,mBAAc,GAAG,YAAY;IAGrB,gBAAW,GAAa,EAAE;EAE0F;EAE5H3B,QAAQ;IACN,IAAI,CAAC4B,SAAS,GAAG,IAAI,CAACC,YAAY,EAAE;IACpC,IAAI,CAAC/B,UAAU,CAACN,WAAW,EAAE,CAACS,SAAS,CAAER,KAAK,IAAK,IAAI,CAACqC,OAAO,GAAGC,KAAK,CAACC,IAAI,CAACD,KAAK,CAACtC,KAAK,CAAC,CAACwC,IAAI,EAAE,CAAC,CAACzD,GAAG,CAAE0D,CAAC,IAAKA,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACtH,IAAI,CAACnD,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;EACnB;;EAEAA,OAAO,CAACoD,MAAc;IACpB,IAAI,CAACC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACC,cAAc,GAAGF,MAAM;IAC5B,IAAI,CAACG,eAAe,GAAG,IAAI,CAACD,cAAc,KAAK,CAAC,CAAC,CAAC;IAClD,IAAI,CAACvC,UAAU,CAACf,OAAO,CAACoD,MAAM,CAAC,CAAClC,SAAS,CACtCsC,QAAQ,IAAI;MACX,IAAI,CAACC,WAAW,GAAGD,QAAQ;MAC3B,IAAI,CAACH,OAAO,GAAG,KAAK;MACpB,IAAI,CAACK,gBAAgB,EAAE;IACzB,CAAC,EACD,MAAM,IAAI,CAAC1C,cAAc,CAACK,gBAAgB,CAAC,yBAAyB,CAAC,CACtE;EACH;EAEAsC,aAAa;IACX,IAAI,CAACC,OAAO,GAAG,CAAC,IAAI,CAACA,OAAO;IAC5B,IAAI,IAAI,CAACA,OAAO,EAAE;MAChB;MACA,IAAI,CAACC,eAAe,GAAG,cAAc;MACrC,IAAI,CAACC,cAAc,GAAG,aAAa;MACnC;MACA,IAAIpE,0EAAuB,EAAE;QAC3B,IAAI,CAACkD,aAAa,CAACoB,eAAe,EAAE;OACrC,MAAM;QACL,IAAI,CAACpB,aAAa,CAACqB,iBAAiB,EAAE;;KAEzC,MAAM;MACL;MACA,IAAI,CAACJ,eAAe,GAAG,eAAe;MACtC,IAAI,CAACC,cAAc,GAAG,YAAY;;IAEpC,IAAI,CAACJ,gBAAgB,EAAE;EACzB;EAEA,IAAIQ,mBAAmB;IACrB,OAAO,IAAI,CAACT,WAAW,CAACU,MAAM,CAAEC,UAAU,IAAI;MAC5C,IAAI,IAAI,CAACC,gBAAgB,EAAE;QACzB,MAAMC,KAAK,GAAG,IAAI,CAACC,iBAAiB,CAACC,IAAI,CAACJ,UAAU,CAAC;QACrD,OAAOE,KAAK,IAAIA,KAAK,CAACG,MAAM,CAACC,QAAQ,KAAK,IAAI,CAACL,gBAAgB;OAChE,MAAM;QACL,OAAO,IAAI;;IAEf,CAAC,CAAC;EACJ;EAEA,IAAIM,UAAU;IACZ,OAAO,IAAI,CAACT,mBAAmB,CAACU,IAAI,CAAC,IAAI,CAAC;EAC5C;EAEQ9B,YAAY;IAClB,MAAM+B,SAAS,GAAiB,EAAE;IAClCA,SAAS,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAE,KAAK;MAAEC,KAAK,EAAE;IAAE,CAAE,CAAC;IAC3CC,MAAM,CAACC,OAAO,CAACxC,6DAAQ,CAAC,CAACyC,OAAO,CAAEC,KAAK,IAAKP,SAAS,CAACC,IAAI,CAAC;MAAEC,KAAK,EAAEK,KAAK,CAAC,CAAC,CAAC;MAAEJ,KAAK,EAAEI,KAAK,CAAC,CAAC;IAAC,CAAE,CAAC,CAAC;IACjG,OAAOP,SAAS;EAClB;EAEQQ,kBAAkB;IACxB,IAAIC,QAAQ,GAAG,KAAK;IACpB,IAAIC,MAAM,CAACC,QAAQ,CAACF,QAAQ,KAAK,QAAQ,EAAE;MACzCA,QAAQ,GAAG,MAAM;;IAEnB,MAAMpF,GAAG,GAAG,GAAGoF,QAAQ,KAAKC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG/F,sEAAmB,gBAAgB;IACtF,MAAMgG,MAAM,GAAmC;MAC7CxF,GAAG;MACHyF,YAAY,EAAGC,CAAe,IAAKA,CAAC,CAACC,IAAc;MACnDC,UAAU,EAAGd,KAAa,IAAKA;KAChC;IACD,OAAOvC,yDAAS,CAACiD,MAAM,CAAC;EAC1B;EAEQhC,gBAAgB;IACtB,IAAI,IAAI,CAACE,OAAO,IAAI,CAAC,IAAI,CAACL,eAAe,EAAE;MACzC;MACA,IAAI,CAACwC,YAAY,GAAG,IAAI,CAACV,kBAAkB,EAAE,CAAC,CAAC;MAC/C,IAAI,CAACU,YAAY,CAAC7E,SAAS,CACxBkD,UAAU,IAAI;QACb,IAAI1E,0EAAuB,EAAE;UAC3B;UACA,IAAI,CAAC+D,WAAW,CAACuC,OAAO,CAAC5B,UAAU,CAAC;UACpC,IAAI,CAACxB,aAAa,CAACoB,eAAe,EAAE;SACrC,MAAM;UACL;UACA,IAAI,CAACP,WAAW,CAACqB,IAAI,CAACV,UAAU,CAAC;UACjC,IAAI,CAACxB,aAAa,CAACqB,iBAAiB,EAAE;;MAE1C,CAAC,CAAC;MACJgC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;KACnC,MAAM;MACL;MACA,IAAI,IAAI,CAACH,YAAY,EAAE;QACrB,IAAI,CAACA,YAAY,CAACI,WAAW,EAAE;;MAEjCF,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;;EAEvC;;AAvHWtE,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAN;EAAAC;EAAAC;EAAA4E;EAAA3E;IAAA;MCd7BkB,4DAAAA,aAA0B;MAGtBA,wDAAAA,qEAgBc;MAEdA,4DAAAA,aAAyB;MAAAA,oDAAAA,GAAc;MAAAA,0DAAAA,EAAM;MAKjDA,uDAAAA,qBAA+C;;;MALlBA,uDAAAA,GAAc;MAAdA,+DAAAA,gBAAc;MAK9BA,uDAAAA,GAAmB;MAAnBA,wDAAAA,wBAAmB;;;;;;;;;;;;;;;;;;;AC1BzB,IAAKD,QAMX;EAND,WAAYA,QAAQ;IAClBA,2BAAe;IACfA,yBAAa;IACbA,+BAAmB;IACnBA,2BAAe;IACfA,iCAAqB;EACvB,CAAC,EANWA,QAAQ,KAARA,QAAQ;EAAA,OAARA,QAMX;AAAA","sources":["./src/app/core/services/api/log.service.ts","./src/app/modules/log/clear/log-clear.component.ts","./src/app/modules/log/log-routing.module.ts","./src/app/modules/log/log.module.ts","./src/app/modules/log/view/log-view.component.ts","./src/app/modules/log/view/log-view.component.html","./src/app/shared/models/loglevel.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { appSettings } from '../../../app-settings.service';\r\nimport { ApiServiceTemplate } from './api-service-template';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LogService extends ApiServiceTemplate {\r\n\r\n  private readonly URL = `${appSettings.webRoot}/api/logs`;\r\n\r\n  constructor(private httpClient: HttpClient) {\r\n    super(httpClient);\r\n  }\r\n\r\n  getLogs(lognum?: number): Observable<string[]> {\r\n    const url = lognum ? `${this.URL}/${lognum}` : this.URL;\r\n    return this.httpClient.get<string[]>(url, this.options);\r\n  }\r\n\r\n  clearLogs(): Observable<boolean> {\r\n    return this.httpClient.delete<void>(this.URL, this.options)\r\n      .pipe(map(() => true));\r\n  }\r\n\r\n  getLogCount(): Observable<number> {\r\n    return this.httpClient.get<Count>(`${this.URL}/count`, this.options)\r\n      .pipe(map((count) => count.count));\r\n  }\r\n}\r\n\r\ntype Count = { count: number };\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { LogService } from '../../../core/services/api/log.service';\r\nimport { MessageService } from '../../../core/services/message.service';\r\n\r\n@Component({\r\n  selector: 'app-log-clear',\r\n  templateUrl: './log-clear.component.html',\r\n  styleUrls: ['./log-clear.component.scss']\r\n})\r\nexport class LogClearComponent implements OnInit {\r\n\r\n  constructor(private router: Router, private logService: LogService, private messageService: MessageService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.logService.clearLogs().subscribe(\r\n      (result) => {\r\n        // Redirect to log view after the logs are cleared\r\n        if (result) {\r\n          this.router.navigateByUrl('/log/view');\r\n        }\r\n      },\r\n      () => this.messageService.showErrorMessage(`Unable to clear the logs!`)\r\n    );\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { LogClearComponent } from './clear/log-clear.component';\r\nimport { LogViewComponent } from './view/log-view.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    redirectTo: 'view',\r\n    pathMatch: 'full'\r\n  },\r\n  {\r\n    path: 'view',\r\n    component: LogViewComponent\r\n  },\r\n  {\r\n    path: 'clear',\r\n    component: LogClearComponent\r\n  },\r\n  {\r\n    path: '**', // wildcard to match any non matching routes\r\n    redirectTo: 'view'\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LogRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { LogRoutingModule } from './log-routing.module';\r\nimport { LogViewComponent } from './view/log-view.component';\r\nimport { LogClearComponent } from './clear/log-clear.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LogViewComponent,\r\n    LogClearComponent\r\n  ],\r\n  imports: [\r\n    SharedModule,\r\n    LogRoutingModule\r\n  ]\r\n})\r\nexport class LogModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { SelectItem } from 'primeng/api';\r\nimport { webSocket, WebSocketSubject, WebSocketSubjectConfig } from 'rxjs/webSocket';\r\nimport { appSettings } from '../../../app-settings.service';\r\nimport { LogService } from '../../../core/services/api/log.service';\r\nimport { MessageService } from '../../../core/services/message.service';\r\nimport { ScrollService } from '../../../core/services/scroll.service';\r\nimport { Loglevel } from '../../../shared/models/loglevel';\r\n\r\n@Component({\r\n  selector: 'app-log-view',\r\n  templateUrl: './log-view.component.html',\r\n  styleUrls: ['./log-view.component.scss']\r\n})\r\nexport class LogViewComponent implements OnInit {\r\n\r\n  private readonly LOG_MESSAGE_REGEX = /^((?<date>\\d{4}\\-\\d{2}\\-\\d{2})\\s(?<time>\\d{2}:\\d{2}:\\d{2},\\d{3})\\s(?<loglevel>\\w+))/;\r\n\r\n  logNums: number[];\r\n  selectedLogNum = 0;\r\n  loglevels: SelectItem[];\r\n  selectedLoglevel = '';\r\n  loading = false;\r\n  tailing = false;\r\n  tailingDisabled = false; // true for non current (lognum != 0) logfiles as tailing has no use in this case\r\n  tailButtonLabel = 'Start tailing';\r\n  tailButtonIcon = 'pi pi-play';\r\n\r\n  private logWebsocket: WebSocketSubject<string>;\r\n  private logMessages: string[] = [];\r\n\r\n  constructor(private logService: LogService, private messageService: MessageService, private scrollService: ScrollService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.loglevels = this.getLogLevels();\r\n    this.logService.getLogCount().subscribe((count) => this.logNums = Array.from(Array(count).keys()).map((i) => i + 1)); // get array starting from 1\r\n    this.getLogs(0); // 0 = current logfile\r\n  }\r\n\r\n  getLogs(logNum: number): void {\r\n    this.loading = true;\r\n    this.selectedLogNum = logNum;\r\n    this.tailingDisabled = this.selectedLogNum !== 0; // tailing only allowed when on current logfile -> lognum = 0\r\n    this.logService.getLogs(logNum).subscribe(\r\n      (logLines) => {\r\n        this.logMessages = logLines;\r\n        this.loading = false;\r\n        this.handleLogTailing();\r\n      },\r\n      () => this.messageService.showErrorMessage('Unable to get the logs!')\r\n    );\r\n  }\r\n\r\n  toggleTailing(): void {\r\n    this.tailing = !this.tailing;\r\n    if (this.tailing) {\r\n      // Change button label\r\n      this.tailButtonLabel = 'Stop tailing';\r\n      this.tailButtonIcon = 'pi pi-pause';\r\n      // Scroll to right position when tailing is enabled\r\n      if (appSettings.logReversed) {\r\n        this.scrollService.triggerScrollUp();\r\n      } else {\r\n        this.scrollService.triggerScrollDown();\r\n      }\r\n    } else {\r\n      // Change button label\r\n      this.tailButtonLabel = 'Start tailing';\r\n      this.tailButtonIcon = 'pi pi-play';\r\n    }\r\n    this.handleLogTailing();\r\n  }\r\n\r\n  get filteredLogMessages(): string[] {\r\n    return this.logMessages.filter((logMessage) => {\r\n      if (this.selectedLoglevel) {\r\n        const match = this.LOG_MESSAGE_REGEX.exec(logMessage);\r\n        return match && match.groups.loglevel === this.selectedLoglevel;\r\n      } else {\r\n        return true;\r\n      }\r\n    });\r\n  }\r\n\r\n  get logContent(): string {\r\n    return this.filteredLogMessages.join('\\n');\r\n  }\r\n\r\n  private getLogLevels(): SelectItem[] {\r\n    const logLevels: SelectItem[] = [];\r\n    logLevels.push({ label: 'ALL', value: '' });\r\n    Object.entries(Loglevel).forEach((entry) => logLevels.push({ label: entry[0], value: entry[1] }));\r\n    return logLevels;\r\n  }\r\n\r\n  private createLogWebSocket(): WebSocketSubject<string> {\r\n    let protocol = 'ws:';\r\n    if (window.location.protocol === 'https:') {\r\n      protocol = 'wss:';\r\n    }\r\n    const url = `${protocol}//${window.location.host}${appSettings.webRoot}/websocket/log`;\r\n    const config: WebSocketSubjectConfig<string> = {\r\n      url,\r\n      deserializer: (e: MessageEvent) => e.data as string,\r\n      serializer: (value: string) => value,\r\n    };\r\n    return webSocket(config);\r\n  }\r\n\r\n  private handleLogTailing(): void {\r\n    if (this.tailing && !this.tailingDisabled) {\r\n      // Subscribe on new logs once loaded (only for current logfile -> logNum = 0)\r\n      this.logWebsocket = this.createLogWebSocket(); // Need to create a new socket after unsubscribe\r\n      this.logWebsocket.subscribe(\r\n        (logMessage) => {\r\n          if (appSettings.logReversed) {\r\n            // Append to the top\r\n            this.logMessages.unshift(logMessage);\r\n            this.scrollService.triggerScrollUp();\r\n          } else {\r\n            // Append to the end\r\n            this.logMessages.push(logMessage);\r\n            this.scrollService.triggerScrollDown();\r\n          }\r\n        });\r\n      console.log('Log tailing enabled');\r\n    } else {\r\n      // Unsubscribe when not tailing\r\n      if (this.logWebsocket) {\r\n        this.logWebsocket.unsubscribe();\r\n      }\r\n      console.log('Log tailing disabled');\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"container-lg\">\r\n  <p-panel>\r\n    <!-- Custom panel header -->\r\n    <ng-template pTemplate=\"header\">\r\n      <div class=\"w-100\">\r\n        <div class=\"p-panel-title\">Logfile</div>\r\n        <div>\r\n          <span class=\"log-num\">\r\n            <span class=\"p-tag p-tag-rounded\" [ngClass]=\"{'p-tag-secondary': selectedLogNum !== 0}\" (click)=\"getLogs(0)\">current</span>\r\n            <span *ngFor=\"let logNum of logNums\" class=\"p-badge\" [ngClass]=\"{'p-badge-secondary': selectedLogNum !== logNum}\" (click)=\"getLogs(logNum)\">{{logNum}}</span>\r\n          </span>\r\n          <span class=\"log-tail\">\r\n            <p-button [label]=\"tailButtonLabel\" [icon]=\"tailButtonIcon\" styleClass=\"p-button-outlined\" [disabled]=\"tailingDisabled\" (onClick)=\"toggleTailing()\"></p-button>\r\n          </span>\r\n          <span class=\"log-level\">\r\n            <p-dropdown [options]=\"loglevels\" [(ngModel)]=\"selectedLoglevel\" styleClass=\"p-dropdown-ar\" scrollHeight=\"300px\"></p-dropdown>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </ng-template>\r\n    <!-- Log content -->\r\n    <pre class=\"log-content\">{{logContent}}</pre>\r\n  </p-panel>\r\n</div>\r\n\r\n<!-- Loading component -->\r\n<app-loading [visible]=\"loading\"></app-loading>\r\n\r\n<!-- Scroll component -->\r\n<app-scroll></app-scroll>\r\n","export enum Loglevel {\r\n  DEBUG = 'DEBUG',\r\n  INFO = 'INFO',\r\n  WARNING = 'WARNING',\r\n  ERROR = 'ERROR',\r\n  CRITICAL = 'CRITICAL'\r\n}\r\n"],"names":["map","appSettings","ApiServiceTemplate","LogService","constructor","httpClient","webRoot","getLogs","lognum","url","URL","get","options","clearLogs","delete","pipe","getLogCount","count","factory","providedIn","LogClearComponent","router","logService","messageService","ngOnInit","subscribe","result","navigateByUrl","showErrorMessage","selectors","decls","vars","template","styles","RouterModule","LogViewComponent","routes","path","redirectTo","pathMatch","component","LogRoutingModule","forChild","imports","exports","SharedModule","LogModule","declarations","webSocket","Loglevel","i0","scrollService","loglevels","getLogLevels","logNums","Array","from","keys","i","logNum","loading","selectedLogNum","tailingDisabled","logLines","logMessages","handleLogTailing","toggleTailing","tailing","tailButtonLabel","tailButtonIcon","logReversed","triggerScrollUp","triggerScrollDown","filteredLogMessages","filter","logMessage","selectedLoglevel","match","LOG_MESSAGE_REGEX","exec","groups","loglevel","logContent","join","logLevels","push","label","value","Object","entries","forEach","entry","createLogWebSocket","protocol","window","location","host","config","deserializer","e","data","serializer","logWebsocket","unshift","console","log","unsubscribe","consts"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}