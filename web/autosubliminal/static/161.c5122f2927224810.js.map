{"version":3,"file":"161.c5122f2927224810.js","mappings":"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","sources":["./src/app/modules/library/library-routing.module.ts","./src/app/modules/library/library.module.ts","./src/app/modules/library/movie/detail/library-movie-detail.component.ts","./src/app/modules/library/movie/detail/library-movie-detail.component.html","./src/app/modules/library/movie/overview/library-movie-overview.component.ts","./src/app/modules/library/movie/overview/library-movie-overview.component.html","./src/app/modules/library/overview/library-overview.component.ts","./src/app/modules/library/overview/library-overview.component.html","./src/app/modules/library/scanning/library-scanning.component.ts","./src/app/modules/library/scanning/library-scanning.component.html","./src/app/modules/library/show/detail/library-show-detail.component.ts","./src/app/modules/library/show/detail/library-show-detail.component.html","./src/app/modules/library/show/overview/library-show-overview.component.ts","./src/app/modules/library/show/overview/library-show-overview.component.html","./src/app/modules/library/video/library-video-subtitles.component.ts","./src/app/modules/library/video/library-video-subtitles.component.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { LibraryMovieDetailComponent } from './movie/detail/library-movie-detail.component';\r\nimport { LibraryMovieOverviewComponent } from './movie/overview/library-movie-overview.component';\r\nimport { LibraryOverviewComponent } from './overview/library-overview.component';\r\nimport { LibraryShowDetailComponent } from './show/detail/library-show-detail.component';\r\nimport { LibraryShowOverviewComponent } from './show/overview/library-show-overview.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    redirectTo: 'overview',\r\n    pathMatch: 'full'\r\n  },\r\n  {\r\n    path: 'overview',\r\n    component: LibraryOverviewComponent\r\n  },\r\n  {\r\n    path: 'show',\r\n    children: [\r\n      {\r\n        path: 'overview',\r\n        component: LibraryShowOverviewComponent\r\n      },\r\n      {\r\n        path: 'detail/:tvdbId',\r\n        component: LibraryShowDetailComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: 'movie',\r\n    children: [\r\n      {\r\n        path: 'overview',\r\n        component: LibraryMovieOverviewComponent\r\n      },\r\n      {\r\n        path: 'detail/:imdbId',\r\n        component: LibraryMovieDetailComponent\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '**', // wildcard to match any non matching routes\r\n    redirectTo: 'overview'\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LibraryRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { LibraryRoutingModule } from './library-routing.module';\r\nimport { LibraryMovieDetailComponent } from './movie/detail/library-movie-detail.component';\r\nimport { LibraryMovieOverviewComponent } from './movie/overview/library-movie-overview.component';\r\nimport { LibraryOverviewComponent } from './overview/library-overview.component';\r\nimport { LibraryScanningComponent } from './scanning/library-scanning.component';\r\nimport { LibraryShowDetailComponent } from './show/detail/library-show-detail.component';\r\nimport { LibraryShowOverviewComponent } from './show/overview/library-show-overview.component';\r\nimport { LibraryVideoSubtitlesComponent } from './video/library-video-subtitles.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LibraryScanningComponent,\r\n    LibraryVideoSubtitlesComponent,\r\n    LibraryOverviewComponent,\r\n    LibraryShowOverviewComponent,\r\n    LibraryShowDetailComponent,\r\n    LibraryMovieOverviewComponent,\r\n    LibraryMovieDetailComponent\r\n  ],\r\n  imports: [\r\n    SharedModule,\r\n    LibraryRoutingModule\r\n  ]\r\n})\r\nexport class LibraryModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ConfirmationService } from 'primeng/api';\r\nimport { appSettings } from '../../../../app-settings.service';\r\nimport { MovieService } from '../../../../core/services/api/movie.service';\r\nimport { SettingsService } from '../../../../core/services/api/settings.service';\r\nimport { ArtworkService } from '../../../../core/services/artwork.service';\r\nimport { MessageService } from '../../../../core/services/message.service';\r\nimport { FileType } from '../../../../shared/models/filetype';\r\nimport { Movie } from '../../../../shared/models/movie';\r\nimport { VideoSubtitles } from '../../../../shared/models/video';\r\nimport { getImdbUrl, getPlayVideoUrl, getPosterPlaceholderUrl } from '../../../../shared/utils/common-utils';\r\nimport { joinPaths } from '../../../../shared/utils/path-utils';\r\n\r\n@Component({\r\n  selector: 'app-library-movie-detail',\r\n  templateUrl: './library-movie-detail.component.html',\r\n  styleUrls: ['./library-movie-detail.component.scss']\r\n})\r\nexport class LibraryMovieDetailComponent implements OnInit {\r\n\r\n  readonly videoFileType = FileType.VIDEO;\r\n  readonly subtitleFileType = FileType.SUBTITLE;\r\n\r\n  movie: Movie;\r\n  loading = false;\r\n  refreshInProgress = false;\r\n  showMovieSettings = false;\r\n  showVideoSubtitles = false;\r\n  showSubtitleSync = false;\r\n  manualSubSyncEnabled = false;\r\n  libraryEditModeEnabled = false;\r\n  videoSubtitles: VideoSubtitles;\r\n  movieVideoFilePath: string;\r\n  movieSubtitleFilePath: string;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private domSanitizer: DomSanitizer,\r\n    private movieService: MovieService,\r\n    private artworkService: ArtworkService,\r\n    private settingsService: SettingsService,\r\n    private messageService: MessageService,\r\n    private confirmationService: ConfirmationService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.manualSubSyncEnabled = appSettings.manualSubSync;\r\n    this.libraryEditModeEnabled = appSettings.libraryEditMode;\r\n    this.route.paramMap.subscribe(\r\n      (paramMap) => {\r\n        this.loading = true;\r\n        const imdbId = paramMap.get('imdbId');\r\n        this.getMovieDetails(imdbId);\r\n      });\r\n  }\r\n\r\n  getMoviePosterFullSizeUrl(): string {\r\n    return this.artworkService.getMoviePosterFullSizeUrl(this.movie.imdbId);\r\n  }\r\n\r\n  getMoviePosterThumbnailUrl(): string {\r\n    return this.artworkService.getMoviePosterThumbnailUrl(this.movie.imdbId);\r\n  }\r\n\r\n  getPosterPlaceholderUrl(): string {\r\n    return getPosterPlaceholderUrl();\r\n  }\r\n\r\n  getImdbUrl(): string {\r\n    return getImdbUrl(this.movie.imdbId);\r\n  }\r\n\r\n  getPlayVideoUrl(filePath: string, fileName: string): SafeResourceUrl {\r\n    return this.domSanitizer.bypassSecurityTrustResourceUrl(getPlayVideoUrl(filePath, fileName));\r\n  }\r\n\r\n  openSettingsDialog(): void {\r\n    this.showMovieSettings = true;\r\n  }\r\n\r\n  refreshMovieDetails(): void {\r\n    this.refreshInProgress = true;\r\n    this.movieService.refreshMovieDetails(this.movie.imdbId).subscribe(\r\n      () => {\r\n        this.getMovieDetails(this.movie.imdbId);\r\n        this.refreshInProgress = false;\r\n      },\r\n      () => this.messageService.showErrorMessage('Unable to refresh the movie details!')\r\n    );\r\n  }\r\n\r\n  openDeleteDialog(): void {\r\n    this.confirmationService.confirm({\r\n      message: `Are you sure that you want to delete <b>${this.movie.name}</b>?`,\r\n      accept: () => {\r\n        this.movieService.deleteMovie(this.movie.imdbId).subscribe(\r\n          () => {\r\n            this.router.navigateByUrl('/library/movie');\r\n          },\r\n          () => this.messageService.showErrorMessage(`Unable to delete the movie ${this.movie.name}!`)\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  openDeleteSubtitleDialog(filePath: string, fileName: string): void {\r\n    this.confirmationService.confirm({\r\n      message: `Are you sure that you want to delete the subtitle<br><b>${fileName}</b>?`,\r\n      accept: () => {\r\n        this.movieService.deleteMovieSubtitle(this.movie.imdbId, joinPaths(filePath, fileName)).subscribe(\r\n          () => {\r\n            // Reload details\r\n            this.getMovieDetails(this.movie.imdbId);\r\n            this.messageService.showSuccessMessage(`Deleted ${fileName}.`);\r\n          },\r\n          () => this.messageService.showErrorMessage(`Unable to delete the subtitle ${fileName}!`)\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  addMoviePathToVideoPaths(): void {\r\n    const videoPath = { videoPath: this.movie.path };\r\n    this.settingsService.updateGeneralSetting('videoPaths', videoPath).subscribe(\r\n      () => {\r\n        this.messageService.showSuccessMessage(`Path ${this.movie.path} added to the video paths.`);\r\n        this.getMovieDetails(this.movie.imdbId);\r\n      },\r\n      (error) => {\r\n        if (error.status && error.status === 409) {\r\n          this.messageService.showInfoMessage(`Path ${this.movie.path} already added to the video paths.`);\r\n        } else {\r\n          this.messageService.showErrorMessage(`Unable to add path ${this.movie.path} to the video paths!`);\r\n        }\r\n      });\r\n  }\r\n\r\n  openVideoSubtitlesDialog(fileLocation: string, fileName: string, languages: string[]): void {\r\n    this.videoSubtitles = new VideoSubtitles();\r\n    this.videoSubtitles.fileLocation = fileLocation;\r\n    this.videoSubtitles.fileName = fileName;\r\n    this.videoSubtitles.languages = languages;\r\n    this.showVideoSubtitles = true;\r\n  }\r\n\r\n  closeVideoSubtitlesDialog(): void {\r\n    this.showVideoSubtitles = false;\r\n    this.videoSubtitles = null;\r\n  }\r\n\r\n  openSubtitleSyncDialog(videoFilePath: string, subtitleFilepath: string): void {\r\n    this.movieVideoFilePath = videoFilePath;\r\n    this.movieSubtitleFilePath = subtitleFilepath;\r\n    this.showSubtitleSync = true;\r\n  }\r\n\r\n  saveHardcodedSubtitles(videoSubtitles: VideoSubtitles): void {\r\n    this.movieService.saveMovieHardcodedSubtitles(this.movie.imdbId, videoSubtitles).subscribe(\r\n      () => {\r\n        this.closeVideoSubtitlesDialog();\r\n        this.getMovieDetails(this.movie.imdbId);\r\n      },\r\n      () => this.messageService.showErrorMessage('Unable to save the hardcoded subtitles!')\r\n    );\r\n  }\r\n\r\n  private getMovieDetails(imdbId: string): void {\r\n    this.movieService.getMovieDetails(imdbId).subscribe(\r\n      (movie) => {\r\n        this.movie = movie;\r\n        this.loading = false;\r\n      },\r\n      () => this.messageService.showErrorMessage('Unable to get the movie details!')\r\n    );\r\n  }\r\n}\r\n","<div class=\"container-lg\">\r\n  <p-panel header=\"Movie details\">\r\n    <!-- Library scanning message -->\r\n    <app-library-scanning></app-library-scanning>\r\n    <!-- Details refreshing message -->\r\n    <app-message [visible]=\"refreshInProgress\">\r\n      <i class=\"fa fa-spinner fa-spin mr-2\" aria-hidden=\"true\"></i>\r\n      <span>Refreshing movie details...</span>\r\n    </app-message>\r\n    <!-- Details -->\r\n    <div class=\"library-details-container\" *ngIf=\"movie\">\r\n      <!-- Info -->\r\n      <div class=\"row mb-3\">\r\n        <div class=\"col-12 library-details-info-container\">\r\n          <div class=\"library-details-info-poster\">\r\n            <a [href]=\"getMoviePosterFullSizeUrl()\" target=\"_blank\">\r\n              <img class=\"library-details-info-poster-image\" [lazyLoad]=\"getMoviePosterThumbnailUrl()\" [defaultImage]=\"getPosterPlaceholderUrl()\" title=\"Click to view full size\">\r\n            </a>\r\n          </div>\r\n          <div class=\"library-details-info\">\r\n            <div class=\"row\">\r\n              <div class=\"col-12 library-details-info-title\">\r\n                <span>{{movie.name}}</span>\r\n                <span class=\"icon-group\">\r\n                  <a class=\"icon-link\" [href]=\"getImdbUrl()\" target=\"_blank\">\r\n                    <i class=\"fa fa-imdb\" aria-hidden=\"true\" title=\"Click to visit Imdb\"></i>\r\n                  </a>\r\n                  <a class=\"icon-link\" (click)=\"openSettingsDialog()\">\r\n                    <i class=\"fa fa-wrench\" aria-hidden=\"true\" title=\"Click to edit movie settings\"></i>\r\n                  </a>\r\n                  <a class=\"icon-link\" (click)=\"refreshMovieDetails()\">\r\n                    <i class=\"fa fa-repeat\" aria-hidden=\"true\" title=\"Click to refresh movie details\"></i>\r\n                  </a>\r\n                  <a class=\"icon-link\" (click)=\"openDeleteDialog()\">\r\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\" title=\"Click to delete movie from the database\"></i>\r\n                  </a>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-12\">\r\n                <hr>\r\n              </div>\r\n            </div>\r\n            <div class=\"row mb-3\">\r\n              <div class=\"col-12\">{{movie.overview}}</div>\r\n            </div>\r\n            <div class=\"row mb-2\">\r\n              <div class=\"col-3\">Location:</div>\r\n              <div class=\"col-9 wrap-text\">\r\n                {{movie.path}}\r\n                <a *ngIf=\"!movie.pathInVideoPaths\" class=\"icon-link\" (click)=\"addMoviePathToVideoPaths()\">\r\n                  <i class=\"fa fa-plus\" aria-hidden=\"true\" title=\"Click to add the movie path to the video paths to scan\"></i>\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div class=\"row mb-2\">\r\n              <div class=\"col-3\">Wanted languages:</div>\r\n              <div class=\"col-9\"><span *ngFor=\"let language of movie.settings.wantedLanguages\" class=\"p-tag language mr-2\">{{language}}</span></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- Files summary -->\r\n      <div class=\"row mb-3\">\r\n        <div class=\"col-12\">\r\n          <hr>\r\n          <div class=\"library-details-files-summary\">\r\n            <span class=\"summary-title\">Files</span>\r\n            <span class=\"summary-progress-bar ml-auto\">\r\n              <app-progress-bar [value]=\"movie.totalSubtitlesAvailable\" [total]=\"movie.totalSubtitlesWanted\"></app-progress-bar>\r\n            </span>\r\n          </div>\r\n          <hr>\r\n        </div>\r\n      </div>\r\n      <!-- Files -->\r\n      <div class=\"row mb-3\">\r\n        <div class=\"col-12 library-details-files\">\r\n          <p-table [value]=\"movie.files\" [autoLayout]=\"true\" styleClass=\"p-datatable-sm\">\r\n            <ng-template pTemplate=\"body\" let-file>\r\n              <tr>\r\n                <td class=\"wrap-text\">\r\n                  <span>{{file.fileName}}</span>\r\n                  <span class=\"icon-group\">\r\n                    <a *ngIf=\"file.isVideo\" class=\"icon-link\" [href]=\"getPlayVideoUrl(movie.path, file.fileName)\">\r\n                      <i class=\"fa fa-play-circle-o\" aria-hidden=\"true\" title=\"Click to play video\"></i>\r\n                    </a>\r\n                    <a *ngIf=\"libraryEditModeEnabled && file.isVideo\" class=\"icon-link\" (click)=\"openVideoSubtitlesDialog(movie.path, file.fileName, file.hardcodedLanguages)\">\r\n                      <i class=\"fa fa-wrench\" aria-hidden=\"true\" title=\"Click to save hardcoded subtitle languages\"></i>\r\n                    </a>\r\n                    <a *ngIf=\"manualSubSyncEnabled && file.isSubtitle\" class=\"icon-link\" (click)=\"openSubtitleSyncDialog(movie.getMovieFilePath(videoFileType), movie.getMovieFilePath(subtitleFileType, file.fileName))\">\r\n                      <i class=\"fa fa-refresh\" aria-hidden=\"true\" title=\"Click to synchronize subtitle\"></i>\r\n                    </a>\r\n                    <a *ngIf=\"libraryEditModeEnabled && file.isSubtitle\" class=\"icon-link\" (click)=\"openDeleteSubtitleDialog(file.filePath, file.fileName)\">\r\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\" title=\"Click to remove subtitle\"></i>\r\n                    </a>\r\n                  </span>\r\n                </td>\r\n                <td *ngIf=\"file.isVideo\" class=\"text-right\">\r\n                  <!-- language is an array in case of video type -->\r\n                  <span class=\"p-tag language ml-2\" *ngFor=\"let language of file.hardcodedLanguages\">{{language}}</span>\r\n                  <span class=\"p-tag language ml-2\" *ngFor=\"let language of file.embeddedLanguages\">{{language}}</span>\r\n                  <span class=\"p-tag language ml-2\" *ngIf=\"file.internalLanguagesAvailable\">internal</span>\r\n                  <span class=\"p-tag filetype ml-2\">{{file.type}}</span>\r\n                </td>\r\n                <td *ngIf=\"file.isSubtitle\" class=\"text-right\">\r\n                  <!-- language is a string in case of subtitle type -->\r\n                  <span class=\"p-tag language ml-2\" *ngIf=\"file.language\">{{file.language}}</span>\r\n                  <span class=\"p-tag filetype ml-2\">{{file.type}}</span>\r\n                </td>\r\n              </tr>\r\n            </ng-template>\r\n          </p-table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </p-panel>\r\n</div>\r\n\r\n<!-- Confirmation dialog -->\r\n<p-confirmDialog header=\"Confirmation\" icon=\"pi pi-exclamation-triangle\"></p-confirmDialog>\r\n\r\n<!-- Movie settings dialog -->\r\n<app-movie-settings *ngIf=\"showMovieSettings\"\r\n                    [(visible)]=\"showMovieSettings\"\r\n                    [imdbId]=\"movie.imdbId\"\r\n                    [title]=\"movie.name\"\r\n                    [movieSettings]=\"movie.settings\">\r\n</app-movie-settings>\r\n\r\n<!-- Subtitle sync dialog -->\r\n<app-subtitle-sync *ngIf=\"showSubtitleSync\"\r\n                   [(visible)]=\"showSubtitleSync\"\r\n                   [videoPath]=\"movieVideoFilePath\"\r\n                   [subtitlePath]=\"movieSubtitleFilePath\">\r\n</app-subtitle-sync>\r\n\r\n<!-- Library video subtitles dialog -->\r\n<app-library-video-subtitles *ngIf=\"showVideoSubtitles\"\r\n                             [(visible)]=\"showVideoSubtitles\"\r\n                             [videoSubtitles]=\"videoSubtitles\"\r\n                             (save)=\"saveHardcodedSubtitles($event)\">\r\n</app-library-video-subtitles>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { SortEvent } from 'primeng/api';\r\nimport { Subscription } from 'rxjs';\r\nimport { appSettings } from '../../../../app-settings.service';\r\nimport { MovieService } from '../../../../core/services/api/movie.service';\r\nimport { ArtworkService } from '../../../../core/services/artwork.service';\r\nimport { MessageService } from '../../../../core/services/message.service';\r\nimport { SystemEventService } from '../../../../core/services/system-event.service';\r\nimport { Movie } from '../../../../shared/models/movie';\r\nimport { naturalSort } from '../../../../shared/utils/table-utils';\r\n\r\n@Component({\r\n  selector: 'app-library-movie-overview',\r\n  templateUrl: './library-movie-overview.component.html',\r\n  styleUrls: ['./library-movie-overview.component.scss']\r\n})\r\nexport class LibraryMovieOverviewComponent implements OnInit, OnDestroy {\r\n\r\n  loading = false;\r\n  movies: Movie[];\r\n  nrOfMovies = 0;\r\n  globalFilterFields = ['title', 'year', 'path', 'settings.wantedLanguages', 'totalSubtitlesAvailable'];\r\n  tableStateKey = 'autosubliminal-library-movie-overview-table';\r\n\r\n  private scanLibrarySubscription: Subscription;\r\n\r\n  constructor(\r\n    private systemEventService: SystemEventService,\r\n    private movieService: MovieService,\r\n    private artworkService: ArtworkService,\r\n    private messageService: MessageService) { }\r\n\r\n  ngOnInit(): void {\r\n    // Load overview\r\n    this.loadOverview();\r\n    // Subscribe on scanLibrary finish events to reload the overview\r\n    this.scanLibrarySubscription = this.systemEventService.schedulerFinish.subscribe(\r\n      (scheduler) => {\r\n        if (scheduler.name === appSettings.scanLibrary) {\r\n          this.loadOverview();\r\n        }\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.scanLibrarySubscription.unsubscribe();\r\n  }\r\n\r\n  private loadOverview(): void {\r\n    this.loading = true;\r\n    this.movieService.getMovies().subscribe(\r\n      (movies) => {\r\n        this.movies = movies;\r\n        this.nrOfMovies = this.movies.length;\r\n        this.loading = false;\r\n      },\r\n      () => this.messageService.showErrorMessage('Unable to get the movies!')\r\n    );\r\n  }\r\n\r\n  sort(event: SortEvent): void {\r\n    naturalSort(event);\r\n  }\r\n\r\n  getMoviePosterThumbnailUrl(imdbId: string): string {\r\n    return this.artworkService.getMoviePosterThumbnailUrl(imdbId);\r\n  }\r\n\r\n  getPosterPlaceholderUrl(): string {\r\n    return 'assets/poster-placeholder.jpg';\r\n  }\r\n}\r\n","<div class=\"container-lg\">\r\n  <p-panel header=\"Movie library\">\r\n    <!-- Library scanning message -->\r\n    <app-library-scanning></app-library-scanning>\r\n    <!-- Overview -->\r\n    <div class=\"row\">\r\n      <div class=\"col-12 library-overview-container\">\r\n        <p-table #movieTable\r\n                 [value]=\"movies\"\r\n                 [stateKey]=\"tableStateKey\"\r\n                 [loading]=\"loading\"\r\n                 [autoLayout]=\"true\"\r\n                 [rowHover]=\"true\"\r\n                 [paginator]=\"true\"\r\n                 [rows]=\"10\"\r\n                 [rowsPerPageOptions]=\"[5,10,25,50,{showAll:'All'}]\"\r\n                 [showCurrentPageReport]=\"true\"\r\n                 [globalFilterFields]=\"globalFilterFields\"\r\n                 [customSort]=\"true\"\r\n                 (sortFunction)=\"sort($event)\"\r\n                 stateStorage=\"local\"\r\n                 currentPageReportTemplate=\"{first} to {last} of {totalRecords}\"\r\n                 styleClass=\"p-datatable-sm p-datatable-gridlines p-datatable-striped p-datatable-responsive-mode\">\r\n          <ng-template pTemplate=\"caption\">\r\n            <div class=\"caption\">\r\n              <span class=\"w-100\">\r\n                <p-button [label]=\"nrOfMovies + ' movies'\" styleClass=\"p-button-static p-button-outlined\"></p-button>\r\n              </span>\r\n              <span class=\"ml-auto\">\r\n                <app-table-filter [table]=\"movieTable\" [tableStateKey]=\"tableStateKey\" matchMode='contains'></app-table-filter>\r\n              </span>\r\n            </div>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"header\">\r\n            <tr>\r\n              <th pSortableColumn=\"title\"><span>Title<p-sortIcon field=\"title\"></p-sortIcon></span></th>\r\n              <th pSortableColumn=\"year\"><span>Year<p-sortIcon field=\"year\"></p-sortIcon></span></th>\r\n              <th pSortableColumn=\"path\"><span>Path<p-sortIcon field=\"path\"></p-sortIcon></span></th>\r\n              <th pSortableColumn=\"settings.wantedLanguages\"><span>Wanted subtitles<p-sortIcon field=\"settings.wantedLanguages\"></p-sortIcon></span></th>\r\n              <th pSortableColumn=\"totalSubtitlesAvailable\"><span>Subtitles<p-sortIcon field=\"totalSubtitlesAvailable\"></p-sortIcon></span></th>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"body\" let-movie>\r\n            <tr>\r\n              <td>\r\n                <span class=\"p-column-title\">Title</span>\r\n                <span class=\"p-column-data title-container\">\r\n                  <span class=\"title-container-wrapper\">\r\n                    <span class=\"title-poster-container\">\r\n                      <a [routerLink]=\"['/library/movie/detail',movie.imdbId]\" [title]=\"movie.title\">\r\n                        <img *ngIf=\"movie.poster\" class=\"title-poster-image\" [lazyLoad]=\"getMoviePosterThumbnailUrl(movie.imdbId)\" [defaultImage]=\"getPosterPlaceholderUrl()\">\r\n                      </a>\r\n                    </span>\r\n                    <span class=\"title-text\">\r\n                      <a [routerLink]=\"['/library/movie/detail',movie.imdbId]\">{{movie.title}}</a>\r\n                    </span>\r\n                  </span>\r\n                </span>\r\n              </td>\r\n              <td>\r\n                <span class=\"p-column-title\">Year</span>\r\n                <span class=\"p-column-data\">{{movie.year}}</span>\r\n              </td>\r\n              <td>\r\n                <span class=\"p-column-title\">Path</span>\r\n                <span class=\"p-column-data wrap-text\">{{movie.path}}</span>\r\n              </td>\r\n              <td>\r\n                <span class=\"p-column-title\">Wanted subtitles</span>\r\n                <span class=\"p-column-data\"><span *ngFor=\"let lang of movie.settings.wantedLanguages\" class=\"p-tag p-tag-small p-tag-secondary mr-2\">{{lang}}</span></span>\r\n              </td>\r\n              <td>\r\n                <span class=\"p-column-title\">Subtitles</span>\r\n                <span class=\"p-column-data\">\r\n                  <app-progress-bar class=\"w-100\" [value]=\"movie.totalSubtitlesAvailable\" [total]=\"movie.totalSubtitlesWanted\"></app-progress-bar>\r\n                </span>\r\n              </td>\r\n            </tr>\r\n          </ng-template>\r\n        </p-table>\r\n      </div>\r\n    </div>\r\n  </p-panel>\r\n</div>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { forkJoin, Subscription } from 'rxjs';\r\nimport { appSettings } from '../../../app-settings.service';\r\nimport { MovieService } from '../../../core/services/api/movie.service';\r\nimport { ShowService } from '../../../core/services/api/show.service';\r\nimport { MessageService } from '../../../core/services/message.service';\r\nimport { SystemEventService } from '../../../core/services/system-event.service';\r\nimport { MoviesOverview } from '../../../shared/models/movie';\r\nimport { ShowsOverview } from '../../../shared/models/show';\r\n\r\n@Component({\r\n  selector: 'app-library-overview',\r\n  templateUrl: './library-overview.component.html',\r\n  styleUrls: ['./library-overview.component.scss']\r\n})\r\nexport class LibraryOverviewComponent implements OnInit, OnDestroy {\r\n\r\n  loading = false;\r\n  showsOverview: ShowsOverview;\r\n  moviesOverview: MoviesOverview;\r\n\r\n  private scanLibrarySubscription: Subscription;\r\n\r\n  constructor(\r\n    private systemEventService: SystemEventService,\r\n    private showService: ShowService,\r\n    private movieService: MovieService,\r\n    private messageService: MessageService) { }\r\n\r\n  ngOnInit(): void {\r\n    // Load overview\r\n    this.loadOverview();\r\n    // Subscribe on scanLibrary finish events to reload the overview\r\n    this.scanLibrarySubscription = this.systemEventService.schedulerFinish.subscribe(\r\n      (scheduler) => {\r\n        if (scheduler.name === appSettings.scanLibrary) {\r\n          this.loadOverview();\r\n        }\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.scanLibrarySubscription.unsubscribe();\r\n  }\r\n\r\n  private loadOverview(): void {\r\n    this.loading = true;\r\n    // Load shows and movies overview\r\n    forkJoin([this.showService.getShowsOverview(), this.movieService.getMoviesOverview()]).subscribe(\r\n      ([showsOverview, moviesOverview]) => {\r\n        this.showsOverview = showsOverview;\r\n        this.moviesOverview = moviesOverview;\r\n        this.loading = false;\r\n      },\r\n      () => this.messageService.showErrorMessage('Unable to get the library overview!')\r\n    );\r\n  }\r\n}\r\n","<div class=\"container-lg\">\r\n  <p-panel header=\"Library overview\">\r\n    <!-- Library scanning message -->\r\n    <app-library-scanning></app-library-scanning>\r\n    <!-- Overview -->\r\n    <div class=\"row\">\r\n      <!-- Shows overview -->\r\n      <div *ngIf=\"showsOverview\" class=\"col-12 col-sm-12 col-md-6 col-lg-6 mb-3 mb-sm-3 mb-md-0 mb-lg-0\">\r\n        <div class=\"overview-container\">\r\n          <div class=\"overview-data\">\r\n            <a [routerLink]=\"['/library/show/overview']\">\r\n              <img src=\"assets/shows.jpg\" class=\"overview-image\" title=\"Click to view shows\">\r\n            </a>\r\n          </div>\r\n          <div class=\"overview-data\">\r\n            <span>\r\n              <span>Total shows: {{showsOverview.totalShows}}</span>\r\n              <app-icon-dropdown iconClass=\"fa fa-exclamation-triangle text-danger\" *ngIf=\"showsOverview.failedShows.length > 0\">\r\n                <li><span class=\"icon-dropdown-title\">List of failed shows:</span></li>\r\n                <hr>\r\n                <li *ngFor=\"let failedShow of showsOverview.failedShows\"><span>{{failedShow}}</span></li>\r\n              </app-icon-dropdown>\r\n            </span>\r\n            <span>Total episodes: {{showsOverview.totalEpisodes}}</span>\r\n          </div>\r\n          <div class=\"overview-data\">\r\n            <span>Total subtitles available:</span>\r\n          </div>\r\n          <div class=\"overview-data\">\r\n            <app-progress-bar class=\"w-100\" [value]=\"showsOverview.totalSubtitlesAvailable\" [total]=\"showsOverview.totalSubtitlesWanted\"></app-progress-bar>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- Movies overview -->\r\n      <div *ngIf=\"moviesOverview\" class=\"col-12 col-sm-12 col-md-6 col-lg-6\">\r\n        <div class=\"overview-container\">\r\n          <div class=\"overview-data\">\r\n            <a [routerLink]=\"['/library/movie/overview']\">\r\n              <img src=\"assets/movies.jpg\" class=\"overview-image image-hover\" title=\"Click to view movies\">\r\n            </a>\r\n          </div>\r\n          <div class=\"overview-data\">\r\n            <span>\r\n              <span>Total movies: {{moviesOverview.totalMovies}}</span>\r\n              <app-icon-dropdown iconClass=\"fa fa-exclamation-triangle text-danger\" *ngIf=\"moviesOverview.failedMovies.length > 0\">\r\n                <li><span class=\"icon-dropdown-title\">List of failed movies:</span></li>\r\n                <hr>\r\n                <li *ngFor=\"let failedMovie of moviesOverview.failedMovies\"><span>{{failedMovie}}</span></li>\r\n              </app-icon-dropdown>\r\n            </span>\r\n          </div>\r\n          <div class=\"overview-data\">\r\n            <span>Total subtitles available:</span>\r\n          </div>\r\n          <div class=\"overview-data\">\r\n            <app-progress-bar class=\"w-100\" [value]=\"moviesOverview.totalSubtitlesAvailable\" [total]=\"moviesOverview.totalSubtitlesWanted\"></app-progress-bar>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </p-panel>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { appSettings } from '../../../app-settings.service';\r\nimport { SystemService } from '../../../core/services/api/system.service';\r\nimport { SystemEventService } from '../../../core/services/system-event.service';\r\n\r\n@Component({\r\n  selector: 'app-library-scanning',\r\n  templateUrl: './library-scanning.component.html',\r\n  styleUrls: ['./library-scanning.component.scss']\r\n})\r\nexport class LibraryScanningComponent implements OnInit {\r\n\r\n  scanningInProgress = false;\r\n\r\n  constructor(private systemService: SystemService, private systemEventService: SystemEventService) { }\r\n\r\n  ngOnInit(): void {\r\n    // Check if library scanner is running\r\n    this.systemService.getScheduler(appSettings.scanLibrary).subscribe(\r\n      (scheduler) => {\r\n        this.scanningInProgress = scheduler.running;\r\n      });\r\n    // Subscribe on scheduler finish events to check if library scanner is started\r\n    this.systemEventService.schedulerStart.subscribe(\r\n      (scheduler) => {\r\n        this.scanningInProgress = scheduler.name === appSettings.scanLibrary ? true : this.scanningInProgress;\r\n      });\r\n    // Subscribe on scheduler finish events to check if library scanner is finished\r\n    this.systemEventService.schedulerFinish.subscribe(\r\n      (scheduler) => {\r\n        this.scanningInProgress = scheduler.name === appSettings.scanLibrary ? false : this.scanningInProgress;\r\n      });\r\n  }\r\n\r\n}\r\n","<!-- Library scanning message -->\r\n<app-message [visible]=\"scanningInProgress\">\r\n  <i class=\"fa fa-spinner fa-spin mr-2\" aria-hidden=\"true\"></i>\r\n  <span>Scanning library...</span>\r\n</app-message>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ConfirmationService } from 'primeng/api';\r\nimport { appSettings } from '../../../../app-settings.service';\r\nimport { SettingsService } from '../../../../core/services/api/settings.service';\r\nimport { ShowService } from '../../../../core/services/api/show.service';\r\nimport { ArtworkService } from '../../../../core/services/artwork.service';\r\nimport { MessageService } from '../../../../core/services/message.service';\r\nimport { FileType } from '../../../../shared/models/filetype';\r\nimport { Show, ShowEpisodeFile } from '../../../../shared/models/show';\r\nimport { VideoSubtitles } from '../../../../shared/models/video';\r\nimport { getPlayVideoUrl, getPosterPlaceholderUrl, getTvdbUrl } from '../../../../shared/utils/common-utils';\r\nimport { joinPaths } from '../../../../shared/utils/path-utils';\r\n\r\n@Component({\r\n  selector: 'app-library-show-detail',\r\n  templateUrl: './library-show-detail.component.html',\r\n  styleUrls: ['./library-show-detail.component.scss']\r\n})\r\nexport class LibraryShowDetailComponent implements OnInit {\r\n\r\n  readonly videoFileType = FileType.VIDEO;\r\n  readonly subtitleFileType = FileType.SUBTITLE;\r\n\r\n  show: Show;\r\n  loading = false;\r\n  refreshInProgress = false;\r\n  showShowSettings = false;\r\n  showVideoSubtitles = false;\r\n  showSubtitleSync = false;\r\n  manualSubSyncEnabled = false;\r\n  libraryEditModeEnabled = false;\r\n  videoSubtitles: VideoSubtitles;\r\n  episodeVideoFilePath: string;\r\n  episodeSubtitleFilePath: string;\r\n  episodeTvdbId: number;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private domSanitizer: DomSanitizer,\r\n    private showService: ShowService,\r\n    private artworkService: ArtworkService,\r\n    private settingsService: SettingsService,\r\n    private messageService: MessageService,\r\n    private confirmationService: ConfirmationService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.manualSubSyncEnabled = appSettings.manualSubSync;\r\n    this.libraryEditModeEnabled = appSettings.libraryEditMode;\r\n    this.route.paramMap.subscribe(\r\n      (paramMap) => {\r\n        this.loading = true;\r\n        const tvdbId = Number(paramMap.get('tvdbId'));\r\n        this.getShowDetails(tvdbId);\r\n      });\r\n  }\r\n\r\n  getShowPosterFullSizeUrl(): string {\r\n    return this.artworkService.getShowPosterFullSizeUrl(this.show.tvdbId);\r\n  }\r\n\r\n  getShowPosterThumbnailUrl(): string {\r\n    return this.artworkService.getShowPosterThumbnailUrl(this.show.tvdbId);\r\n  }\r\n\r\n  getPosterPlaceholderUrl(): string {\r\n    return getPosterPlaceholderUrl();\r\n  }\r\n\r\n  getTvdbUrl(): string {\r\n    return getTvdbUrl(this.show.tvdbId);\r\n  }\r\n\r\n  getPlayVideoUrl(filePath: string, fileName: string): SafeResourceUrl {\r\n    return this.domSanitizer.bypassSecurityTrustResourceUrl(getPlayVideoUrl(filePath, fileName));\r\n  }\r\n\r\n  openSettingsDialog(): void {\r\n    this.showShowSettings = true;\r\n  }\r\n\r\n  refreshShowDetails(): void {\r\n    this.refreshInProgress = true;\r\n    this.showService.refreshShowDetails(this.show.tvdbId).subscribe(\r\n      () => {\r\n        this.getShowDetails(this.show.tvdbId);\r\n        this.refreshInProgress = false;\r\n      },\r\n      () => this.messageService.showErrorMessage('Unable to refresh the show details!')\r\n    );\r\n  }\r\n\r\n  openDeleteDialog(): void {\r\n    this.confirmationService.confirm({\r\n      message: `Are you sure that you want to delete <b>${this.show.name}</b>?`,\r\n      accept: () => {\r\n        this.showService.deleteShow(this.show.tvdbId).subscribe(\r\n          () => this.router.navigateByUrl('/library/show'),\r\n          () => this.messageService.showErrorMessage(`Unable to delete the show ${this.show.name}!`)\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  openDeleteSubtitleDialog(episodeTvdbId: number, filePath: string, fileName: string): void {\r\n    this.confirmationService.confirm({\r\n      message: `Are you sure that you want to delete the subtitle<br><b>${fileName}</b>?`,\r\n      accept: () => {\r\n        this.showService.deleteShowEpisodeSubtitle(this.show.tvdbId, episodeTvdbId, joinPaths(filePath, fileName)).subscribe(\r\n          () => {\r\n            // Reload details\r\n            this.getShowDetails(this.show.tvdbId);\r\n            this.messageService.showSuccessMessage(`Deleted ${fileName}.`);\r\n          },\r\n          () => this.messageService.showErrorMessage(`Unable to delete the subtitle ${fileName}!`)\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  addShowPathToVideoPaths(): void {\r\n    const videoPath = { videoPath: this.show.path };\r\n    this.settingsService.updateGeneralSetting('videoPaths', videoPath).subscribe(\r\n      () => {\r\n        this.messageService.showSuccessMessage(`Path ${this.show.path} added to the video paths.`);\r\n        this.getShowDetails(this.show.tvdbId);\r\n      },\r\n      (error) => {\r\n        if (error.status && error.status === 409) {\r\n          this.messageService.showWarningMessage(`Path ${this.show.path} already added to the video paths.`);\r\n        } else {\r\n          this.messageService.showErrorMessage(`Unable to add path ${this.show.path} to the video paths!`);\r\n        }\r\n      });\r\n  }\r\n\r\n  openVideoSubtitlesDialog(episodeTvdbId: number, fileLocation: string, fileName: string, languages: string[]): void {\r\n    this.episodeTvdbId = episodeTvdbId; // keep track for which episode the video subtitles are edited\r\n    this.videoSubtitles = new VideoSubtitles();\r\n    this.videoSubtitles.fileLocation = fileLocation;\r\n    this.videoSubtitles.fileName = fileName;\r\n    this.videoSubtitles.languages = languages;\r\n    this.showVideoSubtitles = true;\r\n  }\r\n\r\n  closeVideoSubtitlesDialog(): void {\r\n    this.showVideoSubtitles = false;\r\n    this.videoSubtitles = null;\r\n    this.episodeTvdbId = null;\r\n  }\r\n\r\n  openSubtitleSyncDialog(videoFilePath: string, subtitleFilePath: string): void {\r\n    this.episodeVideoFilePath = videoFilePath;\r\n    this.episodeSubtitleFilePath = subtitleFilePath;\r\n    this.showSubtitleSync = true;\r\n  }\r\n\r\n  saveHardcodedSubtitles(videoSubtitles: VideoSubtitles): void {\r\n    this.showService.saveShowEpisodeHardcodedSubtitles(this.show.tvdbId, this.episodeTvdbId, videoSubtitles).subscribe(\r\n      () => {\r\n        this.closeVideoSubtitlesDialog();\r\n        this.getShowDetails(this.show.tvdbId);\r\n      },\r\n      () => this.messageService.showErrorMessage('Unable to save the harcoded subtitles!')\r\n    );\r\n  }\r\n\r\n  getNrOfSubtitles(files: ShowEpisodeFile[], language: string): string {\r\n    let subtitleCount = 0;\r\n    files.forEach((file) => {\r\n      if (file.type === FileType.SUBTITLE && file.language && file.language === language) {\r\n        // A subtitle file can have only 1 language\r\n        subtitleCount++;\r\n      } else if (file.type === FileType.VIDEO) {\r\n        // A video file can have multiple hardcoded languages\r\n        if (file.hardcodedLanguages) {\r\n          file.hardcodedLanguages.forEach((harcodedLanguage) => {\r\n            if (harcodedLanguage === language) {\r\n              subtitleCount++;\r\n            }\r\n          });\r\n        }\r\n        // A video file can have multiple embedded languages\r\n        if (file.embeddedLanguages) {\r\n          file.embeddedLanguages.forEach((embeddedLanguage) => {\r\n            if (embeddedLanguage === language) {\r\n              subtitleCount++;\r\n            }\r\n          });\r\n        }\r\n      }\r\n    });\r\n    return subtitleCount.toString(); // must be string to be used as badge\r\n  }\r\n\r\n  getNrOfVideos(files: ShowEpisodeFile[]): string {\r\n    let videoCount = 0;\r\n    files.forEach((file) => {\r\n      if (file.type === FileType.VIDEO) {\r\n        videoCount++;\r\n      }\r\n    });\r\n    return videoCount.toString(); // must be string to be used as badge\r\n  }\r\n\r\n  private getShowDetails(tvdbId: number): void {\r\n    this.showService.getShowDetails(tvdbId).subscribe(\r\n      (show) => {\r\n        this.show = show;\r\n        this.loading = false;\r\n      },\r\n      () => this.messageService.showErrorMessage('Unable to get the show details!')\r\n    );\r\n  }\r\n}\r\n","<div class=\"container-lg\">\r\n  <p-panel header=\"Show details\">\r\n    <!-- Library scanning message -->\r\n    <app-library-scanning></app-library-scanning>\r\n    <!-- Details refreshing message -->\r\n    <app-message [visible]=\"refreshInProgress\">\r\n      <i class=\"fa fa-spinner fa-spin mr-2\" aria-hidden=\"true\"></i>\r\n      <span>Refreshing show details...</span>\r\n    </app-message>\r\n    <!-- Details -->\r\n    <div class=\"library-details-container\" *ngIf=\"show\">\r\n      <!-- Info -->\r\n      <div class=\"row mb-3\">\r\n        <div class=\"col-12 library-details-info-container\">\r\n          <div class=\"library-details-info-poster\">\r\n            <a [href]=\"getShowPosterFullSizeUrl()\" target=\"_blank\">\r\n              <img class=\"library-details-info-poster-image\" [lazyLoad]=\"getShowPosterThumbnailUrl()\" [defaultImage]=\"getPosterPlaceholderUrl()\" title=\"Click to view full size\">\r\n            </a>\r\n          </div>\r\n          <div class=\"library-details-info\">\r\n            <div class=\"row\">\r\n              <div class=\"col-12 library-details-info-title\">\r\n                <span>{{show.name}}</span>\r\n                <span class=\"icon-group\">\r\n                  <a class=\"icon-link\" [href]=\"getTvdbUrl()\" target=\"_blank\">\r\n                    <i class=\"fa fa-television\" aria-hidden=\"true\" title=\"Click to visit Tvdb\"></i>\r\n                  </a>\r\n                  <a class=\"icon-link\" (click)=\"openSettingsDialog()\">\r\n                    <i class=\"fa fa-wrench\" aria-hidden=\"true\" title=\"Click to edit show settings\"></i>\r\n                  </a>\r\n                  <a class=\"icon-link\" (click)=\"refreshShowDetails()\">\r\n                    <i class=\"fa fa-repeat\" aria-hidden=\"true\" title=\"Click to refresh show details\"></i>\r\n                  </a>\r\n                  <a class=\"icon-link\" (click)=\"openDeleteDialog()\">\r\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\" title=\"Click to delete show from the database\"></i>\r\n                  </a>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-12\">\r\n                <hr>\r\n              </div>\r\n            </div>\r\n            <div class=\"row mb-3\">\r\n              <div class=\"col-12\">{{show.overview}}</div>\r\n            </div>\r\n            <div class=\"row mb-2\">\r\n              <div class=\"col-3\">Location:</div>\r\n              <div class=\"col-9 wrap-text\">\r\n                {{show.path}}\r\n                <a *ngIf=\"!show.pathInVideoPaths\" class=\"icon-link\" (click)=\"addShowPathToVideoPaths()\">\r\n                  <i class=\"fa fa-plus\" aria-hidden=\"true\" title=\"Click to add the show path to the video paths to scan\"></i>\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div class=\"row mb-2\">\r\n              <div class=\"col-3\">Wanted languages:</div>\r\n              <div class=\"col-9\"><span *ngFor=\"let language of show.settings.wantedLanguages\" class=\"p-tag language mr-2\">{{language}}</span></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- Files summary -->\r\n      <div class=\"row mb-3\">\r\n        <div class=\"col-12\">\r\n          <hr>\r\n          <div class=\"library-details-files-summary\">\r\n            <span class=\"summary-title\">Files</span>\r\n            <span class=\"summary-progress-bar ml-auto\">\r\n              <app-progress-bar [value]=\"show.totalSubtitlesAvailable\" [total]=\"show.totalSubtitlesWanted\"></app-progress-bar>\r\n            </span>\r\n          </div>\r\n          <hr>\r\n        </div>\r\n      </div>\r\n      <!-- Files -->\r\n      <div *ngFor=\"let season of show.seasons\" class=\"row mb-3\">\r\n        <div class=\"col-12 library-details-files\">\r\n          <p-table [value]=\"season.files\" [autoLayout]=\"true\" styleClass=\"p-datatable-sm\">\r\n            <ng-template pTemplate=\"caption\">\r\n              <div class=\"table-caption\">\r\n                <div class=\"table-caption-title\">\r\n                  <span>{{season.seasonName}}</span>\r\n                  <app-icon-dropdown>\r\n                    <li>{{season.seasonPath}}</li>\r\n                  </app-icon-dropdown>\r\n                </div>\r\n                <div class=\"ml-auto\">\r\n                  <p-button *ngFor=\"let language of show.settings.wantedLanguages\" [label]=\"language\" [badge]=\"getNrOfSubtitles(season.files, language)\" styleClass=\"p-button-static p-button-outlined p-button-sm ml-2\"></p-button>\r\n                  <p-button label=\"video\" [badge]=\"getNrOfVideos(season.files)\" styleClass=\"p-button-static p-button-outlined p-button-sm ml-2\"></p-button>\r\n                </div>\r\n              </div>\r\n            </ng-template>\r\n            <ng-template pTemplate=\"body\" let-file>\r\n              <tr>\r\n                <td class=\"wrap-text\">\r\n                  <span>{{file.fileName}}</span>\r\n                  <span class=\"icon-group\">\r\n                    <a *ngIf=\"file.isVideo\" class=\"icon-link\" [href]=\"getPlayVideoUrl(season.seasonPath, file.fileName)\">\r\n                      <i class=\"fa fa-play-circle-o\" aria-hidden=\"true\" title=\"Click to play video\"></i>\r\n                    </a>\r\n                    <a *ngIf=\"libraryEditModeEnabled && file.isVideo\" class=\"icon-link\" (click)=\"openVideoSubtitlesDialog(file.tvdbId, season.seasonPath, file.fileName, file.hardcodedLanguages)\">\r\n                      <i class=\"fa fa-wrench\" aria-hidden=\"true\" title=\"Click to save hardcoded subtitle languages\"></i>\r\n                    </a>\r\n                    <a *ngIf=\"libraryEditModeEnabled && manualSubSyncEnabled && file.isSubtitle\" class=\"icon-link\" (click)=\"openSubtitleSyncDialog(show.getShowEpisodeFilePath(file.tvdbId, videoFileType), show.getShowEpisodeFilePath(file.tvdbId, subtitleFileType, file.fileName))\">\r\n                      <i class=\"fa fa-refresh\" aria-hidden=\"true\" title=\"Click to synchronize subtitle\"></i>\r\n                    </a>\r\n                    <a *ngIf=\"libraryEditModeEnabled && file.isSubtitle\" class=\"icon-link\" (click)=\"openDeleteSubtitleDialog(file.tvdbId, file.filePath, file.fileName)\">\r\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\" title=\"Click to remove subtitle\"></i>\r\n                    </a>\r\n                  </span>\r\n                </td>\r\n                <td *ngIf=\"file.isVideo\" class=\"text-right\">\r\n                  <!-- language is an array in case of video type -->\r\n                  <span class=\"p-tag language ml-2\" *ngFor=\"let language of file.hardcodedLanguages\">{{language}}</span>\r\n                  <span class=\"p-tag language ml-2\" *ngFor=\"let language of file.embeddedLanguages\">{{language}}</span>\r\n                  <span class=\"p-tag language ml-2\" *ngIf=\"file.internalLanguagesAvailable\">internal</span>\r\n                  <span class=\"p-tag filetype ml-2\">{{file.type}}</span>\r\n                </td>\r\n                <td *ngIf=\"file.isSubtitle\" class=\"text-right\">\r\n                  <!-- language is a string in case of subtitle type -->\r\n                  <span class=\"p-tag language ml-2\" *ngIf=\"file.language\">{{file.language}}</span>\r\n                  <span class=\"p-tag filetype ml-2\">{{file.type}}</span>\r\n                </td>\r\n              </tr>\r\n            </ng-template>\r\n          </p-table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </p-panel>\r\n</div>\r\n\r\n<!-- Confirmation dialog -->\r\n<p-confirmDialog header=\"Confirmation\" icon=\"pi pi-exclamation-triangle\"></p-confirmDialog>\r\n\r\n<!-- Show settings dialog -->\r\n<app-show-settings *ngIf=\"showShowSettings\"\r\n                   [(visible)]=\"showShowSettings\"\r\n                   [tvdbId]=\"show.tvdbId\"\r\n                   [title]=\"show.name\"\r\n                   [showSettings]=\"show.settings\">\r\n</app-show-settings>\r\n\r\n<!-- Subtitle sync dialog -->\r\n<app-subtitle-sync *ngIf=\"showSubtitleSync\"\r\n                   [(visible)]=\"showSubtitleSync\"\r\n                   [videoPath]=\"episodeVideoFilePath\"\r\n                   [subtitlePath]=\"episodeSubtitleFilePath\">\r\n</app-subtitle-sync>\r\n\r\n<!-- Library video subtitles dialog -->\r\n<app-library-video-subtitles *ngIf=\"showVideoSubtitles\"\r\n                             [(visible)]=\"showVideoSubtitles\"\r\n                             [videoSubtitles]=\"videoSubtitles\"\r\n                             (save)=\"saveHardcodedSubtitles($event)\">\r\n</app-library-video-subtitles>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { SortEvent } from 'primeng/api';\r\nimport { Subscription } from 'rxjs';\r\nimport { appSettings } from '../../../../app-settings.service';\r\nimport { ShowService } from '../../../../core/services/api/show.service';\r\nimport { ArtworkService } from '../../../../core/services/artwork.service';\r\nimport { MessageService } from '../../../../core/services/message.service';\r\nimport { SystemEventService } from '../../../../core/services/system-event.service';\r\nimport { Show } from '../../../../shared/models/show';\r\nimport { getBannerPlaceholderUrl } from '../../../../shared/utils/common-utils';\r\nimport { naturalSort } from '../../../../shared/utils/table-utils';\r\n\r\n@Component({\r\n  selector: 'app-library-show-overview',\r\n  templateUrl: './library-show-overview.component.html',\r\n  styleUrls: ['./library-show-overview.component.scss']\r\n})\r\nexport class LibraryShowOverviewComponent implements OnInit, OnDestroy {\r\n\r\n  shows: Show[];\r\n  nrOfShows = 0;\r\n  globalFilterFields = ['title', 'year', 'path', 'settings.wantedLanguages', 'totalSubtitlesAvailable'];\r\n  tableStateKey = 'autosubliminal-library-show-overview-table';\r\n  loading = false;\r\n\r\n  private scanLibrarySubscription: Subscription;\r\n\r\n  constructor(\r\n    private systemEventService: SystemEventService,\r\n    private showService: ShowService,\r\n    private artworkService: ArtworkService,\r\n    private messageService: MessageService) { }\r\n\r\n  ngOnInit(): void {\r\n    // Load overview\r\n    this.loadOverview();\r\n    // Subscribe on scanLibrary finish events to reload the overview\r\n    this.scanLibrarySubscription = this.systemEventService.schedulerFinish.subscribe(\r\n      (scheduler) => {\r\n        if (scheduler.name === appSettings.scanLibrary) {\r\n          this.loadOverview();\r\n        }\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.scanLibrarySubscription.unsubscribe();\r\n  }\r\n\r\n  private loadOverview(): void {\r\n    this.loading = true;\r\n    this.showService.getShows().subscribe(\r\n      (shows) => {\r\n        this.shows = shows;\r\n        this.nrOfShows = this.shows.length;\r\n        this.loading = false;\r\n      },\r\n      () => this.messageService.showErrorMessage('Unable to get the shows!')\r\n    );\r\n  }\r\n\r\n  sort(event: SortEvent): void {\r\n    naturalSort(event);\r\n  }\r\n\r\n  getShowBannerThumbnailUrl(tvdbId: number): string {\r\n    return this.artworkService.getShowBannerThumbnailUrl(tvdbId);\r\n  }\r\n\r\n  getBannerPlaceholderUrl(): string {\r\n    return getBannerPlaceholderUrl();\r\n  }\r\n}\r\n","<div class=\"container-lg\">\r\n  <p-panel header=\"Show library\">\r\n    <!-- Library scanning message -->\r\n    <app-library-scanning></app-library-scanning>\r\n    <!-- Overview -->\r\n    <div class=\"row\">\r\n      <div class=\"col-12 library-overview-container\">\r\n        <p-table #showTable\r\n                 [value]=\"shows\"\r\n                 [stateKey]=\"tableStateKey\"\r\n                 [loading]=\"loading\"\r\n                 [autoLayout]=\"true\"\r\n                 [rowHover]=\"true\"\r\n                 [paginator]=\"true\"\r\n                 [rows]=\"10\"\r\n                 [rowsPerPageOptions]=\"[5,10,25,50,{showAll:'All'}]\"\r\n                 [showCurrentPageReport]=\"true\"\r\n                 [globalFilterFields]=\"globalFilterFields\"\r\n                 [customSort]=\"true\"\r\n                 (sortFunction)=\"sort($event)\"\r\n                 stateStorage=\"local\"\r\n                 currentPageReportTemplate=\"{first} to {last} of {totalRecords}\"\r\n                 styleClass=\"p-datatable-sm p-datatable-gridlines p-datatable-striped p-datatable-responsive-mode\">\r\n          <ng-template pTemplate=\"caption\">\r\n            <div class=\"caption\">\r\n              <span class=\"w-100\">\r\n                <p-button [label]=\"nrOfShows + ' shows'\" styleClass=\"p-button-static p-button-outlined\"></p-button>\r\n              </span>\r\n              <span class=\"ml-auto\">\r\n                <app-table-filter [table]=\"showTable\" [tableStateKey]=\"tableStateKey\" matchMode='contains'></app-table-filter>\r\n              </span>\r\n            </div>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"header\">\r\n            <tr>\r\n              <th pSortableColumn=\"title\"><span>Title<p-sortIcon field=\"title\"></p-sortIcon></span></th>\r\n              <th pSortableColumn=\"year\"><span>Year<p-sortIcon field=\"year\"></p-sortIcon></span></th>\r\n              <th pSortableColumn=\"path\"><span>Path<p-sortIcon field=\"path\"></p-sortIcon></span></th>\r\n              <th pSortableColumn=\"settings.wantedLanguages\"><span>Wanted subtitles<p-sortIcon field=\"settings.wantedLanguages\"></p-sortIcon></span></th>\r\n              <th pSortableColumn=\"totalSubtitlesAvailable\"><span>Subtitles<p-sortIcon field=\"totalSubtitlesAvailable\"></p-sortIcon></span></th>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"body\" let-show>\r\n            <tr>\r\n              <td>\r\n                <span class=\"p-column-title\">Title</span>\r\n                <span class=\"p-column-data title-banner-container\">\r\n                  <span class=\"title-banner\">\r\n                    <a [routerLink]=\"['/library/show/detail',show.tvdbId]\" [title]=\"show.title\">\r\n                      <img *ngIf=\"show.banner\" class=\"title-banner-image\" [lazyLoad]=\"getShowBannerThumbnailUrl(show.tvdbId)\" [defaultImage]=\"getBannerPlaceholderUrl()\">\r\n                    </a>\r\n                  </span>\r\n                </span>\r\n              </td>\r\n              <td>\r\n                <span class=\"p-column-title\">Year</span>\r\n                <span class=\"p-column-data\">{{show.year}}</span>\r\n              </td>\r\n              <td>\r\n                <span class=\"p-column-title\">Path</span>\r\n                <span class=\"p-column-data wrap-text\">{{show.path}}</span>\r\n              </td>\r\n              <td>\r\n                <span class=\"p-column-title\">Wanted subtitles</span>\r\n                <span class=\"p-column-data\"><span *ngFor=\"let lang of show.settings.wantedLanguages\" class=\"p-tag p-tag-small p-tag-secondary mr-2\">{{lang}}</span></span>\r\n              </td>\r\n              <td>\r\n                <span class=\"p-column-title\">Subtitles</span>\r\n                <span class=\"p-column-data\">\r\n                  <app-progress-bar class=\"w-100\" [value]=\"show.totalSubtitlesAvailable\" [total]=\"show.totalSubtitlesWanted\"></app-progress-bar>\r\n                </span>\r\n              </td>\r\n            </tr>\r\n          </ng-template>\r\n        </p-table>\r\n      </div>\r\n    </div>\r\n  </p-panel>\r\n</div>\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { SelectItem } from 'primeng/api';\r\nimport { FormUtils } from '../../../shared/components/forms/form-utils';\r\nimport { VideoSubtitles } from '../../../shared/models/video';\r\n\r\n@Component({\r\n  selector: 'app-library-video-subtitles',\r\n  templateUrl: './library-video-subtitles.component.html',\r\n  styleUrls: ['./library-video-subtitles.component.scss']\r\n})\r\nexport class LibraryVideoSubtitlesComponent implements OnInit {\r\n\r\n  @Input()\r\n  visible = false;\r\n\r\n  @Output()\r\n  visibleChange = new EventEmitter<boolean>(); // Setup 2-way binding [(visible)]=\"...\"\r\n\r\n  @Input()\r\n  videoSubtitles: VideoSubtitles;\r\n\r\n  @Output()\r\n  save = new EventEmitter<VideoSubtitles>(); // allows custom onSave functionality (save)=\"...\" when component is created\r\n\r\n  videoSubtitlesForm: FormGroup;\r\n  languages: SelectItem[];\r\n\r\n  constructor(private fb: FormBuilder) { }\r\n\r\n  ngOnInit(): void {\r\n    this.languages = FormUtils.languageSelectItems();\r\n    this.buildForm();\r\n  }\r\n\r\n  private buildForm(): void {\r\n    this.videoSubtitlesForm = this.fb.group({\r\n      fileLocation: [this.videoSubtitles.fileLocation, []],\r\n      fileName: [this.videoSubtitles.fileName, []],\r\n      languages: [this.videoSubtitles.languages || [], []]\r\n    });\r\n  }\r\n\r\n\r\n\r\n  close(): void {\r\n    this.visibleChange.emit(false);\r\n  }\r\n\r\n  saveVideoSubtitles(): void {\r\n    const videoSubtitles = new VideoSubtitles();\r\n    videoSubtitles.fileLocation = FormUtils.getFormControlValue<string>(this.videoSubtitlesForm, 'fileLocation');\r\n    videoSubtitles.fileName = FormUtils.getFormControlValue<string>(this.videoSubtitlesForm, 'fileName');\r\n    videoSubtitles.languages = FormUtils.getFormControlValue<string[]>(this.videoSubtitlesForm, 'languages');\r\n    this.save.emit(videoSubtitles); // ouput the videoSubtitles object on save\r\n  }\r\n}\r\n","<!-- Library video subtitles dialog -->\r\n<p-dialog [(visible)]=\"visible\"\r\n          [modal]=\"true\"\r\n          [closable]=\"false\"\r\n          [resizable]=\"false\"\r\n          header=\"Hardcoded/embedded video subtitles\"\r\n          styleClass=\"p-dialog-video-subtitles\">\r\n  <form *ngIf=\"videoSubtitlesForm\" [formGroup]=\"videoSubtitlesForm\" class=\"form\">\r\n    <div class=\"row form-row\">\r\n      <div class=\"col-12\">Select the embedded hardcoded subtitle languages for video file:</div>\r\n      <div class=\"col-12 file\">{{videoSubtitles.fileName}}</div>\r\n    </div>\r\n    <div class=\"row form-row\">\r\n      <div class=\"col-12\">\r\n        <app-input-multi-select [options]=\"languages\" formControlName=\"languages\" placeholder=\"Select languages\"></app-input-multi-select>\r\n      </div>\r\n    </div>\r\n  </form>\r\n  <ng-template pTemplate=\"footer\">\r\n    <p-button icon=\"pi pi-times\" label=\"Cancel\" styleClass=\"p-button p-button-secondary\" (click)=\"close()\"></p-button>\r\n    <p-button icon=\"pi pi-check\" label=\"Save\" styleClass=\"p-button mr-0\" (click)=\"saveVideoSubtitles()\"></p-button>\r\n  </ng-template>\r\n</p-dialog>\r\n"],"names":["RouterModule","LibraryMovieDetailComponent","LibraryMovieOverviewComponent","LibraryOverviewComponent","LibraryShowDetailComponent","LibraryShowOverviewComponent","routes","path","redirectTo","pathMatch","component","children","LibraryRoutingModule","forChild","imports","exports","SharedModule","LibraryScanningComponent","LibraryVideoSubtitlesComponent","LibraryModule","declarations","appSettings","FileType","VideoSubtitles","getImdbUrl","getPlayVideoUrl","getPosterPlaceholderUrl","joinPaths","i0","ctx_r7","ctx_r18","ctx_r21","ctx_r24","ctx_r36","ctx_r38","ctx_r39","ctx_r0","ctx_r1","ctx_r2","ctx_r46","ctx_r3","constructor","route","router","domSanitizer","movieService","artworkService","settingsService","messageService","confirmationService","VIDEO","SUBTITLE","ngOnInit","manualSubSyncEnabled","manualSubSync","libraryEditModeEnabled","libraryEditMode","paramMap","subscribe","loading","imdbId","get","getMovieDetails","getMoviePosterFullSizeUrl","movie","getMoviePosterThumbnailUrl","filePath","fileName","bypassSecurityTrustResourceUrl","openSettingsDialog","showMovieSettings","refreshMovieDetails","refreshInProgress","showErrorMessage","openDeleteDialog","confirm","message","name","accept","deleteMovie","navigateByUrl","openDeleteSubtitleDialog","deleteMovieSubtitle","showSuccessMessage","addMoviePathToVideoPaths","videoPath","updateGeneralSetting","error","status","showInfoMessage","openVideoSubtitlesDialog","fileLocation","languages","videoSubtitles","showVideoSubtitles","closeVideoSubtitlesDialog","openSubtitleSyncDialog","videoFilePath","subtitleFilepath","movieVideoFilePath","movieSubtitleFilePath","showSubtitleSync","saveHardcodedSubtitles","saveMovieHardcodedSubtitles","selectors","decls","vars","consts","template","naturalSort","ctx_r5","movie_r4","systemEventService","loadOverview","scanLibrarySubscription","schedulerFinish","scheduler","scanLibrary","ngOnDestroy","unsubscribe","getMovies","movies","nrOfMovies","length","sort","event","ctx","forkJoin","showService","getShowsOverview","getMoviesOverview","showsOverview","moviesOverview","systemService","getScheduler","scanningInProgress","running","schedulerStart","getTvdbUrl","ctx_r13","ctx_r26","ctx_r30","ctx_r33","ctx_r45","ctx_r47","ctx_r48","ctx_r55","tvdbId","Number","getShowDetails","getShowPosterFullSizeUrl","show","getShowPosterThumbnailUrl","showShowSettings","refreshShowDetails","deleteShow","episodeTvdbId","deleteShowEpisodeSubtitle","addShowPathToVideoPaths","showWarningMessage","subtitleFilePath","episodeVideoFilePath","episodeSubtitleFilePath","saveShowEpisodeHardcodedSubtitles","getNrOfSubtitles","files","language","subtitleCount","forEach","file","type","hardcodedLanguages","harcodedLanguage","embeddedLanguages","embeddedLanguage","toString","getNrOfVideos","videoCount","getBannerPlaceholderUrl","show_r4","getShows","shows","nrOfShows","getShowBannerThumbnailUrl","EventEmitter","FormUtils","ctx_r4","fb","languageSelectItems","buildForm","videoSubtitlesForm","group","close","visibleChange","emit","saveVideoSubtitles","getFormControlValue","save","inputs","visible","outputs"],"sourceRoot":"webpack:///"}