{"version":3,"file":"540.d249049973b32ec5.js","mappings":"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","sources":["./src/app/components/scroll/scroll.component.ts","./src/app/components/scroll/scroll.component.html","./src/app/models/loglevel.ts","./src/app/pages/log/clear/log-clear.component.ts","./src/app/pages/log/log.routes.ts","./src/app/pages/log/view/log-view.component.ts","./src/app/pages/log/view/log-view.component.html","./src/app/services/api/log.service.ts","./src/app/services/scroll.service.ts"],"sourcesContent":["import { DOCUMENT, NgClass } from '@angular/common';\r\nimport { AfterContentChecked, Component, DestroyRef, HostListener, inject, Input, OnInit } from '@angular/core';\r\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\r\nimport { WINDOW } from 'ngx-window-token';\r\nimport { ScrollService } from '../../services/scroll.service';\r\n\r\n@Component({\r\n  selector: 'app-scroll',\r\n  templateUrl: './scroll.component.html',\r\n  styleUrls: ['./scroll.component.scss'],\r\n  standalone: true,\r\n  imports: [NgClass]\r\n})\r\nexport class ScrollComponent implements OnInit, AfterContentChecked {\r\n\r\n  @Input()\r\n  target: HTMLElement; // optional target html element, if specified scroll is related to the element\r\n\r\n  private scrollHeight: number;\r\n  private maxScrollHeight: number;\r\n\r\n  private window = inject(WINDOW);\r\n  private document = inject(DOCUMENT);\r\n  private scrollService = inject(ScrollService);\r\n  private destroyRef = inject(DestroyRef);\r\n\r\n  get scrollBottom(): boolean {\r\n    return this.scrollHeight < this.maxScrollHeight;\r\n  }\r\n\r\n  get scrollTop(): boolean {\r\n    return this.scrollHeight >= 100;\r\n  }\r\n\r\n  @HostListener('window:scroll')\r\n  onWindowScroll(): void {\r\n    this.scrollHeight = this.getScrollHeight();\r\n    this.maxScrollHeight = this.getMaxScrollHeight();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.scrollHeight = this.getScrollHeight();\r\n    this.maxScrollHeight = this.getMaxScrollHeight();\r\n    // Subscribe on scrollUp events\r\n    this.scrollService.scrollUp$.pipe(takeUntilDestroyed(this.destroyRef)).subscribe({\r\n      next: () => this.scrollToTop()\r\n    });\r\n    // Subscribe on scrollDown events\r\n    this.scrollService.scrollDown$.pipe(takeUntilDestroyed(this.destroyRef)).subscribe({\r\n      next: () => this.scrollToBottom()\r\n    });\r\n  }\r\n\r\n  ngAfterContentChecked(): void {\r\n    // Make sure to update the scrollheight after the page/component is loaded\r\n    this.scrollHeight = this.getScrollHeight();\r\n    this.maxScrollHeight = this.getMaxScrollHeight();\r\n  }\r\n\r\n  scrollToTop(): void {\r\n    if (this.scrollHeight > 0) {\r\n      if (this.target) {\r\n        this.target.scrollIntoView({ block: 'start', inline: 'nearest', behavior: 'smooth' });\r\n      } else {\r\n        this.window.scrollTo({ top: 0, behavior: 'smooth' });\r\n      }\r\n    }\r\n  }\r\n\r\n  scrollToBottom(): void {\r\n    if (this.maxScrollHeight > 0) {\r\n      if (this.target) {\r\n        this.target.scrollIntoView({ block: 'end', inline: 'nearest', behavior: 'smooth' });\r\n      } else {\r\n        this.window.scrollTo({ top: this.maxScrollHeight, behavior: 'smooth' });\r\n      }\r\n    }\r\n  }\r\n\r\n  private getScrollHeight(): number {\r\n    return this.document.documentElement.scrollTop || this.document.body.scrollTop;\r\n  }\r\n\r\n  private getMaxScrollHeight(): number {\r\n    return (this.document.documentElement.scrollHeight || this.document.body.scrollHeight) - (this.document.documentElement.offsetHeight || this.document.body.offsetHeight);\r\n  }\r\n}\r\n","<!-- Scroll icons top page -->\r\n<span class=\"scroll-icons top\">\r\n  <i class=\"fa fa-arrow-circle-down scroll-icon-bottom\" [ngClass]=\"{'d-none': !scrollBottom}\" aria-hidden=\"true\" title=\"Scroll to bottom\" (click)=\"scrollToBottom()\"></i>\r\n  <i class=\"fa fa-arrow-circle-up scroll-icon-top\" [ngClass]=\"{'d-none': !scrollTop}\" aria-hidden=\"true\" title=\"Scroll to top\" (click)=\"scrollToTop()\"></i>\r\n</span>\r\n\r\n<!-- Scroll icons bottom page -->\r\n<span class=\"scroll-icons bottom\">\r\n  <i class=\"fa fa-arrow-circle-down scroll-icon-bottom\" [ngClass]=\"{'d-none': !scrollBottom}\" aria-hidden=\"true\" title=\"Scroll to bottom\" (click)=\"scrollToBottom()\"></i>\r\n  <i class=\"fa fa-arrow-circle-up scroll-icon-top\" [ngClass]=\"{'d-none': !scrollTop}\" aria-hidden=\"true\" title=\"Scroll to top\" (click)=\"scrollToTop()\"></i>\r\n</span>\r\n","export enum Loglevel {\r\n  DEBUG = 'DEBUG',\r\n  INFO = 'INFO',\r\n  WARNING = 'WARNING',\r\n  ERROR = 'ERROR',\r\n  CRITICAL = 'CRITICAL'\r\n}\r\n","import { Component, DestroyRef, inject, OnInit } from '@angular/core';\r\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\r\nimport { Router } from '@angular/router';\r\nimport { LogService } from '../../../services/api/log.service';\r\nimport { MessageService } from '../../../services/message.service';\r\n\r\n@Component({\r\n    selector: 'app-log-clear',\r\n    templateUrl: './log-clear.component.html',\r\n    styleUrls: ['./log-clear.component.scss'],\r\n    standalone: true\r\n})\r\nexport class LogClearComponent implements OnInit {\r\n\r\n  private router = inject(Router);\r\n  private logService = inject(LogService);\r\n  private messageService = inject(MessageService);\r\n  private destroyRef = inject(DestroyRef);\r\n\r\n  ngOnInit(): void {\r\n    this.logService.clearLogs().pipe(takeUntilDestroyed(this.destroyRef)).subscribe({\r\n      next: (result) => {\r\n        // Redirect to log view after the logs are cleared\r\n        if (result) {\r\n          this.router.navigateByUrl('/log/view');\r\n        }\r\n      },\r\n      error: () => this.messageService.showErrorMessage(`Unable to clear the logs!`)\r\n    });\r\n  }\r\n\r\n}\r\n","import { Routes } from '@angular/router';\r\nimport { LogClearComponent } from './clear/log-clear.component';\r\nimport { LogViewComponent } from './view/log-view.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    redirectTo: 'view',\r\n    pathMatch: 'full'\r\n  },\r\n  {\r\n    path: 'view',\r\n    component: LogViewComponent\r\n  },\r\n  {\r\n    path: 'clear',\r\n    component: LogClearComponent\r\n  },\r\n  {\r\n    path: '**', // wildcard to match any non matching routes\r\n    redirectTo: 'view'\r\n  }\r\n];\r\n\r\n// Use default export for simplified lazy loading (https://angular.io/guide/standalone-components#lazy-loading-and-default-exports)\r\nexport default routes;\r\n","import { NgClass, NgFor } from '@angular/common';\r\nimport { Component, DestroyRef, inject, OnInit } from '@angular/core';\r\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { WINDOW } from 'ngx-window-token';\r\nimport { SelectItem, SharedModule } from 'primeng/api';\r\nimport { ButtonModule } from 'primeng/button';\r\nimport { DropdownModule } from 'primeng/dropdown';\r\nimport { PanelModule } from 'primeng/panel';\r\nimport { webSocket, WebSocketSubject, WebSocketSubjectConfig } from 'rxjs/webSocket';\r\nimport { appSettings } from '../../../app-settings.service';\r\nimport { LoadingComponent } from '../../../components/loading/loading.component';\r\nimport { ScrollComponent } from '../../../components/scroll/scroll.component';\r\nimport { Loglevel } from '../../../models/loglevel';\r\nimport { LogService } from '../../../services/api/log.service';\r\nimport { MessageService } from '../../../services/message.service';\r\nimport { ScrollService } from '../../../services/scroll.service';\r\n\r\n@Component({\r\n  selector: 'app-log-view',\r\n  templateUrl: './log-view.component.html',\r\n  styleUrls: ['./log-view.component.scss'],\r\n  standalone: true,\r\n  imports: [NgFor, NgClass, FormsModule, PanelModule, ButtonModule, DropdownModule, SharedModule, LoadingComponent, ScrollComponent]\r\n})\r\nexport class LogViewComponent implements OnInit {\r\n\r\n  logNums: number[];\r\n  selectedLogNum = 0;\r\n  loglevels: SelectItem[];\r\n  selectedLoglevel = '';\r\n  loading = false;\r\n  tailing = false;\r\n  tailingDisabled = false; // true for non current (lognum != 0) logfiles as tailing has no use in this case\r\n  tailButtonLabel = 'Start tailing';\r\n  tailButtonIcon = 'pi pi-play';\r\n\r\n  private readonly LOG_MESSAGE_REGEX = /^((?<date>\\d{4}-\\d{2}-\\d{2})\\s(?<time>\\d{2}:\\d{2}:\\d{2},\\d{3})\\s(?<loglevel>\\w+))/;\r\n\r\n  private logWebsocket$: WebSocketSubject<string>;\r\n  private logMessages: string[] = [];\r\n\r\n  private window = inject(WINDOW);\r\n  private logService = inject(LogService);\r\n  private messageService = inject(MessageService);\r\n  private scrollService = inject(ScrollService);\r\n  private destroyRef = inject(DestroyRef);\r\n\r\n  get filteredLogMessages(): string[] {\r\n    return this.logMessages.filter((logMessage) => {\r\n      if (this.selectedLoglevel) {\r\n        const match = this.LOG_MESSAGE_REGEX.exec(logMessage);\r\n        return match && match.groups['loglevel'] === this.selectedLoglevel;\r\n      } else {\r\n        return true;\r\n      }\r\n    });\r\n  }\r\n\r\n  get logContent(): string {\r\n    return this.filteredLogMessages.join('\\n');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.loglevels = this.getLogLevels();\r\n    this.logService.getLogCount().pipe(takeUntilDestroyed(this.destroyRef)).subscribe({\r\n      next: (count) => this.logNums = Array.from(Array(count).keys()).map((i) => i + 1) // get array starting from 1\r\n    });\r\n    this.getLogs(0); // 0 = current logfile\r\n  }\r\n\r\n  getLogs(logNum: number): void {\r\n    this.loading = true;\r\n    this.selectedLogNum = logNum;\r\n    this.tailingDisabled = this.selectedLogNum !== 0; // tailing only allowed when on current logfile -> lognum = 0\r\n    this.logService.getLogs(logNum).pipe(takeUntilDestroyed(this.destroyRef)).subscribe({\r\n      next: (logLines) => {\r\n        this.logMessages = logLines;\r\n        this.loading = false;\r\n        this.handleLogTailing();\r\n      },\r\n      error: () => this.messageService.showErrorMessage('Unable to get the logs!')\r\n    });\r\n  }\r\n\r\n  toggleTailing(): void {\r\n    this.tailing = !this.tailing;\r\n    if (this.tailing) {\r\n      // Change button label\r\n      this.tailButtonLabel = 'Stop tailing';\r\n      this.tailButtonIcon = 'pi pi-pause';\r\n      // Scroll to right position when tailing is enabled\r\n      if (appSettings.logReversed) {\r\n        this.scrollService.triggerScrollUp();\r\n      } else {\r\n        this.scrollService.triggerScrollDown();\r\n      }\r\n    } else {\r\n      // Change button label\r\n      this.tailButtonLabel = 'Start tailing';\r\n      this.tailButtonIcon = 'pi pi-play';\r\n    }\r\n    this.handleLogTailing();\r\n  }\r\n\r\n  private getLogLevels(): SelectItem[] {\r\n    const logLevels: SelectItem[] = [];\r\n    logLevels.push({ label: 'ALL', value: '' });\r\n    Object.entries(Loglevel).forEach((entry) => logLevels.push({ label: entry[0], value: entry[1] }));\r\n    return logLevels;\r\n  }\r\n\r\n  private createLogWebSocket(): WebSocketSubject<string> {\r\n    let protocol = 'ws:';\r\n    if (this.window.location.protocol === 'https:') {\r\n      protocol = 'wss:';\r\n    }\r\n    const url = `${protocol}//${this.window.location.host}${appSettings.webRoot}/websocket/log`;\r\n    const config: WebSocketSubjectConfig<string> = {\r\n      url,\r\n      deserializer: (e: MessageEvent) => e.data as string,\r\n      serializer: (value: string) => value\r\n    };\r\n    return webSocket(config);\r\n  }\r\n\r\n  private handleLogTailing(): void {\r\n    if (this.tailing && !this.tailingDisabled) {\r\n      // Subscribe on new logs once loaded (only for current logfile -> logNum = 0)\r\n      this.logWebsocket$ = this.createLogWebSocket(); // Need to create a new socket after unsubscribe\r\n      this.logWebsocket$.pipe(takeUntilDestroyed(this.destroyRef)).subscribe({\r\n        next: (logMessage) => {\r\n          if (appSettings.logReversed) {\r\n            // Append to the top\r\n            this.logMessages.unshift(logMessage);\r\n            this.scrollService.triggerScrollUp();\r\n          } else {\r\n            // Append to the end\r\n            this.logMessages.push(logMessage);\r\n            this.scrollService.triggerScrollDown();\r\n          }\r\n        }\r\n      });\r\n      console.log('Log tailing enabled');\r\n    } else {\r\n      // Unsubscribe when not tailing\r\n      if (this.logWebsocket$) {\r\n        this.logWebsocket$.unsubscribe();\r\n      }\r\n      console.log('Log tailing disabled');\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"container-lg\">\r\n  <p-panel>\r\n    <!-- Custom panel header -->\r\n    <ng-template pTemplate=\"header\">\r\n      <div class=\"w-100\">\r\n        <div class=\"p-panel-title\">Logfile</div>\r\n        <div>\r\n          <span class=\"log-num\">\r\n            <span class=\"p-tag p-tag-rounded\" [ngClass]=\"{'p-tag-secondary': selectedLogNum !== 0}\" (click)=\"getLogs(0)\">current</span>\r\n            <span *ngFor=\"let logNum of logNums\" class=\"p-badge\" [ngClass]=\"{'p-badge-secondary': selectedLogNum !== logNum}\" (click)=\"getLogs(logNum)\">{{logNum}}</span>\r\n          </span>\r\n          <span class=\"log-tail\">\r\n            <p-button [label]=\"tailButtonLabel\" [icon]=\"tailButtonIcon\" styleClass=\"p-button-outlined\" [disabled]=\"tailingDisabled\" (onClick)=\"toggleTailing()\"></p-button>\r\n          </span>\r\n          <span class=\"log-level\">\r\n            <p-dropdown [options]=\"loglevels\" [(ngModel)]=\"selectedLoglevel\" inputId=\"logLevels\" styleClass=\"p-dropdown-ar\" scrollHeight=\"300px\"></p-dropdown>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </ng-template>\r\n    <!-- Log content -->\r\n    <pre class=\"log-content\">{{logContent}}</pre>\r\n  </p-panel>\r\n</div>\r\n\r\n<!-- Loading component -->\r\n<app-loading [visible]=\"loading\"></app-loading>\r\n\r\n<!-- Scroll component -->\r\n<app-scroll></app-scroll>\r\n","import { Injectable } from '@angular/core';\r\nimport { map, Observable } from 'rxjs';\r\nimport { appSettings } from '../../app-settings.service';\r\nimport { ApiServiceTemplate } from './api-service-template';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LogService extends ApiServiceTemplate {\r\n\r\n  private readonly URL = `${appSettings.webRoot}/api/logs`;\r\n\r\n  getLogs(lognum?: number): Observable<string[]> {\r\n    const url = lognum ? `${this.URL}/${lognum}` : this.URL;\r\n    return this.httpClient.get<string[]>(url, this.options);\r\n  }\r\n\r\n  clearLogs(): Observable<boolean> {\r\n    return this.httpClient.delete<void>(this.URL, this.options)\r\n      .pipe(map(() => true));\r\n  }\r\n\r\n  getLogCount(): Observable<number> {\r\n    return this.httpClient.get<Count>(`${this.URL}/count`, this.options)\r\n      .pipe(map((count) => count.count));\r\n  }\r\n}\r\n\r\ntype Count = { count: number };\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ScrollService {\r\n\r\n  scrollUp$ = new Subject<boolean>();\r\n  scrollDown$ = new Subject<boolean>();\r\n\r\n  triggerScrollUp(): void {\r\n    this.scrollUp$.next(true);\r\n  }\r\n\r\n  triggerScrollDown(): void {\r\n    this.scrollDown$.next(true);\r\n  }\r\n}\r\n"],"names":["DOCUMENT","NgClass","DestroyRef","inject","takeUntilDestroyed","WINDOW","ScrollService","ScrollComponent","constructor","window","document","scrollService","destroyRef","scrollBottom","scrollHeight","maxScrollHeight","scrollTop","onWindowScroll","getScrollHeight","getMaxScrollHeight","ngOnInit","scrollUp$","pipe","subscribe","next","scrollToTop","scrollDown$","scrollToBottom","ngAfterContentChecked","target","scrollIntoView","block","inline","behavior","scrollTo","top","documentElement","body","offsetHeight","_","_2","selectors","hostBindings","ScrollComponent_HostBindings","rf","ctx","i0","ɵɵresolveWindow","ɵɵelementStart","ɵɵlistener","ScrollComponent_Template_i_click_1_listener","ɵɵelementEnd","ScrollComponent_Template_i_click_2_listener","ScrollComponent_Template_i_click_4_listener","ScrollComponent_Template_i_click_5_listener","ɵɵadvance","ɵɵproperty","ɵɵpureFunction1","_c0","styles","Loglevel","Router","LogService","MessageService","LogClearComponent","router","logService","messageService","clearLogs","result","navigateByUrl","error","showErrorMessage","standalone","features","ɵɵStandaloneFeature","decls","vars","template","LogClearComponent_Template","LogViewComponent","routes","path","redirectTo","pathMatch","component","NgFor","FormsModule","SharedModule","ButtonModule","DropdownModule","PanelModule","webSocket","appSettings","LoadingComponent","LogViewComponent_ng_template_2_span_7_Template_span_click_0_listener","restoredCtx","ɵɵrestoreView","_r4","logNum_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","getLogs","ɵɵtext","ctx_r1","selectedLogNum","ɵɵtextInterpolate","LogViewComponent_ng_template_2_Template_span_click_5_listener","_r6","ctx_r5","ɵɵtemplate","LogViewComponent_ng_template_2_span_7_Template","LogViewComponent_ng_template_2_Template_p_button_onClick_9_listener","ctx_r7","toggleTailing","ɵɵtwoWayListener","LogViewComponent_ng_template_2_Template_p_dropdown_ngModelChange_11_listener","$event","ctx_r8","ɵɵtwoWayBindingSet","selectedLoglevel","_c1","ctx_r0","logNums","tailButtonLabel","tailButtonIcon","tailingDisabled","loglevels","ɵɵtwoWayProperty","loading","tailing","LOG_MESSAGE_REGEX","logMessages","filteredLogMessages","filter","logMessage","match","exec","groups","logContent","join","getLogLevels","getLogCount","count","Array","from","keys","map","i","logNum","logLines","handleLogTailing","logReversed","triggerScrollUp","triggerScrollDown","logLevels","push","label","value","Object","entries","forEach","entry","createLogWebSocket","protocol","location","url","host","webRoot","config","deserializer","e","data","serializer","logWebsocket$","unshift","console","log","unsubscribe","consts","LogViewComponent_Template","LogViewComponent_ng_template_2_Template","ɵɵelement","i1","NgControlStatus","NgModel","i2","Panel","i3","PrimeTemplate","i4","Button","i5","Dropdown","ApiServiceTemplate","URL","lognum","httpClient","get","options","delete","t","factory","ɵfac","providedIn","Subject"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}