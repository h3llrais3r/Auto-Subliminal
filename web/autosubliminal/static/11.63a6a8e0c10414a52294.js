(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{iSB3:function(e,t,s){"use strict";s.r(t),s.d(t,"SystemModule",(function(){return z}));var n=s("PCNd"),b=s("tyNb"),a=s("RXVt"),i=s("fXoL"),c=s("tk/3"),r=s("+613"),o=s("acRR"),l=s("dPl2"),y=s("ofXK");function d(e,t){if(1&e&&(i.Pb(0,"div",8),i.yc(1),i.Ob()),2&e){const e=i.Yb(2);i.yb(1),i.zc(e.version)}}function h(e,t){if(1&e&&(i.Pb(0,"div",8),i.Pb(1,"a",12),i.yc(2),i.Ob(),i.Ob()),2&e){const e=i.Yb(2);i.yb(1),i.ec("href",e.versionUrl,i.sc),i.yb(1),i.zc(e.version)}}function p(e,t){if(1&e&&(i.Pb(0,"div",6),i.Pb(1,"div",7),i.yc(2,"Git branch"),i.Ob(),i.Pb(3,"div",8),i.Pb(4,"a",12),i.yc(5),i.Ob(),i.Ob(),i.Ob()),2&e){const e=i.Yb(2);i.yb(4),i.ec("href",e.systemInfo.currentBranchUrl,i.sc),i.yb(1),i.zc(e.systemInfo.currentBranch)}}function O(e,t){if(1&e&&(i.Pb(0,"div",6),i.Pb(1,"div",7),i.yc(2,"Git version"),i.Ob(),i.Pb(3,"div",8),i.Pb(4,"a",12),i.yc(5),i.Ob(),i.Ob(),i.Ob()),2&e){const e=i.Yb(2);i.yb(4),i.ec("href",e.systemInfo.currentVersionUrl,i.sc),i.yb(1),i.zc(e.systemInfo.currentVersion)}}function P(e,t){if(1&e&&(i.Pb(0,"div",5),i.Pb(1,"div",6),i.Pb(2,"div",7),i.yc(3,"OS"),i.Ob(),i.Pb(4,"div",8),i.yc(5),i.Ob(),i.Ob(),i.Pb(6,"div",6),i.Pb(7,"div",7),i.yc(8,"PID"),i.Ob(),i.Pb(9,"div",8),i.yc(10),i.Ob(),i.Ob(),i.Pb(11,"div",6),i.Pb(12,"div",7),i.yc(13,"Version"),i.Ob(),i.wc(14,d,2,1,"div",9),i.wc(15,h,3,2,"div",9),i.Ob(),i.wc(16,p,6,2,"div",10),i.wc(17,O,6,2,"div",10),i.Pb(18,"div",6),i.Pb(19,"div",7),i.yc(20,"System encoding"),i.Ob(),i.Pb(21,"div",8),i.yc(22),i.Ob(),i.Ob(),i.Pb(23,"div",6),i.Pb(24,"div",7),i.yc(25,"Python version"),i.Ob(),i.Pb(26,"div",8),i.yc(27),i.Ob(),i.Ob(),i.Pb(28,"div",6),i.Pb(29,"div",7),i.yc(30,"Python location"),i.Ob(),i.Pb(31,"div",8),i.yc(32),i.Ob(),i.Ob(),i.Pb(33,"div",6),i.Pb(34,"div",7),i.yc(35,"Config file"),i.Ob(),i.Pb(36,"div",8),i.yc(37),i.Ob(),i.Ob(),i.Pb(38,"div",6),i.Pb(39,"div",7),i.yc(40,"Database file"),i.Ob(),i.Pb(41,"div",8),i.yc(42),i.Ob(),i.Ob(),i.Pb(43,"div",6),i.Pb(44,"div",7),i.yc(45,"Log file"),i.Ob(),i.Pb(46,"div",8),i.yc(47),i.Ob(),i.Ob(),i.Kb(48,"hr",11),i.Pb(49,"div",6),i.Pb(50,"div",7),i.yc(51,"Source"),i.Ob(),i.Pb(52,"div",8),i.Pb(53,"a",12),i.yc(54),i.Ob(),i.Ob(),i.Ob(),i.Pb(55,"div",6),i.Pb(56,"div",7),i.yc(57,"Issues"),i.Ob(),i.Pb(58,"div",8),i.Pb(59,"a",12),i.yc(60),i.Ob(),i.Ob(),i.Ob(),i.Pb(61,"div",6),i.Pb(62,"div",7),i.yc(63,"Wiki"),i.Ob(),i.Pb(64,"div",8),i.Pb(65,"a",12),i.yc(66),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e){const e=i.Yb();i.yb(5),i.zc(e.systemInfo.os),i.yb(5),i.zc(e.systemInfo.pid),i.yb(4),i.dc("ngIf",!e.versionUrl),i.yb(1),i.dc("ngIf",e.versionUrl),i.yb(1),i.dc("ngIf",e.gitInstall),i.yb(1),i.dc("ngIf",e.gitInstall),i.yb(5),i.zc(e.systemInfo.systemEncoding),i.yb(5),i.zc(e.systemInfo.pythonVersion),i.yb(5),i.zc(e.systemInfo.pythonLocation),i.yb(5),i.zc(e.systemInfo.configFile),i.yb(5),i.zc(e.systemInfo.databaseFile),i.yb(5),i.zc(e.systemInfo.logFile),i.yb(6),i.ec("href",e.SOURCE_URL,i.sc),i.yb(1),i.zc(e.SOURCE_URL),i.yb(5),i.ec("href",e.ISSUES_URL,i.sc),i.yb(1),i.zc(e.ISSUES_URL),i.yb(5),i.ec("href",e.WIKI_URL,i.sc),i.yb(1),i.zc(e.WIKI_URL)}}function m(e,t){if(1&e&&i.Kb(0,"div",13),2&e){const e=i.Yb();i.dc("innerHTML",e.changelog,i.rc)}}let g=(()=>{class e{constructor(e,t,s){this.httpClient=e,this.systemService=t,this.messageService=s,this.NOT_AVAILABLE="N/A",this.CHANGELOG_URL="https://raw.githubusercontent.com/h3llrais3r/Auto-Subliminal/master/changelog.html",this.SOURCE_URL="https://github.com/h3llrais3r/Auto-Subliminal",this.ISSUES_URL=this.SOURCE_URL+"/issues",this.WIKI_URL=this.SOURCE_URL+"/wiki",this.gitInstall=!1}ngOnInit(){this.systemService.getSystemInfo().subscribe(e=>{this.systemInfo=e,this.systemInfo.installType===a.b.SOURCE?(this.version=this.systemInfo.currentVersion,this.versionUrl=this.systemInfo.currentVersionUrl):this.systemInfo.installType===a.b.GIT?(this.version=this.systemInfo.releaseVersion,this.gitInstall=!0):this.version=this.NOT_AVAILABLE},()=>this.messageService.showErrorMessage("Unable to get the system info!")),this.httpClient.get(this.CHANGELOG_URL,{responseType:"text"}).subscribe(e=>{this.changelog=this.parseChangelog(e)},()=>this.messageService.showErrorMessage("Unable to get the changelog!"))}parseChangelog(e){let t="";const s=(new DOMParser).parseFromString(e,"text/html").getElementsByClassName("release");return Array.from(s).forEach((e,s)=>{const n=e.getElementsByClassName("version")[0],b=e.getElementsByClassName("releasedate")[0],a=e.getElementsByClassName("changelog")[0];s>0&&(t+='<hr class="separator">'),t+='<div class="release">',t+='<div class="version-label">Version</div>'+n.outerHTML,t+='<div class="releasedate-label">Release date</div>'+b.outerHTML,t+='<div class="changelog-label">Changelog</div>'+a.outerHTML,t+="</div>"}),t}}return e.\u0275fac=function(t){return new(t||e)(i.Jb(c.a),i.Jb(r.a),i.Jb(o.a))},e.\u0275cmp=i.Db({type:e,selectors:[["app-system-info"]],decls:6,vars:2,consts:[[1,"container-lg"],["header","General"],["class","info-wrapper",4,"ngIf"],["header","Changelog"],["class","changelog-wrapper",3,"innerHTML",4,"ngIf"],[1,"info-wrapper"],[1,"info-item","row"],[1,"info-label","col-sm-12","col-md-4"],[1,"info","col-sm-12","col-md-8"],["class","info col-sm-12 col-md-8",4,"ngIf"],["class","info-item row",4,"ngIf"],[1,"separator"],["target","_blank",3,"href"],[1,"changelog-wrapper",3,"innerHTML"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.Pb(1,"p-tabView"),i.Pb(2,"p-tabPanel",1),i.wc(3,P,67,18,"div",2),i.Ob(),i.Pb(4,"p-tabPanel",3),i.wc(5,m,1,1,"div",4),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(3),i.dc("ngIf",t.systemInfo),i.yb(2),i.dc("ngIf",t.changelog))},directives:[l.b,l.a,y.j],styles:[".info-wrapper[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{margin-bottom:1rem}.info-wrapper[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-weight:500}.changelog-wrapper[_ngcontent-%COMP%]     .release .version{margin-bottom:1rem}.changelog-wrapper[_ngcontent-%COMP%]     .release .version-label{font-weight:500}.changelog-wrapper[_ngcontent-%COMP%]     .release .releasedate{margin-bottom:1rem}.changelog-wrapper[_ngcontent-%COMP%]     .release .releasedate-label{font-weight:500}.changelog-wrapper[_ngcontent-%COMP%]     .release .changelog{margin-bottom:1rem}.changelog-wrapper[_ngcontent-%COMP%]     .release .changelog-label{font-weight:500}"]}),e})();var v=s("hlSE"),f=s("7CaW"),u=s("rEr+"),I=s("7zfz");function w(e,t){1&e&&(i.Pb(0,"tr"),i.Pb(1,"th",7),i.Pb(2,"span"),i.yc(3,"Name"),i.Kb(4,"p-sortIcon",8),i.Ob(),i.Ob(),i.Pb(5,"th",9),i.Pb(6,"span"),i.yc(7,"Active"),i.Kb(8,"p-sortIcon",10),i.Ob(),i.Ob(),i.Pb(9,"th",11),i.Pb(10,"span"),i.yc(11,"Alive"),i.Kb(12,"p-sortIcon",12),i.Ob(),i.Ob(),i.Pb(13,"th",13),i.Pb(14,"span"),i.yc(15,"Interval"),i.Kb(16,"p-sortIcon",14),i.Ob(),i.Ob(),i.Pb(17,"th",15),i.Pb(18,"span"),i.yc(19,"Last run"),i.Kb(20,"p-sortIcon",16),i.Ob(),i.Ob(),i.Pb(21,"th",17),i.Pb(22,"span"),i.yc(23,"Next run"),i.Kb(24,"p-sortIcon",18),i.Ob(),i.Ob(),i.Ob())}const S=function(e){return{"scheduler-running":e}};function C(e,t){if(1&e&&(i.Pb(0,"tr",19),i.Pb(1,"td"),i.Pb(2,"span",20),i.yc(3,"Name"),i.Ob(),i.Pb(4,"span",21),i.yc(5),i.Ob(),i.Ob(),i.Pb(6,"td"),i.Pb(7,"span",20),i.yc(8,"Active"),i.Ob(),i.Pb(9,"span",21),i.yc(10),i.Ob(),i.Ob(),i.Pb(11,"td"),i.Pb(12,"span",20),i.yc(13,"Alive"),i.Ob(),i.Pb(14,"span",21),i.yc(15),i.Ob(),i.Ob(),i.Pb(16,"td"),i.Pb(17,"span",20),i.yc(18,"Interval"),i.Ob(),i.Pb(19,"span",21),i.yc(20),i.Ob(),i.Ob(),i.Pb(21,"td"),i.Pb(22,"span",20),i.yc(23,"Last Run"),i.Ob(),i.Pb(24,"span",21),i.yc(25),i.Ob(),i.Ob(),i.Pb(26,"td"),i.Pb(27,"span",20),i.yc(28,"Next run"),i.Ob(),i.Pb(29,"span",21),i.yc(30),i.Ob(),i.Ob(),i.Ob()),2&e){const e=t.$implicit;i.dc("ngClass",i.gc(7,S,e.running)),i.yb(5),i.zc(e.name),i.yb(5),i.zc(e.active),i.yb(5),i.zc(e.alive),i.yb(5),i.zc(e.intervalFormatted),i.yb(5),i.zc(e.lastRunFormatted),i.yb(5),i.zc(e.running?"Running":e.nextRunFormatted)}}function L(e,t){1&e&&(i.Pb(0,"tr"),i.Pb(1,"th",7),i.Pb(2,"span"),i.yc(3,"Name"),i.Kb(4,"p-sortIcon",8),i.Ob(),i.Ob(),i.Pb(5,"th",22),i.Pb(6,"span"),i.yc(7,"Path"),i.Kb(8,"p-sortIcon",23),i.Ob(),i.Ob(),i.Pb(9,"th",24),i.Pb(10,"span"),i.yc(11,"Free space"),i.Kb(12,"p-sortIcon",25),i.Ob(),i.Ob(),i.Ob())}function U(e,t){1&e&&i.Kb(0,"i",28)}function R(e,t){if(1&e&&(i.Pb(0,"tr"),i.Pb(1,"td"),i.Pb(2,"span",20),i.yc(3,"Name"),i.Ob(),i.Pb(4,"span",21),i.yc(5),i.Ob(),i.Ob(),i.Pb(6,"td"),i.Pb(7,"span",20),i.yc(8,"Path"),i.Ob(),i.Pb(9,"span",26),i.yc(10),i.Ob(),i.Ob(),i.Pb(11,"td"),i.Pb(12,"span",20),i.yc(13,"Free space"),i.Ob(),i.Pb(14,"span",21),i.yc(15),i.wc(16,U,1,0,"i",27),i.Ob(),i.Ob(),i.Ob()),2&e){const e=t.$implicit;i.yb(5),i.zc(e.name),i.yb(5),i.zc(e.path),i.yb(5),i.zc(e.freeSpaceFormatted),i.yb(1),i.dc("ngIf",e.freePercentage<10)}}const E=[{path:"",redirectTo:"info",pathMatch:"full"},{path:"info",component:g},{path:"status",component:(()=>{class e{constructor(e,t,s){this.systemService=e,this.systemEventService=t,this.messageService=s}ngOnInit(){this.systemService.getSchedulers().subscribe(e=>{this.schedulers=e,this.systemEventService.schedulerStart.subscribe(e=>{this.schedulers=this.schedulers.map(t=>t.name===e.name?e:t)}),this.systemEventService.schedulerFinish.subscribe(e=>{this.schedulers=this.schedulers.map(t=>t.name===e.name?e:t)})},()=>this.messageService.showErrorMessage("Unable to get the system schedulers!")),this.systemService.getPaths().subscribe(e=>{this.paths=e},()=>this.messageService.showErrorMessage("Unable to get the system paths!"))}}return e.\u0275fac=function(t){return new(t||e)(i.Jb(r.a),i.Jb(v.a),i.Jb(o.a))},e.\u0275cmp=i.Db({type:e,selectors:[["app-system-status"]],decls:14,vars:6,consts:[[1,"container-lg"],["header","Status"],[1,"panel-section"],[1,"panel-section-header"],["styleClass","p-datatable-sm p-datatable-gridlines p-datatable-striped p-datatable-responsive-mode",3,"value","autoLayout","rowHover"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","name"],["field","name"],["pSortableColumn","active"],["field","active"],["pSortableColumn","alive"],["field","alive"],["pSortableColumn","interval"],["field","interval"],["pSortableColumn","lastRun"],["field","lastRun"],["pSortableColumn","nextRun"],["field","nextRun"],[3,"ngClass"],[1,"p-column-title"],[1,"p-column-data"],["pSortableColumn","path"],["field","path"],["pSortableColumn","freeBytes"],["field","freeBytes"],[1,"p-column-data","wrap-text"],["class","fa fa-exclamation-triangle text-danger ml-1","title","Low disk space",4,"ngIf"],["title","Low disk space",1,"fa","fa-exclamation-triangle","text-danger","ml-1"]],template:function(e,t){1&e&&(i.Pb(0,"div",0),i.Pb(1,"p-panel",1),i.Pb(2,"div",2),i.Pb(3,"div",3),i.yc(4,"Schedulers"),i.Ob(),i.Pb(5,"p-table",4),i.wc(6,w,25,0,"ng-template",5),i.wc(7,C,31,9,"ng-template",6),i.Ob(),i.Ob(),i.Pb(8,"div",2),i.Pb(9,"div",3),i.yc(10,"Paths"),i.Ob(),i.Pb(11,"p-table",4),i.wc(12,L,13,0,"ng-template",5),i.wc(13,R,17,4,"ng-template",6),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.yb(5),i.dc("value",t.schedulers)("autoLayout",!0)("rowHover",!0),i.yb(6),i.dc("value",t.paths)("autoLayout",!0)("rowHover",!0))},directives:[f.a,u.c,I.f,u.b,u.a,y.h,y.j],styles:[".scheduler-running[_ngcontent-%COMP%]{background-color:var(--success)!important}"]}),e})()},{path:"**",redirectTo:"info"}];let _=(()=>{class e{}return e.\u0275mod=i.Hb({type:e}),e.\u0275inj=i.Gb({factory:function(t){return new(t||e)},imports:[[b.e.forChild(E)],b.e]}),e})(),z=(()=>{class e{}return e.\u0275mod=i.Hb({type:e}),e.\u0275inj=i.Gb({factory:function(t){return new(t||e)},imports:[[n.a,_]]}),e})()}}]);