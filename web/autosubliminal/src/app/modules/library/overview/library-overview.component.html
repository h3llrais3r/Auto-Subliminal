<div class="container">
  <p-panel header="Library overview">
    <!-- Library scanner running -->
    <div class="row" *ngIf="scanningInProgress">
      <div class="col-12 mb-3">
        <p-messages severity="info">
          <ng-template pTemplate>
            <i class="pi pi-spin pi-spinner mr-2" aria-hidden="true"></i>
            <span>Scanning library...</span>
          </ng-template>
        </p-messages>
      </div>
    </div>
    <!-- Overview -->
    <div class="row">
      <!-- Shows overview -->
      <div *ngIf="showsOverview" class="col-12 col-sm-12 col-md-6 col-lg-6 mb-3 mb-sm-3 mb-md-0 mb-lg-0">
        <div class="overview-container">
          <div class="overview-data">
            <a [routerLink]="['/library/shows']">
              <img src="assets/shows.jpg" class="overview-image image-hover" title="Click to view shows">
            </a>
          </div>
          <div class="overview-data">
            <span>
              <span>Total shows: {{showsOverview.totalShows}}</span>
              <app-icon-dropdown iconClass="pi pi-fw pi-vm pi-exclamation-triangle text-danger" *ngIf="showsOverview.failedShows.length > 0">
                <li><span class="icon-dropdown-title">List of failed shows:</span></li>
                <hr>
                <li *ngFor="let failedShow of showsOverview.failedShows"><span>{{failedShow}}</span></li>
              </app-icon-dropdown>
            </span>
            <span>Total episodes: {{showsOverview.totalEpisodes}}</span>
          </div>
          <div class="overview-data">
            <span>Total subtitles available:</span>
          </div>
          <div class="overview-data">
            <app-progress-bar class="w-100" [value]="showsOverview.totalSubtitlesAvailable" [total]="showsOverview.totalSubtitlesWanted"></app-progress-bar>
          </div>
        </div>
      </div>
      <!-- Movies overview -->
      <div *ngIf="moviesOverview" class="col-12 col-sm-12 col-md-6 col-lg-6">
        <div class="overview-container">
          <div class="overview-data">
            <a [routerLink]="['/library/movies']">
              <img src="assets/movies.jpg" class="overview-image image-hover" title="Click to view movies">
            </a>
          </div>
          <div class="overview-data">
            <span>
              <span>Total movies: {{moviesOverview.totalMovies}}</span>
              <app-icon-dropdown iconClass="pi pi-fw pi-vm pi-exclamation-triangle text-danger" *ngIf="moviesOverview.failedMovies.length > 0">
                <li><span class="icon-dropdown-title">List of failed movies:</span></li>
                <hr>
                <li *ngFor="let failedMovie of moviesOverview.failedMovies"><span>{{failedMovie}}</span></li>
              </app-icon-dropdown>
            </span>
          </div>
          <div class="overview-data">
            <span>Total subtitles available:</span>
          </div>
          <div class="overview-data">
            <app-progress-bar class="w-100" [value]="moviesOverview.totalSubtitlesAvailable" [total]="moviesOverview.totalSubtitlesWanted"></app-progress-bar>
          </div>
        </div>
      </div>
    </div>
  </p-panel>
</div>
