"use strict";!function(i){PubSub.subscribe(i.settings.LOADED,function(){i.library.checkScannerRunning(),PubSub.subscribe(i.websockets.PROCESS_STARTED,i.library.scannerStartedEventSubscriber),PubSub.subscribe(i.websockets.PROCESS_FINISHED,i.library.scannerFinishedEventSubscriber),window.Vue.component("library-movies",{data:function(){return{movies:[],posterThumbnailUrl:i.getUrl("/artwork/imdb/poster/thumbnail/")}},created:function(){},mounted:function(){this.getMovies()},updated:function(){this.setupMovies(),i.vue.styleProgressBar()},methods:{getMovies:function(){var t=this;$.get(i.getUrl("/api/movies"),function(e){t.movies=e})},setupMovies:function(){$("#movies").tablesorter({debug:!1,widgets:["reflow","filter","saveSort"],widgetOptions:{filter_columnFilters:!1,filter_external:".movies-filter",filter_searchDelay:50,filter_saveFilters:!0,filter_reset:".movies-filter-reset"},dateFormat:i.TABLESORTER_DATE_FORMAT,headers:{0:{sorter:"text"}},sortList:[[0,0]],textExtraction:{0:function(e,t,i){return $(e).find("a").attr("title")}},initialized:function(){var e=$("#movies");e.find(".loading-row").remove(),e.find(".content-row").removeClass("hidden"),e.trigger("update")}}).tablesorterPager({container:$("#moviesPager"),output:"{startRow} to {endRow} ({filteredRows})"}),$(".movies-filter-reset").on("click",function(){$(this).prev("input").val("").focus(),$.tablesorter.storage($("#movies"),"tablesorter-filters","")})},getMovieDetailsUrl:function(e){return i.getUrl("/library/movies/"+e)},getMovieProgressPercentage:function(e){return e.total_subtitles_available/e.total_subtitles_wanted*100},getMovieProgressText:function(e){return e.total_subtitles_available+" of "+e.total_subtitles_wanted}}}),window.Vue.use(window.VueLazyload),new window.Vue({el:"#app"})})}(autosubliminal);