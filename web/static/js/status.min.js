"use strict";!function(s){PubSub.subscribe(s.websockets.PROCESS_STARTED,function(e,t){var n=$("#scheduler").find("#"+t.name);n.children(".scheduler-next-run").text("Running..."),n.addClass("scheduler-running")});PubSub.subscribe(s.websockets.PROCESS_FINISHED,function(e,t){var n=$("#scheduler").find("#"+t.name);n.children(".scheduler-alive").text(t.alive),n.children(".scheduler-active").text(t.active),n.children(".scheduler-last-run").text(strftime(s.TIMESTAMP_FORMAT,new Date(t.lastRun))),n.children(".scheduler-next-run").text(strftime(s.TIMESTAMP_FORMAT,new Date(t.nextRun))),n.removeClass("scheduler-running")}),PubSub.subscribe(s.settings.LOADED,function(){window.Vue.component("status",{data:function(){return{schedulers:null,diskusage:null}},created:function(){},mounted:function(){this.getSchedulers(),this.getDiskUsage()},updated:function(){this.setupStatus()},methods:{getSchedulers:function(){var t=this;$.get(s.getUrl("/api/schedulers"),function(e){t.schedulers=e})},getDiskUsage:function(){var t=this;$.get(s.getUrl("/api/settings/diskusage"),function(e){t.diskusage=e})},setupStatus:function(){$("#scheduler").tablesorter({widgets:["reflow","saveSort"],sortList:[[0,0]],dateFormat:s.TABLESORTER_DATE_FORMAT,initialized:function(){var e=$("#scheduler");e.find(".loading-row").remove(),e.find(".content-row").removeClass("hidden"),e.trigger("update")}}),$("#diskusage").tablesorter({widgets:["reflow","saveSort"],sortList:[[0,0]],initialized:function(){var e=$("#diskusage");e.find(".loading-row").remove(),e.find(".content-row").removeClass("hidden"),e.trigger("update")}})},formatDateTime:s.vue.formatDateTime,formatDuration:s.vue.formatDuration}}),new window.Vue({el:"#app"})})}(autosubliminal);